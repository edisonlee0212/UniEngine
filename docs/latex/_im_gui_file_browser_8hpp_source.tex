\hypertarget{_im_gui_file_browser_8hpp_source}{}\doxysection{Im\+Gui\+File\+Browser.\+hpp}
\label{_im_gui_file_browser_8hpp_source}\index{C:/Users/lllll/Documents/GitHub/UniEngine/include/lib/Engine/Editor/ImGuiFileBrowser.hpp@{C:/Users/lllll/Documents/GitHub/UniEngine/include/lib/Engine/Editor/ImGuiFileBrowser.hpp}}
\mbox{\hyperlink{_im_gui_file_browser_8hpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{preprocessor}{\#pragma once}}
\DoxyCodeLine{2 \textcolor{preprocessor}{\#include <\mbox{\hyperlink{_gui_8hpp}{Gui.hpp}}>}}
\DoxyCodeLine{3 \textcolor{preprocessor}{\#include <uniengine\_export.h>}}
\DoxyCodeLine{4 \textcolor{keyword}{namespace }\mbox{\hyperlink{namespaceimgui__addons}{imgui\_addons}}}
\DoxyCodeLine{5 \{}
\DoxyCodeLine{6 \textcolor{keyword}{class }UNIENGINE\_API \mbox{\hyperlink{classimgui__addons_1_1_im_gui_file_browser}{ImGuiFileBrowser}}}
\DoxyCodeLine{7 \{}
\DoxyCodeLine{8   \textcolor{keyword}{public}:}
\DoxyCodeLine{9     \mbox{\hyperlink{classimgui__addons_1_1_im_gui_file_browser}{ImGuiFileBrowser}}();}
\DoxyCodeLine{10     \mbox{\hyperlink{classimgui__addons_1_1_im_gui_file_browser}{\string~ImGuiFileBrowser}}();}
\DoxyCodeLine{11 }
\DoxyCodeLine{12     \textcolor{keyword}{enum class} \mbox{\hyperlink{classimgui__addons_1_1_im_gui_file_browser_a0a36e769b25fd4e23da12931a503ffb3}{DialogMode}}}
\DoxyCodeLine{13     \{}
\DoxyCodeLine{14         SELECT, \textcolor{comment}{// Select Directory Mode}}
\DoxyCodeLine{15         OPEN,   \textcolor{comment}{// Open File mode}}
\DoxyCodeLine{16         SAVE    \textcolor{comment}{// Save File mode.}}
\DoxyCodeLine{17     \};}
\DoxyCodeLine{18 }
\DoxyCodeLine{19     \textcolor{comment}{/* Use this to show an open file dialog. The function takes label for the window,}}
\DoxyCodeLine{20 \textcolor{comment}{     * the size, a DialogMode enum value defining in which mode the dialog should operate and optionally the extensions}}
\DoxyCodeLine{21 \textcolor{comment}{     * that are valid for opening. Note that the select directory mode doesn't need any extensions.}}
\DoxyCodeLine{22 \textcolor{comment}{     */}}
\DoxyCodeLine{23     \textcolor{keywordtype}{bool} showFileDialog(}
\DoxyCodeLine{24         \textcolor{keyword}{const} std::string \&label,}
\DoxyCodeLine{25         \textcolor{keyword}{const} DialogMode mode,}
\DoxyCodeLine{26         \textcolor{keyword}{const} ImVec2 \&sz\_xy = ImVec2(0, 0),}
\DoxyCodeLine{27         \textcolor{keyword}{const} std::string \&valid\_types = \textcolor{stringliteral}{"{}*.*"{}});}
\DoxyCodeLine{28 }
\DoxyCodeLine{29     \textcolor{comment}{/* Store the opened/saved file name or dir name (incase of selectDirectoryDialog) and the absolute path to the}}
\DoxyCodeLine{30 \textcolor{comment}{     * selection Should only be accessed when above functions return true else may contain garbage.}}
\DoxyCodeLine{31 \textcolor{comment}{     */}}
\DoxyCodeLine{32     std::string \mbox{\hyperlink{classimgui__addons_1_1_im_gui_file_browser_a7a06d70ff15e3bd44808920192766504}{selected\_fn}};}
\DoxyCodeLine{33     std::string \mbox{\hyperlink{classimgui__addons_1_1_im_gui_file_browser_a301654aba31cb888901dce779b6a9ce6}{selected\_path}};}
\DoxyCodeLine{34     std::string \mbox{\hyperlink{classimgui__addons_1_1_im_gui_file_browser_a7d2d0f9e7f067b3ab60ea4fb75cb8e23}{ext}}; \textcolor{comment}{// Store the saved file extension}}
\DoxyCodeLine{35 }
\DoxyCodeLine{36   \textcolor{keyword}{private}:}
\DoxyCodeLine{37     \textcolor{keyword}{struct }Info}
\DoxyCodeLine{38     \{}
\DoxyCodeLine{39         Info(std::string name, \textcolor{keywordtype}{bool} is\_hidden) : name(name), is\_hidden(is\_hidden)}
\DoxyCodeLine{40         \{}
\DoxyCodeLine{41         \}}
\DoxyCodeLine{42         std::string name;}
\DoxyCodeLine{43         \textcolor{keywordtype}{bool} is\_hidden;}
\DoxyCodeLine{44     \};}
\DoxyCodeLine{45 }
\DoxyCodeLine{46     \textcolor{comment}{// Enum used as bit flags.}}
\DoxyCodeLine{47     \textcolor{keyword}{enum} FilterMode}
\DoxyCodeLine{48     \{}
\DoxyCodeLine{49         FilterMode\_Files = 0x01,}
\DoxyCodeLine{50         FilterMode\_Dirs = 0x02}
\DoxyCodeLine{51     \};}
\DoxyCodeLine{52 }
\DoxyCodeLine{53     \textcolor{comment}{// Helper Functions}}
\DoxyCodeLine{54     \textcolor{keyword}{static} std::string wStringToString(\textcolor{keyword}{const} \textcolor{keywordtype}{wchar\_t} *wchar\_arr);}
\DoxyCodeLine{55     \textcolor{keyword}{static} \textcolor{keywordtype}{bool} alphaSortComparator(\textcolor{keyword}{const} Info \&a, \textcolor{keyword}{const} Info \&b);}
\DoxyCodeLine{56     ImVec2 getButtonSize(std::string button\_text);}
\DoxyCodeLine{57 }
\DoxyCodeLine{58     \textcolor{comment}{/* Helper Functions that render secondary modals}}
\DoxyCodeLine{59 \textcolor{comment}{     * and help in validating file extensions and for filtering, parsing top navigation bar.}}
\DoxyCodeLine{60 \textcolor{comment}{     */}}
\DoxyCodeLine{61     \textcolor{keywordtype}{void} setValidExtTypes(\textcolor{keyword}{const} std::string \&valid\_types\_string);}
\DoxyCodeLine{62     \textcolor{keywordtype}{bool} validateFile();}
\DoxyCodeLine{63     \textcolor{keywordtype}{void} showErrorModal();}
\DoxyCodeLine{64     \textcolor{keywordtype}{void} showInvalidFileModal();}
\DoxyCodeLine{65     \textcolor{keywordtype}{bool} showReplaceFileModal();}
\DoxyCodeLine{66     \textcolor{keywordtype}{void} showHelpMarker(std::string desc);}
\DoxyCodeLine{67     \textcolor{keywordtype}{void} parsePathTabs(std::string str);}
\DoxyCodeLine{68     \textcolor{keywordtype}{void} filterFiles(\textcolor{keywordtype}{int} filter\_mode);}
\DoxyCodeLine{69 }
\DoxyCodeLine{70     \textcolor{comment}{/* Core Functions that render the 4 different regions making up}}
\DoxyCodeLine{71 \textcolor{comment}{     * a simple file dialog}}
\DoxyCodeLine{72 \textcolor{comment}{     */}}
\DoxyCodeLine{73     \textcolor{keywordtype}{bool} renderNavAndSearchBarRegion();}
\DoxyCodeLine{74     \textcolor{keywordtype}{bool} renderFileListRegion();}
\DoxyCodeLine{75     \textcolor{keywordtype}{bool} renderInputTextAndExtRegion();}
\DoxyCodeLine{76     \textcolor{keywordtype}{bool} renderButtonsAndCheckboxRegion();}
\DoxyCodeLine{77     \textcolor{keywordtype}{bool} renderInputComboBox();}
\DoxyCodeLine{78     \textcolor{keywordtype}{void} renderExtBox();}
\DoxyCodeLine{79 }
\DoxyCodeLine{80     \textcolor{comment}{/* Core Functions that handle navigation and}}
\DoxyCodeLine{81 \textcolor{comment}{     * reading directories/files}}
\DoxyCodeLine{82 \textcolor{comment}{     */}}
\DoxyCodeLine{83     \textcolor{keywordtype}{bool} readDIR(std::string path);}
\DoxyCodeLine{84     \textcolor{keywordtype}{bool} onNavigationButtonClick(\textcolor{keywordtype}{int} idx);}
\DoxyCodeLine{85     \textcolor{keywordtype}{bool} onDirClick(\textcolor{keywordtype}{int} idx);}
\DoxyCodeLine{86 }
\DoxyCodeLine{87     \textcolor{comment}{// Functions that reset state and/or clear file list when reading new directory}}
\DoxyCodeLine{88     \textcolor{keywordtype}{void} clearFileList();}
\DoxyCodeLine{89     \textcolor{keywordtype}{void} closeDialog();}
\DoxyCodeLine{90 }
\DoxyCodeLine{91 \textcolor{preprocessor}{\#if defined(WIN32) || defined(\_WIN32) || defined(\_\_WIN32)}}
\DoxyCodeLine{92     \textcolor{keywordtype}{bool} loadWindowsDrives(); \textcolor{comment}{// Helper Function for Windows to load Drive Letters.}}
\DoxyCodeLine{93 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{94 }
\DoxyCodeLine{95 \textcolor{preprocessor}{\#if defined(unix) || defined(\_\_unix\_\_) || defined(\_\_unix) || defined(\_\_APPLE\_\_)}}
\DoxyCodeLine{96     \textcolor{keywordtype}{void} initCurrentPath(); \textcolor{comment}{// Helper function for UNIX based system to load Absolute path using realpath}}
\DoxyCodeLine{97 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{98 }
\DoxyCodeLine{99     ImVec2 min\_size, max\_size, input\_combobox\_pos, input\_combobox\_sz;}
\DoxyCodeLine{100     DialogMode dialog\_mode;}
\DoxyCodeLine{101     \textcolor{keywordtype}{int} filter\_mode, col\_items\_limit, selected\_idx, selected\_ext\_idx;}
\DoxyCodeLine{102     \textcolor{keywordtype}{float} col\_width, ext\_box\_width;}
\DoxyCodeLine{103     \textcolor{keywordtype}{bool} show\_hidden, show\_inputbar\_combobox, is\_dir, is\_appearing, filter\_dirty, validate\_file,}
\DoxyCodeLine{104         show\_files\_with\_valid\_extensions, show\_all\_files;}
\DoxyCodeLine{105     \textcolor{keywordtype}{char} input\_fn[256];}
\DoxyCodeLine{106 }
\DoxyCodeLine{107     std::vector<std::string> valid\_exts;}
\DoxyCodeLine{108     std::vector<std::string> current\_dirlist;}
\DoxyCodeLine{109     std::vector<Info> subdirs;}
\DoxyCodeLine{110     std::vector<Info> subfiles;}
\DoxyCodeLine{111     std::string current\_path, error\_msg, error\_title, invfile\_modal\_id, repfile\_modal\_id;}
\DoxyCodeLine{112 }
\DoxyCodeLine{113     ImGuiTextFilter filter;}
\DoxyCodeLine{114     std::string valid\_types;}
\DoxyCodeLine{115     std::vector<const Info *> filtered\_dirs; \textcolor{comment}{// Note: We don't need to call delete. It's just for storing filtered items}}
\DoxyCodeLine{116                                              \textcolor{comment}{// from subdirs and subfiles so we don't use PassFilter every frame.}}
\DoxyCodeLine{117     std::vector<const Info *> filtered\_files;}
\DoxyCodeLine{118     std::vector<std::reference\_wrapper<std::string>> inputcb\_filter\_files;}
\DoxyCodeLine{119 \};}
\DoxyCodeLine{120 \} \textcolor{comment}{// namespace imgui\_addons}}

\end{DoxyCode}
