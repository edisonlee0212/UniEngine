\hypertarget{_entity_manager_8hpp_source}{}\doxysection{Entity\+Manager.\+hpp}
\label{_entity_manager_8hpp_source}\index{C:/Users/lllll/Documents/GitHub/UniEngine/include/lib/Engine/Managers/EntityManager.hpp@{C:/Users/lllll/Documents/GitHub/UniEngine/include/lib/Engine/Managers/EntityManager.hpp}}
\mbox{\hyperlink{_entity_manager_8hpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{preprocessor}{\#pragma once}}
\DoxyCodeLine{2 \textcolor{preprocessor}{\#include <\mbox{\hyperlink{_console_manager_8hpp}{ConsoleManager.hpp}}>}}
\DoxyCodeLine{3 \textcolor{preprocessor}{\#include <\mbox{\hyperlink{_entity_8hpp}{Entity.hpp}}>}}
\DoxyCodeLine{4 \textcolor{preprocessor}{\#include <\mbox{\hyperlink{_entity_metadata_8hpp}{EntityMetadata.hpp}}>}}
\DoxyCodeLine{5 \textcolor{preprocessor}{\#include <\mbox{\hyperlink{_i_private_component_8hpp}{IPrivateComponent.hpp}}>}}
\DoxyCodeLine{6 \textcolor{preprocessor}{\#include <\mbox{\hyperlink{_i_serializable_8hpp}{ISerializable.hpp}}>}}
\DoxyCodeLine{7 \textcolor{preprocessor}{\#include <\mbox{\hyperlink{_i_singleton_8hpp}{ISingleton.hpp}}>}}
\DoxyCodeLine{8 \textcolor{preprocessor}{\#include <\mbox{\hyperlink{_i_system_8hpp}{ISystem.hpp}}>}}
\DoxyCodeLine{9 \textcolor{preprocessor}{\#include <\mbox{\hyperlink{_job_manager_8hpp}{JobManager.hpp}}>}}
\DoxyCodeLine{10 \textcolor{preprocessor}{\#include <\mbox{\hyperlink{_scene_8hpp}{Scene.hpp}}>}}
\DoxyCodeLine{11 \textcolor{preprocessor}{\#include <\mbox{\hyperlink{_serialization_manager_8hpp}{SerializationManager.hpp}}>}}
\DoxyCodeLine{12 \textcolor{preprocessor}{\#include <\mbox{\hyperlink{_transform_8hpp}{Transform.hpp}}>}}
\DoxyCodeLine{13 }
\DoxyCodeLine{14 \textcolor{keyword}{namespace }\mbox{\hyperlink{namespace_uni_engine}{UniEngine}}}
\DoxyCodeLine{15 \{}
\DoxyCodeLine{16 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T> \mbox{\hyperlink{struct_uni_engine_1_1_data_component_type}{DataComponentType}} \mbox{\hyperlink{namespace_uni_engine_afa8b87ffea6b0151ba12c3ecd64b074d}{Typeof}}()}
\DoxyCodeLine{17 \{}
\DoxyCodeLine{18     \mbox{\hyperlink{struct_uni_engine_1_1_data_component_type}{DataComponentType}} type;}
\DoxyCodeLine{19     type.\mbox{\hyperlink{struct_uni_engine_1_1_data_component_type_a3714269710400c89066106602bea80bd}{m\_name}} = SerializationManager::GetDataComponentTypeName<T>();}
\DoxyCodeLine{20     type.\mbox{\hyperlink{struct_uni_engine_1_1_data_component_type_add8de3bb348fe3322c4f0e49087e6053}{m\_size}} = \textcolor{keyword}{sizeof}(T);}
\DoxyCodeLine{21     type.\mbox{\hyperlink{struct_uni_engine_1_1_data_component_type_a489f45b1dbcd26dedb98c59c053a4cba}{m\_offset}} = 0;}
\DoxyCodeLine{22     type.\mbox{\hyperlink{struct_uni_engine_1_1_data_component_type_a762fca216e3ce2e7bacc88aee695dacd}{m\_typeId}} = \textcolor{keyword}{typeid}(T).hash\_code();}
\DoxyCodeLine{23     \textcolor{keywordflow}{return} type;}
\DoxyCodeLine{24 \}}
\DoxyCodeLine{25 \textcolor{keyword}{inline} UNIENGINE\_API \textcolor{keywordtype}{bool} \mbox{\hyperlink{namespace_uni_engine_a5c6de04cdff3b3d963ead0089861401e}{ComponentTypeComparator}}(\textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_data_component_type}{DataComponentType}} \&a, \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_data_component_type}{DataComponentType}} \&b)}
\DoxyCodeLine{26 \{}
\DoxyCodeLine{27     \textcolor{keywordflow}{return} a.\mbox{\hyperlink{struct_uni_engine_1_1_data_component_type_a762fca216e3ce2e7bacc88aee695dacd}{m\_typeId}} < b.\mbox{\hyperlink{struct_uni_engine_1_1_data_component_type_a762fca216e3ce2e7bacc88aee695dacd}{m\_typeId}};}
\DoxyCodeLine{28 \}}
\DoxyCodeLine{29 \textcolor{preprocessor}{\#pragma region EntityManager}}
\DoxyCodeLine{30 }
\DoxyCodeLine{31 \textcolor{keyword}{class }UNIENGINE\_API \mbox{\hyperlink{class_uni_engine_1_1_entity_manager}{EntityManager}} final : \mbox{\hyperlink{class_uni_engine_1_1_i_singleton}{ISingleton}}<EntityManager>}
\DoxyCodeLine{32 \{}
\DoxyCodeLine{33     \textcolor{keyword}{friend} \textcolor{keyword}{class }\mbox{\hyperlink{class_uni_engine_1_1_physics_system}{PhysicsSystem}};}
\DoxyCodeLine{34     \textcolor{keyword}{friend} \textcolor{keyword}{class }PrefabHolder;}
\DoxyCodeLine{35     \textcolor{keyword}{friend} \textcolor{keyword}{class }\mbox{\hyperlink{class_uni_engine_1_1_private_component_storage}{PrivateComponentStorage}};}
\DoxyCodeLine{36     \textcolor{keyword}{friend} \textcolor{keyword}{class }\mbox{\hyperlink{class_uni_engine_1_1_transform_manager}{TransformManager}};}
\DoxyCodeLine{37     \textcolor{keyword}{friend} \textcolor{keyword}{class }\mbox{\hyperlink{class_uni_engine_1_1_editor_manager}{EditorManager}};}
\DoxyCodeLine{38     \textcolor{keyword}{friend} \textcolor{keyword}{class }\mbox{\hyperlink{class_uni_engine_1_1_scene}{Scene}};}
\DoxyCodeLine{39     \textcolor{keyword}{friend} \textcolor{keyword}{class }\mbox{\hyperlink{class_uni_engine_1_1_serialization_manager}{SerializationManager}};}
\DoxyCodeLine{40     \textcolor{keyword}{friend} \textcolor{keyword}{struct }\mbox{\hyperlink{struct_uni_engine_1_1_entity_archetype}{EntityArchetype}};}
\DoxyCodeLine{41     \textcolor{keyword}{friend} \textcolor{keyword}{struct }\mbox{\hyperlink{struct_uni_engine_1_1_entity_query}{EntityQuery}};}
\DoxyCodeLine{42     \textcolor{keyword}{friend} \textcolor{keyword}{struct }\mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}};}
\DoxyCodeLine{43     \textcolor{keyword}{friend} \textcolor{keyword}{struct }Application;}
\DoxyCodeLine{44     \textcolor{keyword}{friend} \textcolor{keyword}{struct }\mbox{\hyperlink{class_uni_engine_1_1_asset_manager}{AssetManager}};}
\DoxyCodeLine{45     \textcolor{keyword}{friend} \textcolor{keyword}{struct }\mbox{\hyperlink{class_uni_engine_1_1_private_component_ref}{PrivateComponentRef}};}
\DoxyCodeLine{46     \textcolor{keyword}{friend} \textcolor{keyword}{class }\mbox{\hyperlink{class_uni_engine_1_1_prefab}{Prefab}};}
\DoxyCodeLine{47     \textcolor{keywordtype}{size\_t} m\_archetypeChunkSize = \mbox{\hyperlink{namespace_uni_engine_a03770b468364d3c4da4d3e5c0164fcc0}{ARCHETYPE\_CHUNK\_SIZE}};}
\DoxyCodeLine{48     \mbox{\hyperlink{struct_uni_engine_1_1_entity_archetype}{EntityArchetype}} m\_basicArchetype = \mbox{\hyperlink{struct_uni_engine_1_1_entity_archetype}{EntityArchetype}}();}
\DoxyCodeLine{49 }
\DoxyCodeLine{50     std::vector<EntityArchetypeInfo> m\_entityArchetypeInfos;}
\DoxyCodeLine{51     std::vector<EntityQueryInfo> m\_entityQueryInfos;}
\DoxyCodeLine{52 \textcolor{preprocessor}{\#pragma region Data Storage}}
\DoxyCodeLine{53     std::shared\_ptr<Scene> m\_scene;}
\DoxyCodeLine{54 \textcolor{preprocessor}{\#pragma endregion}}
\DoxyCodeLine{55 \textcolor{preprocessor}{\#pragma region Helpers}}
\DoxyCodeLine{56     \textcolor{keyword}{template} <\textcolor{keyword}{typename} T = IDataComponent> \textcolor{keyword}{static} \textcolor{keywordtype}{bool} CheckDataComponentTypes(T arg);}
\DoxyCodeLine{57     \textcolor{keyword}{template} <\textcolor{keyword}{typename} T = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}}, \textcolor{keyword}{typename}... Ts> \textcolor{keyword}{static} \textcolor{keywordtype}{bool} CheckDataComponentTypes(T arg, Ts... args);}
\DoxyCodeLine{58     \textcolor{keyword}{template} <\textcolor{keyword}{typename} T = IDataComponent>}
\DoxyCodeLine{59     \textcolor{keyword}{static} \textcolor{keywordtype}{size\_t} CollectDataComponentTypes(std::vector<DataComponentType> *componentTypes, T arg);}
\DoxyCodeLine{60     \textcolor{keyword}{template} <\textcolor{keyword}{typename} T = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}}, \textcolor{keyword}{typename}... Ts>}
\DoxyCodeLine{61     \textcolor{keyword}{static} \textcolor{keywordtype}{size\_t} CollectDataComponentTypes(std::vector<DataComponentType> *componentTypes, T arg, Ts... args);}
\DoxyCodeLine{62     \textcolor{keyword}{template} <\textcolor{keyword}{typename} T = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}}, \textcolor{keyword}{typename}... Ts>}
\DoxyCodeLine{63     \textcolor{keyword}{static} std::vector<DataComponentType> CollectDataComponentTypes(T arg, Ts... args);}
\DoxyCodeLine{64     \textcolor{keyword}{static} \textcolor{keywordtype}{void} DeleteEntityInternal(\textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene, \textcolor{keywordtype}{unsigned} entityIndex);}
\DoxyCodeLine{65 }
\DoxyCodeLine{66     \textcolor{keyword}{static} std::vector<std::reference\_wrapper<DataComponentStorage>> QueryDataComponentStorages(}
\DoxyCodeLine{67         \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene, \textcolor{keywordtype}{unsigned} entityQueryIndex);}
\DoxyCodeLine{68     \textcolor{keyword}{static} std::optional<std::pair<std::reference\_wrapper<DataComponentStorage>, \textcolor{keywordtype}{unsigned}>> GetDataComponentStorage(}
\DoxyCodeLine{69         \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene, \textcolor{keywordtype}{unsigned} entityArchetypeIndex);}
\DoxyCodeLine{70 }
\DoxyCodeLine{71     \textcolor{keyword}{static} \textcolor{keywordtype}{void} EraseDuplicates(std::vector<DataComponentType> \&types);}
\DoxyCodeLine{72     \textcolor{keyword}{template} <\textcolor{keyword}{typename} T = IDataComponent>}
\DoxyCodeLine{73     \textcolor{keyword}{static} \textcolor{keywordtype}{void} GetDataComponentArrayStorage(}
\DoxyCodeLine{74         \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene,}
\DoxyCodeLine{75         \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_data_component_storage}{DataComponentStorage}} \&storage,}
\DoxyCodeLine{76         std::vector<T> \&container,}
\DoxyCodeLine{77         \textcolor{keywordtype}{bool} checkEnable);}
\DoxyCodeLine{78     \textcolor{keyword}{static} \textcolor{keywordtype}{void} GetEntityStorage(}
\DoxyCodeLine{79         \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene,}
\DoxyCodeLine{80         \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_data_component_storage}{DataComponentStorage}} \&storage,}
\DoxyCodeLine{81         std::vector<Entity> \&container,}
\DoxyCodeLine{82         \textcolor{keywordtype}{bool} checkEnable);}
\DoxyCodeLine{83     \textcolor{keyword}{static} \textcolor{keywordtype}{size\_t} SwapEntity(}
\DoxyCodeLine{84         \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene, \mbox{\hyperlink{struct_uni_engine_1_1_data_component_storage}{DataComponentStorage}} \&storage, \textcolor{keywordtype}{size\_t} index1, \textcolor{keywordtype}{size\_t} index2);}
\DoxyCodeLine{85     \textcolor{keyword}{static} \textcolor{keywordtype}{void} SetEnableSingle(\textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene, \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} \&entity, \textcolor{keyword}{const} \textcolor{keywordtype}{bool} \&value);}
\DoxyCodeLine{86     \textcolor{keyword}{static} \textcolor{keywordtype}{void} SetDataComponent(}
\DoxyCodeLine{87         \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene, \textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \&entityIndex, \textcolor{keywordtype}{size\_t} \textcolor{keywordtype}{id}, \textcolor{keywordtype}{size\_t} size, \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}} *data);}
\DoxyCodeLine{88     \textcolor{keyword}{friend} \textcolor{keyword}{class }\mbox{\hyperlink{class_uni_engine_1_1_serialization_manager}{SerializationManager}};}
\DoxyCodeLine{89     \textcolor{keyword}{static} \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}} *GetDataComponentPointer(}
\DoxyCodeLine{90         \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene, \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} \&entity, \textcolor{keyword}{const} \textcolor{keywordtype}{size\_t} \&\textcolor{keywordtype}{id});}
\DoxyCodeLine{91     \textcolor{keyword}{static} \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}} *GetDataComponentPointer(}
\DoxyCodeLine{92         \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene, \textcolor{keywordtype}{unsigned} entityIndex, \textcolor{keyword}{const} \textcolor{keywordtype}{size\_t} \&\textcolor{keywordtype}{id});}
\DoxyCodeLine{93     \textcolor{keyword}{static} \mbox{\hyperlink{struct_uni_engine_1_1_entity_archetype}{EntityArchetype}} CreateEntityArchetype(\textcolor{keyword}{const} std::string \&name, \textcolor{keyword}{const} std::vector<DataComponentType> \&types);}
\DoxyCodeLine{94 }
\DoxyCodeLine{95     \textcolor{keyword}{static} \textcolor{keywordtype}{void} SetPrivateComponent(}
\DoxyCodeLine{96         \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene, \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} \&entity, std::shared\_ptr<IPrivateComponent> ptr);}
\DoxyCodeLine{97 }
\DoxyCodeLine{98     \textcolor{keyword}{static} \textcolor{keywordtype}{void} ForEachDescendantHelper(}
\DoxyCodeLine{99         \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene,}
\DoxyCodeLine{100         \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} \&target,}
\DoxyCodeLine{101         \textcolor{keyword}{const} std::function<\textcolor{keywordtype}{void}(\textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene, \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} \&entity)> \&func);}
\DoxyCodeLine{102     \textcolor{keyword}{static} \textcolor{keywordtype}{void} GetDescendantsHelper(}
\DoxyCodeLine{103         \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene, \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} \&target, std::vector<Entity> \&results);}
\DoxyCodeLine{104 }
\DoxyCodeLine{105     \textcolor{keyword}{static} \textcolor{keywordtype}{void} RemoveDataComponent(\textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene, \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} \&entity, \textcolor{keyword}{const} \textcolor{keywordtype}{size\_t} \&typeID);}
\DoxyCodeLine{106     \textcolor{keyword}{template} <\textcolor{keyword}{typename} T = IDataComponent>}
\DoxyCodeLine{107     \textcolor{keyword}{static} T GetDataComponent(\textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene, \textcolor{keyword}{const} \textcolor{keywordtype}{size\_t} \&index);}
\DoxyCodeLine{108     \textcolor{keyword}{template} <\textcolor{keyword}{typename} T = IDataComponent>}
\DoxyCodeLine{109     \textcolor{keyword}{static} \textcolor{keywordtype}{bool} HasDataComponent(\textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene, \textcolor{keyword}{const} \textcolor{keywordtype}{size\_t} \&index);}
\DoxyCodeLine{110     \textcolor{keyword}{template} <\textcolor{keyword}{typename} T = IDataComponent>}
\DoxyCodeLine{111     \textcolor{keyword}{static} \textcolor{keywordtype}{void} SetDataComponent(\textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene, \textcolor{keyword}{const} \textcolor{keywordtype}{size\_t} \&index, \textcolor{keyword}{const} T \&value);}
\DoxyCodeLine{112 }
\DoxyCodeLine{113 \textcolor{preprocessor}{\#pragma endregion}}
\DoxyCodeLine{114 \textcolor{preprocessor}{\#pragma region ForEach}}
\DoxyCodeLine{115     \textcolor{keyword}{template} <\textcolor{keyword}{typename} T1 = IDataComponent>}
\DoxyCodeLine{116     \textcolor{keyword}{static} \textcolor{keywordtype}{void} ForEachStorage(}
\DoxyCodeLine{117         \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene,}
\DoxyCodeLine{118         \mbox{\hyperlink{class_uni_engine_1_1_thread_pool}{ThreadPool}} \&workers,}
\DoxyCodeLine{119         \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_data_component_storage}{DataComponentStorage}} \&storage,}
\DoxyCodeLine{120         \textcolor{keyword}{const} std::function<\textcolor{keywordtype}{void}(\textcolor{keywordtype}{int} i, \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} entity, T1 \&)> \&func,}
\DoxyCodeLine{121         \textcolor{keywordtype}{bool} checkEnable = \textcolor{keyword}{true});}
\DoxyCodeLine{122     \textcolor{keyword}{template} <\textcolor{keyword}{typename} T1 = IDataComponent, \textcolor{keyword}{typename} T2 = IDataComponent>}
\DoxyCodeLine{123     \textcolor{keyword}{static} \textcolor{keywordtype}{void} ForEachStorage(}
\DoxyCodeLine{124         \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene,}
\DoxyCodeLine{125         \mbox{\hyperlink{class_uni_engine_1_1_thread_pool}{ThreadPool}} \&workers,}
\DoxyCodeLine{126         \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_data_component_storage}{DataComponentStorage}} \&storage,}
\DoxyCodeLine{127         \textcolor{keyword}{const} std::function<\textcolor{keywordtype}{void}(\textcolor{keywordtype}{int} i, \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} entity, T1 \&, T2 \&)> \&func,}
\DoxyCodeLine{128         \textcolor{keywordtype}{bool} checkEnable = \textcolor{keyword}{true});}
\DoxyCodeLine{129     \textcolor{keyword}{template} <\textcolor{keyword}{typename} T1 = IDataComponent, \textcolor{keyword}{typename} T2 = IDataComponent, \textcolor{keyword}{typename} T3 = IDataComponent>}
\DoxyCodeLine{130     \textcolor{keyword}{static} \textcolor{keywordtype}{void} ForEachStorage(}
\DoxyCodeLine{131         \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene,}
\DoxyCodeLine{132         \mbox{\hyperlink{class_uni_engine_1_1_thread_pool}{ThreadPool}} \&workers,}
\DoxyCodeLine{133         \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_data_component_storage}{DataComponentStorage}} \&storage,}
\DoxyCodeLine{134         \textcolor{keyword}{const} std::function<\textcolor{keywordtype}{void}(\textcolor{keywordtype}{int} i, \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} entity, T1 \&, T2 \&, T3 \&)> \&func,}
\DoxyCodeLine{135         \textcolor{keywordtype}{bool} checkEnable = \textcolor{keyword}{true});}
\DoxyCodeLine{136     \textcolor{keyword}{template} <}
\DoxyCodeLine{137         \textcolor{keyword}{typename} T1 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}},}
\DoxyCodeLine{138         \textcolor{keyword}{typename} T2 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}},}
\DoxyCodeLine{139         \textcolor{keyword}{typename} T3 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}},}
\DoxyCodeLine{140         \textcolor{keyword}{typename} T4 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}}>}
\DoxyCodeLine{141     \textcolor{keyword}{static} \textcolor{keywordtype}{void} ForEachStorage(}
\DoxyCodeLine{142         \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene,}
\DoxyCodeLine{143         \mbox{\hyperlink{class_uni_engine_1_1_thread_pool}{ThreadPool}} \&workers,}
\DoxyCodeLine{144         \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_data_component_storage}{DataComponentStorage}} \&storage,}
\DoxyCodeLine{145         \textcolor{keyword}{const} std::function<\textcolor{keywordtype}{void}(\textcolor{keywordtype}{int} i, \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} entity, T1 \&, T2 \&, T3 \&, T4 \&)> \&func,}
\DoxyCodeLine{146         \textcolor{keywordtype}{bool} checkEnable = \textcolor{keyword}{true});}
\DoxyCodeLine{147     \textcolor{keyword}{template} <}
\DoxyCodeLine{148         \textcolor{keyword}{typename} T1 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}},}
\DoxyCodeLine{149         \textcolor{keyword}{typename} T2 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}},}
\DoxyCodeLine{150         \textcolor{keyword}{typename} T3 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}},}
\DoxyCodeLine{151         \textcolor{keyword}{typename} T4 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}},}
\DoxyCodeLine{152         \textcolor{keyword}{typename} T5 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}}>}
\DoxyCodeLine{153     \textcolor{keyword}{static} \textcolor{keywordtype}{void} ForEachStorage(}
\DoxyCodeLine{154         \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene,}
\DoxyCodeLine{155         \mbox{\hyperlink{class_uni_engine_1_1_thread_pool}{ThreadPool}} \&workers,}
\DoxyCodeLine{156         \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_data_component_storage}{DataComponentStorage}} \&storage,}
\DoxyCodeLine{157         \textcolor{keyword}{const} std::function<\textcolor{keywordtype}{void}(\textcolor{keywordtype}{int} i, \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} entity, T1 \&, T2 \&, T3 \&, T4 \&, T5 \&)> \&func,}
\DoxyCodeLine{158         \textcolor{keywordtype}{bool} checkEnable = \textcolor{keyword}{true});}
\DoxyCodeLine{159     \textcolor{keyword}{template} <}
\DoxyCodeLine{160         \textcolor{keyword}{typename} T1 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}},}
\DoxyCodeLine{161         \textcolor{keyword}{typename} T2 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}},}
\DoxyCodeLine{162         \textcolor{keyword}{typename} T3 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}},}
\DoxyCodeLine{163         \textcolor{keyword}{typename} T4 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}},}
\DoxyCodeLine{164         \textcolor{keyword}{typename} T5 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}},}
\DoxyCodeLine{165         \textcolor{keyword}{typename} T6 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}}>}
\DoxyCodeLine{166     \textcolor{keyword}{static} \textcolor{keywordtype}{void} ForEachStorage(}
\DoxyCodeLine{167         \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene,}
\DoxyCodeLine{168         \mbox{\hyperlink{class_uni_engine_1_1_thread_pool}{ThreadPool}} \&workers,}
\DoxyCodeLine{169         \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_data_component_storage}{DataComponentStorage}} \&storage,}
\DoxyCodeLine{170         \textcolor{keyword}{const} std::function<\textcolor{keywordtype}{void}(\textcolor{keywordtype}{int} i, \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} entity, T1 \&, T2 \&, T3 \&, T4 \&, T5 \&, T6 \&)> \&func,}
\DoxyCodeLine{171         \textcolor{keywordtype}{bool} checkEnable = \textcolor{keyword}{true});}
\DoxyCodeLine{172     \textcolor{keyword}{template} <}
\DoxyCodeLine{173         \textcolor{keyword}{typename} T1 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}},}
\DoxyCodeLine{174         \textcolor{keyword}{typename} T2 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}},}
\DoxyCodeLine{175         \textcolor{keyword}{typename} T3 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}},}
\DoxyCodeLine{176         \textcolor{keyword}{typename} T4 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}},}
\DoxyCodeLine{177         \textcolor{keyword}{typename} T5 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}},}
\DoxyCodeLine{178         \textcolor{keyword}{typename} T6 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}},}
\DoxyCodeLine{179         \textcolor{keyword}{typename} T7 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}}>}
\DoxyCodeLine{180     \textcolor{keyword}{static} \textcolor{keywordtype}{void} ForEachStorage(}
\DoxyCodeLine{181         \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene,}
\DoxyCodeLine{182         \mbox{\hyperlink{class_uni_engine_1_1_thread_pool}{ThreadPool}} \&workers,}
\DoxyCodeLine{183         \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_data_component_storage}{DataComponentStorage}} \&storage,}
\DoxyCodeLine{184         \textcolor{keyword}{const} std::function<\textcolor{keywordtype}{void}(\textcolor{keywordtype}{int} i, \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} entity, T1 \&, T2 \&, T3 \&, T4 \&, T5 \&, T6 \&, T7 \&)> \&func,}
\DoxyCodeLine{185         \textcolor{keywordtype}{bool} checkEnable = \textcolor{keyword}{true});}
\DoxyCodeLine{186     \textcolor{keyword}{template} <}
\DoxyCodeLine{187         \textcolor{keyword}{typename} T1 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}},}
\DoxyCodeLine{188         \textcolor{keyword}{typename} T2 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}},}
\DoxyCodeLine{189         \textcolor{keyword}{typename} T3 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}},}
\DoxyCodeLine{190         \textcolor{keyword}{typename} T4 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}},}
\DoxyCodeLine{191         \textcolor{keyword}{typename} T5 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}},}
\DoxyCodeLine{192         \textcolor{keyword}{typename} T6 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}},}
\DoxyCodeLine{193         \textcolor{keyword}{typename} T7 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}},}
\DoxyCodeLine{194         \textcolor{keyword}{typename} T8 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}}>}
\DoxyCodeLine{195     \textcolor{keyword}{static} \textcolor{keywordtype}{void} ForEachStorage(}
\DoxyCodeLine{196         \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene,}
\DoxyCodeLine{197         \mbox{\hyperlink{class_uni_engine_1_1_thread_pool}{ThreadPool}} \&workers,}
\DoxyCodeLine{198         \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_data_component_storage}{DataComponentStorage}} \&storage,}
\DoxyCodeLine{199         \textcolor{keyword}{const} std::function<\textcolor{keywordtype}{void}(\textcolor{keywordtype}{int} i, \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} entity, T1 \&, T2 \&, T3 \&, T4 \&, T5 \&, T6 \&, T7 \&, T8 \&)> \&func,}
\DoxyCodeLine{200         \textcolor{keywordtype}{bool} checkEnable = \textcolor{keyword}{true});}
\DoxyCodeLine{201 }
\DoxyCodeLine{202 \textcolor{preprocessor}{\#pragma endregion}}
\DoxyCodeLine{203 \textcolor{preprocessor}{\#pragma region Entity methods}}
\DoxyCodeLine{204     \textcolor{comment}{// Enable or Disable an Entity. Note that the disable action will recursively disable the children of current}}
\DoxyCodeLine{205     \textcolor{comment}{// entity.}}
\DoxyCodeLine{206     \textcolor{keyword}{static} \textcolor{keywordtype}{void} SetEnable(\textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene, \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} \&entity, \textcolor{keyword}{const} \textcolor{keywordtype}{bool} \&value);}
\DoxyCodeLine{207 }
\DoxyCodeLine{208     \textcolor{keyword}{static} \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} GetRoot(\textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene, \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} \&entity);}
\DoxyCodeLine{209     \textcolor{keyword}{static} std::string GetEntityName(\textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene, \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} \&entity);}
\DoxyCodeLine{210     \textcolor{keyword}{static} \textcolor{keywordtype}{void} SetEntityName(\textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene, \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} \&entity, \textcolor{keyword}{const} std::string \&name);}
\DoxyCodeLine{211     \textcolor{keyword}{static} \textcolor{keywordtype}{void} SetParent(}
\DoxyCodeLine{212         \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene,}
\DoxyCodeLine{213         \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} \&entity,}
\DoxyCodeLine{214         \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} \&parent,}
\DoxyCodeLine{215         \textcolor{keyword}{const} \textcolor{keywordtype}{bool} \&recalculateTransform);}
\DoxyCodeLine{216     \textcolor{keyword}{static} \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} GetParent(\textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene, \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} \&entity);}
\DoxyCodeLine{217     \textcolor{keyword}{static} std::vector<Entity> GetChildren(\textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene, \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} \&entity);}
\DoxyCodeLine{218     \textcolor{keyword}{static} \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} GetChild(\textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene, \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} \&entity, \textcolor{keywordtype}{int} index);}
\DoxyCodeLine{219     \textcolor{keyword}{static} \textcolor{keywordtype}{size\_t} GetChildrenAmount(\textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene, \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} \&entity);}
\DoxyCodeLine{220     \textcolor{keyword}{static} \textcolor{keywordtype}{void} ForEachChild(}
\DoxyCodeLine{221         \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene, \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} \&entity, \textcolor{keyword}{const} std::function<\textcolor{keywordtype}{void}(\textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene, \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} child)> \&func);}
\DoxyCodeLine{222     \textcolor{keyword}{static} \textcolor{keywordtype}{void} RemoveChild(\textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene, \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} \&entity, \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} \&parent);}
\DoxyCodeLine{223     \textcolor{keyword}{static} std::vector<Entity> GetDescendants(\textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene, \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} \&entity);}
\DoxyCodeLine{224     \textcolor{keyword}{static} \textcolor{keywordtype}{void} ForEachDescendant(}
\DoxyCodeLine{225         \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene,}
\DoxyCodeLine{226         \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} \&target,}
\DoxyCodeLine{227         \textcolor{keyword}{const} std::function<\textcolor{keywordtype}{void}(\textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene, \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} \&entity)> \&func,}
\DoxyCodeLine{228         \textcolor{keyword}{const} \textcolor{keywordtype}{bool} \&fromRoot = \textcolor{keyword}{true});}
\DoxyCodeLine{229 }
\DoxyCodeLine{230     \textcolor{keyword}{template} <\textcolor{keyword}{typename} T = IDataComponent>}
\DoxyCodeLine{231     \textcolor{keyword}{static} \textcolor{keywordtype}{void} AddDataComponent(\textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene, \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} \&entity, \textcolor{keyword}{const} T \&value);}
\DoxyCodeLine{232     \textcolor{keyword}{template} <\textcolor{keyword}{typename} T = IDataComponent>}
\DoxyCodeLine{233     \textcolor{keyword}{static} \textcolor{keywordtype}{void} RemoveDataComponent(\textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene, \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} \&entity);}
\DoxyCodeLine{234     \textcolor{keyword}{template} <\textcolor{keyword}{typename} T = IDataComponent>}
\DoxyCodeLine{235     \textcolor{keyword}{static} \textcolor{keywordtype}{void} SetDataComponent(\textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene, \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} \&entity, \textcolor{keyword}{const} T \&value);}
\DoxyCodeLine{236     \textcolor{keyword}{template} <\textcolor{keyword}{typename} T = IDataComponent>}
\DoxyCodeLine{237     \textcolor{keyword}{static} T GetDataComponent(\textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene, \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} \&entity);}
\DoxyCodeLine{238     \textcolor{keyword}{template} <\textcolor{keyword}{typename} T = IDataComponent>}
\DoxyCodeLine{239     \textcolor{keyword}{static} \textcolor{keywordtype}{bool} HasDataComponent(\textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene, \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} \&entity);}
\DoxyCodeLine{240 }
\DoxyCodeLine{241     \textcolor{keyword}{template} <\textcolor{keyword}{typename} T = IPrivateComponent>}
\DoxyCodeLine{242     \textcolor{keyword}{static} std::weak\_ptr<T> GetOrSetPrivateComponent(\textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene, \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} \&entity);}
\DoxyCodeLine{243     \textcolor{keyword}{static} std::weak\_ptr<IPrivateComponent> GetPrivateComponent(}
\DoxyCodeLine{244         \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene, \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} \&entity, \textcolor{keyword}{const} std::string \&typeName);}
\DoxyCodeLine{245 }
\DoxyCodeLine{246     \textcolor{keyword}{template} <\textcolor{keyword}{typename} T = IPrivateComponent>}
\DoxyCodeLine{247     \textcolor{keyword}{static} \textcolor{keywordtype}{void} RemovePrivateComponent(\textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene, \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} \&entity);}
\DoxyCodeLine{248     \textcolor{keyword}{template} <\textcolor{keyword}{typename} T = IPrivateComponent>}
\DoxyCodeLine{249     \textcolor{keyword}{static} \textcolor{keywordtype}{bool} HasPrivateComponent(\textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene, \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} \&entity);}
\DoxyCodeLine{250     \textcolor{keyword}{static} \textcolor{keywordtype}{bool} HasPrivateComponent(}
\DoxyCodeLine{251         \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene, \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} \&entity, \textcolor{keyword}{const} std::string \&typeName);}
\DoxyCodeLine{252 \textcolor{preprocessor}{\#pragma endregion}}
\DoxyCodeLine{253 \textcolor{preprocessor}{\#pragma region EntityArchetype Methods}}
\DoxyCodeLine{254     \textcolor{keyword}{static} std::string GetEntityArchetypeName(\textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity_archetype}{EntityArchetype}} \&entityArchetype);}
\DoxyCodeLine{255     \textcolor{keyword}{static} \textcolor{keywordtype}{void} SetEntityArchetypeName(\textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity_archetype}{EntityArchetype}} \&entityArchetype, \textcolor{keyword}{const} std::string \&name);}
\DoxyCodeLine{256 \textcolor{preprocessor}{\#pragma endregion}}
\DoxyCodeLine{257 \textcolor{preprocessor}{\#pragma region EntityQuery Methods}}
\DoxyCodeLine{258     \textcolor{keyword}{template} <\textcolor{keyword}{typename} T = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}}, \textcolor{keyword}{typename}... Ts>}
\DoxyCodeLine{259     \textcolor{keyword}{static} \textcolor{keywordtype}{void} SetEntityQueryAllFilters(\textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity_query}{EntityQuery}} \&entityQuery, T arg, Ts... args);}
\DoxyCodeLine{260     \textcolor{keyword}{template} <\textcolor{keyword}{typename} T = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}}, \textcolor{keyword}{typename}... Ts>}
\DoxyCodeLine{261     \textcolor{keyword}{static} \textcolor{keywordtype}{void} SetEntityQueryAnyFilters(\textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity_query}{EntityQuery}} \&entityQuery, T arg, Ts... args);}
\DoxyCodeLine{262     \textcolor{keyword}{template} <\textcolor{keyword}{typename} T = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}}, \textcolor{keyword}{typename}... Ts>}
\DoxyCodeLine{263     \textcolor{keyword}{static} \textcolor{keywordtype}{void} SetEntityQueryNoneFilters(\textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity_query}{EntityQuery}} \&entityQuery, T arg, Ts... args);}
\DoxyCodeLine{264     \textcolor{keyword}{template} <\textcolor{keyword}{typename} T = IDataComponent>}
\DoxyCodeLine{265     \textcolor{keyword}{static} \textcolor{keywordtype}{void} GetComponentDataArray(}
\DoxyCodeLine{266         \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene,}
\DoxyCodeLine{267         \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity_query}{EntityQuery}} \&entityQuery,}
\DoxyCodeLine{268         std::vector<T> \&container,}
\DoxyCodeLine{269         \textcolor{keywordtype}{bool} checkEnable);}
\DoxyCodeLine{270     \textcolor{keyword}{template} <\textcolor{keyword}{typename} T1 = IDataComponent, \textcolor{keyword}{typename} T2 = IDataComponent>}
\DoxyCodeLine{271     \textcolor{keyword}{static} \textcolor{keywordtype}{void} GetComponentDataArray(}
\DoxyCodeLine{272         \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene,}
\DoxyCodeLine{273         \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity_query}{EntityQuery}} \&entityQuery,}
\DoxyCodeLine{274         std::vector<T1> \&container,}
\DoxyCodeLine{275         \textcolor{keyword}{const} std::function<\textcolor{keywordtype}{bool}(\textcolor{keyword}{const} T2 \&)> \&filterFunc,}
\DoxyCodeLine{276         \textcolor{keywordtype}{bool} checkEnable);}
\DoxyCodeLine{277     \textcolor{keyword}{template} <\textcolor{keyword}{typename} T1 = IDataComponent, \textcolor{keyword}{typename} T2 = IDataComponent, \textcolor{keyword}{typename} T3 = IDataComponent>}
\DoxyCodeLine{278     \textcolor{keyword}{static} \textcolor{keywordtype}{void} GetComponentDataArray(}
\DoxyCodeLine{279         \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene,}
\DoxyCodeLine{280         \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity_query}{EntityQuery}} \&entityQuery,}
\DoxyCodeLine{281         std::vector<T1> \&container,}
\DoxyCodeLine{282         \textcolor{keyword}{const} std::function<\textcolor{keywordtype}{bool}(\textcolor{keyword}{const} T2 \&, \textcolor{keyword}{const} T3 \&)> \&filterFunc,}
\DoxyCodeLine{283         \textcolor{keywordtype}{bool} checkEnable);}
\DoxyCodeLine{284     \textcolor{keyword}{template} <\textcolor{keyword}{typename} T1 = IDataComponent, \textcolor{keyword}{typename} T2 = IDataComponent>}
\DoxyCodeLine{285     \textcolor{keyword}{static} \textcolor{keywordtype}{void} GetComponentDataArray(}
\DoxyCodeLine{286         \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene,}
\DoxyCodeLine{287         \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity_query}{EntityQuery}} \&entityQuery,}
\DoxyCodeLine{288         \textcolor{keyword}{const} T1 \&filter,}
\DoxyCodeLine{289         std::vector<T2> \&container,}
\DoxyCodeLine{290         \textcolor{keywordtype}{bool} checkEnable);}
\DoxyCodeLine{291     \textcolor{keyword}{static} \textcolor{keywordtype}{void} GetEntityArray(}
\DoxyCodeLine{292         \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene,}
\DoxyCodeLine{293         \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity_query}{EntityQuery}} \&entityQuery,}
\DoxyCodeLine{294         std::vector<Entity> \&container,}
\DoxyCodeLine{295         \textcolor{keywordtype}{bool} checkEnable);}
\DoxyCodeLine{296     \textcolor{keyword}{template} <\textcolor{keyword}{typename} T1 = IDataComponent>}
\DoxyCodeLine{297     \textcolor{keyword}{static} \textcolor{keywordtype}{void} GetEntityArray(}
\DoxyCodeLine{298         \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene,}
\DoxyCodeLine{299         \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity_query}{EntityQuery}} \&entityQuery,}
\DoxyCodeLine{300         std::vector<Entity> \&container,}
\DoxyCodeLine{301         \textcolor{keyword}{const} std::function<\textcolor{keywordtype}{bool}(\textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} \&, \textcolor{keyword}{const} T1 \&)> \&filterFunc,}
\DoxyCodeLine{302         \textcolor{keywordtype}{bool} checkEnable);}
\DoxyCodeLine{303     \textcolor{keyword}{template} <\textcolor{keyword}{typename} T1 = IDataComponent, \textcolor{keyword}{typename} T2 = IDataComponent>}
\DoxyCodeLine{304     \textcolor{keyword}{static} \textcolor{keywordtype}{void} GetEntityArray(}
\DoxyCodeLine{305         \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene,}
\DoxyCodeLine{306         \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity_query}{EntityQuery}} \&entityQuery,}
\DoxyCodeLine{307         std::vector<Entity> \&container,}
\DoxyCodeLine{308         \textcolor{keyword}{const} std::function<\textcolor{keywordtype}{bool}(\textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} \&, \textcolor{keyword}{const} T1 \&, \textcolor{keyword}{const} T2 \&)> \&filterFunc,}
\DoxyCodeLine{309         \textcolor{keywordtype}{bool} checkEnable);}
\DoxyCodeLine{310     \textcolor{keyword}{template} <\textcolor{keyword}{typename} T1 = IDataComponent>}
\DoxyCodeLine{311     \textcolor{keyword}{static} \textcolor{keywordtype}{void} GetEntityArray(}
\DoxyCodeLine{312         \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene,}
\DoxyCodeLine{313         \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity_query}{EntityQuery}} \&entityQuery,}
\DoxyCodeLine{314         \textcolor{keyword}{const} T1 \&filter,}
\DoxyCodeLine{315         std::vector<Entity> \&container,}
\DoxyCodeLine{316         \textcolor{keywordtype}{bool} checkEnable);}
\DoxyCodeLine{317     \textcolor{keyword}{static} \textcolor{keywordtype}{size\_t} GetEntityAmount(\textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene, \mbox{\hyperlink{struct_uni_engine_1_1_entity_query}{EntityQuery}} entityQuery, \textcolor{keywordtype}{bool} checkEnable);}
\DoxyCodeLine{318 \textcolor{preprocessor}{\#pragma endregion}}
\DoxyCodeLine{319   \textcolor{keyword}{public}:}
\DoxyCodeLine{320     \textcolor{keyword}{static} std::vector<std::reference\_wrapper<DataComponentStorage>> QueryDataComponentStorages(}
\DoxyCodeLine{321         \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene, \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity_query}{EntityQuery}} \&entityQuery);}
\DoxyCodeLine{322     \textcolor{keyword}{static} std::optional<std::pair<std::reference\_wrapper<DataComponentStorage>, \textcolor{keywordtype}{unsigned}>> GetDataComponentStorage(}
\DoxyCodeLine{323         \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene, \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity_archetype}{EntityArchetype}} \&entityArchetype);}
\DoxyCodeLine{324 }
\DoxyCodeLine{325     \textcolor{keyword}{static} \textcolor{keywordtype}{void} RemovePrivateComponent(\textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene, \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} \&entity, \textcolor{keywordtype}{size\_t} typeId);}
\DoxyCodeLine{326 }
\DoxyCodeLine{327     \textcolor{keyword}{static} \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} GetEntity(\textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene, \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_handle}{Handle}} \&handle);}
\DoxyCodeLine{328 }
\DoxyCodeLine{329     \textcolor{keyword}{static} \mbox{\hyperlink{struct_uni_engine_1_1_entity_archetype}{EntityArchetype}} GetDefaultEntityArchetype();}
\DoxyCodeLine{330 }
\DoxyCodeLine{331 \textcolor{preprocessor}{\#pragma region Unsafe}}
\DoxyCodeLine{332     \textcolor{comment}{// Unsafe zone, allow directly manipulation of entity data, which may result in data corruption.}}
\DoxyCodeLine{337 \textcolor{comment}{}    \textcolor{keyword}{static} std::vector<Entity> *UnsafeGetAllEntities(\textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene);}
\DoxyCodeLine{338     \textcolor{keyword}{static} \textcolor{keywordtype}{void} UnsafeForEachDataComponent(}
\DoxyCodeLine{339         \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene,}
\DoxyCodeLine{340         \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} \&entity,}
\DoxyCodeLine{341         \textcolor{keyword}{const} std::function<\textcolor{keywordtype}{void}(\textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_data_component_type}{DataComponentType}} \&type, \textcolor{keywordtype}{void} *data)> \&func);}
\DoxyCodeLine{342     \textcolor{keyword}{static} \textcolor{keywordtype}{void} UnsafeForEachEntityStorage(}
\DoxyCodeLine{343         \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene,}
\DoxyCodeLine{344         \textcolor{keyword}{const} std::function<\textcolor{keywordtype}{void}(\textcolor{keywordtype}{int} i, \textcolor{keyword}{const} std::string \&name, \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_data_component_storage}{DataComponentStorage}} \&storage)> \&func);}
\DoxyCodeLine{345 }
\DoxyCodeLine{353     \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{354     \textcolor{keyword}{static} std::vector<std::pair<T *, size\_t>> UnsafeGetDataComponentArray(}
\DoxyCodeLine{355         \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene, \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity_query}{EntityQuery}} \&entityQuery);}
\DoxyCodeLine{356     \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{357     \textcolor{keyword}{static} \textcolor{keyword}{const} std::vector<Entity> *UnsafeGetPrivateComponentOwnersList(\textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene);}
\DoxyCodeLine{358 \textcolor{preprocessor}{\#pragma endregion}}
\DoxyCodeLine{359     \textcolor{keyword}{static} \textcolor{keywordtype}{size\_t} GetArchetypeChunkSize();}
\DoxyCodeLine{360     \textcolor{keyword}{static} \mbox{\hyperlink{struct_uni_engine_1_1_entity_archetype_info}{EntityArchetypeInfo}} GetArchetypeInfo(\textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity_archetype}{EntityArchetype}} \&entityArchetype);}
\DoxyCodeLine{361     \textcolor{keyword}{static} \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} GetEntity(\textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene, \textcolor{keyword}{const} \textcolor{keywordtype}{size\_t} \&index);}
\DoxyCodeLine{362     \textcolor{keyword}{template} <\textcolor{keyword}{typename} T> \textcolor{keyword}{static} std::vector<Entity> GetPrivateComponentOwnersList(\textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene);}
\DoxyCodeLine{363     \textcolor{keyword}{static} \textcolor{keywordtype}{void} ForEachPrivateComponent(}
\DoxyCodeLine{364         \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene,}
\DoxyCodeLine{365         \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} \&entity,}
\DoxyCodeLine{366         \textcolor{keyword}{const} std::function<\textcolor{keywordtype}{void}(\mbox{\hyperlink{struct_uni_engine_1_1_private_component_element}{PrivateComponentElement}} \&data)> \&func);}
\DoxyCodeLine{367     \textcolor{keyword}{static} \textcolor{keywordtype}{void} GetAllEntities(\textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene, std::vector<Entity> \&target);}
\DoxyCodeLine{368     \textcolor{keyword}{static} \textcolor{keywordtype}{void} Attach(\textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene);}
\DoxyCodeLine{369     \textcolor{keyword}{static} \mbox{\hyperlink{struct_uni_engine_1_1_entity_archetype}{EntityArchetype}} CreateEntityArchetypeHelper(\textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity_archetype_info}{EntityArchetypeInfo}} \&info);}
\DoxyCodeLine{370 }
\DoxyCodeLine{371     \textcolor{keyword}{template} <\textcolor{keyword}{typename} T = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}}, \textcolor{keyword}{typename}... Ts>}
\DoxyCodeLine{372     \textcolor{keyword}{static} \mbox{\hyperlink{struct_uni_engine_1_1_entity_archetype}{EntityArchetype}} CreateEntityArchetype(\textcolor{keyword}{const} std::string \&name, T arg, Ts... args);}
\DoxyCodeLine{373     \textcolor{keyword}{static} \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} CreateEntity(\textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene, \textcolor{keyword}{const} std::string \&name = \textcolor{stringliteral}{"{}New Entity"{}});}
\DoxyCodeLine{374     \textcolor{keyword}{static} \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} CreateEntity(}
\DoxyCodeLine{375         \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene,}
\DoxyCodeLine{376         \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity_archetype}{EntityArchetype}} \&archetype,}
\DoxyCodeLine{377         \textcolor{keyword}{const} std::string \&name = \textcolor{stringliteral}{"{}New Entity"{}},}
\DoxyCodeLine{378         \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_handle}{Handle}} \&handle = \mbox{\hyperlink{struct_uni_engine_1_1_handle}{Handle}}());}
\DoxyCodeLine{379     \textcolor{keyword}{static} std::vector<Entity> CreateEntities(}
\DoxyCodeLine{380         \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene,}
\DoxyCodeLine{381         \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity_archetype}{EntityArchetype}} \&archetype,}
\DoxyCodeLine{382         \textcolor{keyword}{const} \textcolor{keywordtype}{size\_t} \&amount,}
\DoxyCodeLine{383         \textcolor{keyword}{const} std::string \&name = \textcolor{stringliteral}{"{}New Entity"{}});}
\DoxyCodeLine{384     \textcolor{keyword}{static} std::vector<Entity> CreateEntities(}
\DoxyCodeLine{385         \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene, \textcolor{keyword}{const} \textcolor{keywordtype}{size\_t} \&amount, \textcolor{keyword}{const} std::string \&name = \textcolor{stringliteral}{"{}New Entity"{}});}
\DoxyCodeLine{386     \textcolor{keyword}{static} \textcolor{keywordtype}{void} DeleteEntity(\textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene, \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} \&entity);}
\DoxyCodeLine{387     \textcolor{keyword}{static} \mbox{\hyperlink{struct_uni_engine_1_1_entity_query}{EntityQuery}} CreateEntityQuery();}
\DoxyCodeLine{388 \textcolor{preprocessor}{\#pragma region For Each}}
\DoxyCodeLine{389     \textcolor{keyword}{template} <\textcolor{keyword}{typename} T1 = IDataComponent>}
\DoxyCodeLine{390     \textcolor{keyword}{static} \textcolor{keywordtype}{void} ForEach(}
\DoxyCodeLine{391         \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene,}
\DoxyCodeLine{392         \mbox{\hyperlink{class_uni_engine_1_1_thread_pool}{ThreadPool}} \&workers,}
\DoxyCodeLine{393         \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity_query}{EntityQuery}} \&entityQuery,}
\DoxyCodeLine{394         \textcolor{keyword}{const} std::function<\textcolor{keywordtype}{void}(\textcolor{keywordtype}{int} i, \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} entity, T1 \&)> \&func,}
\DoxyCodeLine{395         \textcolor{keywordtype}{bool} checkEnable = \textcolor{keyword}{true});}
\DoxyCodeLine{396     \textcolor{keyword}{template} <\textcolor{keyword}{typename} T1 = IDataComponent, \textcolor{keyword}{typename} T2 = IDataComponent>}
\DoxyCodeLine{397     \textcolor{keyword}{static} \textcolor{keywordtype}{void} ForEach(}
\DoxyCodeLine{398         \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene,}
\DoxyCodeLine{399         \mbox{\hyperlink{class_uni_engine_1_1_thread_pool}{ThreadPool}} \&workers,}
\DoxyCodeLine{400         \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity_query}{EntityQuery}} \&entityQuery,}
\DoxyCodeLine{401         \textcolor{keyword}{const} std::function<\textcolor{keywordtype}{void}(\textcolor{keywordtype}{int} i, \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} entity, T1 \&, T2 \&)> \&func,}
\DoxyCodeLine{402         \textcolor{keywordtype}{bool} checkEnable = \textcolor{keyword}{true});}
\DoxyCodeLine{403     \textcolor{keyword}{template} <\textcolor{keyword}{typename} T1 = IDataComponent, \textcolor{keyword}{typename} T2 = IDataComponent, \textcolor{keyword}{typename} T3 = IDataComponent>}
\DoxyCodeLine{404     \textcolor{keyword}{static} \textcolor{keywordtype}{void} ForEach(}
\DoxyCodeLine{405         \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene,}
\DoxyCodeLine{406         \mbox{\hyperlink{class_uni_engine_1_1_thread_pool}{ThreadPool}} \&workers,}
\DoxyCodeLine{407         \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity_query}{EntityQuery}} \&entityQuery,}
\DoxyCodeLine{408         \textcolor{keyword}{const} std::function<\textcolor{keywordtype}{void}(\textcolor{keywordtype}{int} i, \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} entity, T1 \&, T2 \&, T3 \&)> \&func,}
\DoxyCodeLine{409         \textcolor{keywordtype}{bool} checkEnable = \textcolor{keyword}{true});}
\DoxyCodeLine{410     \textcolor{keyword}{template} <}
\DoxyCodeLine{411         \textcolor{keyword}{typename} T1 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}},}
\DoxyCodeLine{412         \textcolor{keyword}{typename} T2 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}},}
\DoxyCodeLine{413         \textcolor{keyword}{typename} T3 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}},}
\DoxyCodeLine{414         \textcolor{keyword}{typename} T4 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}}>}
\DoxyCodeLine{415     \textcolor{keyword}{static} \textcolor{keywordtype}{void} ForEach(}
\DoxyCodeLine{416         \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene,}
\DoxyCodeLine{417         \mbox{\hyperlink{class_uni_engine_1_1_thread_pool}{ThreadPool}} \&workers,}
\DoxyCodeLine{418         \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity_query}{EntityQuery}} \&entityQuery,}
\DoxyCodeLine{419         \textcolor{keyword}{const} std::function<\textcolor{keywordtype}{void}(\textcolor{keywordtype}{int} i, \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} entity, T1 \&, T2 \&, T3 \&, T4 \&)> \&func,}
\DoxyCodeLine{420         \textcolor{keywordtype}{bool} checkEnable = \textcolor{keyword}{true});}
\DoxyCodeLine{421     \textcolor{keyword}{template} <}
\DoxyCodeLine{422         \textcolor{keyword}{typename} T1 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}},}
\DoxyCodeLine{423         \textcolor{keyword}{typename} T2 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}},}
\DoxyCodeLine{424         \textcolor{keyword}{typename} T3 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}},}
\DoxyCodeLine{425         \textcolor{keyword}{typename} T4 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}},}
\DoxyCodeLine{426         \textcolor{keyword}{typename} T5 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}}>}
\DoxyCodeLine{427     \textcolor{keyword}{static} \textcolor{keywordtype}{void} ForEach(}
\DoxyCodeLine{428         \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene,}
\DoxyCodeLine{429         \mbox{\hyperlink{class_uni_engine_1_1_thread_pool}{ThreadPool}} \&workers,}
\DoxyCodeLine{430         \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity_query}{EntityQuery}} \&entityQuery,}
\DoxyCodeLine{431         \textcolor{keyword}{const} std::function<\textcolor{keywordtype}{void}(\textcolor{keywordtype}{int} i, \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} entity, T1 \&, T2 \&, T3 \&, T4 \&, T5 \&)> \&func,}
\DoxyCodeLine{432         \textcolor{keywordtype}{bool} checkEnable = \textcolor{keyword}{true});}
\DoxyCodeLine{433     \textcolor{keyword}{template} <}
\DoxyCodeLine{434         \textcolor{keyword}{typename} T1 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}},}
\DoxyCodeLine{435         \textcolor{keyword}{typename} T2 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}},}
\DoxyCodeLine{436         \textcolor{keyword}{typename} T3 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}},}
\DoxyCodeLine{437         \textcolor{keyword}{typename} T4 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}},}
\DoxyCodeLine{438         \textcolor{keyword}{typename} T5 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}},}
\DoxyCodeLine{439         \textcolor{keyword}{typename} T6 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}}>}
\DoxyCodeLine{440     \textcolor{keyword}{static} \textcolor{keywordtype}{void} ForEach(}
\DoxyCodeLine{441         \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene,}
\DoxyCodeLine{442         \mbox{\hyperlink{class_uni_engine_1_1_thread_pool}{ThreadPool}} \&workers,}
\DoxyCodeLine{443         \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity_query}{EntityQuery}} \&entityQuery,}
\DoxyCodeLine{444         \textcolor{keyword}{const} std::function<\textcolor{keywordtype}{void}(\textcolor{keywordtype}{int} i, \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} entity, T1 \&, T2 \&, T3 \&, T4 \&, T5 \&, T6 \&)> \&func,}
\DoxyCodeLine{445         \textcolor{keywordtype}{bool} checkEnable = \textcolor{keyword}{true});}
\DoxyCodeLine{446     \textcolor{keyword}{template} <}
\DoxyCodeLine{447         \textcolor{keyword}{typename} T1 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}},}
\DoxyCodeLine{448         \textcolor{keyword}{typename} T2 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}},}
\DoxyCodeLine{449         \textcolor{keyword}{typename} T3 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}},}
\DoxyCodeLine{450         \textcolor{keyword}{typename} T4 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}},}
\DoxyCodeLine{451         \textcolor{keyword}{typename} T5 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}},}
\DoxyCodeLine{452         \textcolor{keyword}{typename} T6 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}},}
\DoxyCodeLine{453         \textcolor{keyword}{typename} T7 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}}>}
\DoxyCodeLine{454     \textcolor{keyword}{static} \textcolor{keywordtype}{void} ForEach(}
\DoxyCodeLine{455         \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene,}
\DoxyCodeLine{456         \mbox{\hyperlink{class_uni_engine_1_1_thread_pool}{ThreadPool}} \&workers,}
\DoxyCodeLine{457         \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity_query}{EntityQuery}} \&entityQuery,}
\DoxyCodeLine{458         \textcolor{keyword}{const} std::function<\textcolor{keywordtype}{void}(\textcolor{keywordtype}{int} i, \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} entity, T1 \&, T2 \&, T3 \&, T4 \&, T5 \&, T6 \&, T7 \&)> \&func,}
\DoxyCodeLine{459         \textcolor{keywordtype}{bool} checkEnable = \textcolor{keyword}{true});}
\DoxyCodeLine{460     \textcolor{keyword}{template} <}
\DoxyCodeLine{461         \textcolor{keyword}{typename} T1 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}},}
\DoxyCodeLine{462         \textcolor{keyword}{typename} T2 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}},}
\DoxyCodeLine{463         \textcolor{keyword}{typename} T3 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}},}
\DoxyCodeLine{464         \textcolor{keyword}{typename} T4 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}},}
\DoxyCodeLine{465         \textcolor{keyword}{typename} T5 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}},}
\DoxyCodeLine{466         \textcolor{keyword}{typename} T6 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}},}
\DoxyCodeLine{467         \textcolor{keyword}{typename} T7 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}},}
\DoxyCodeLine{468         \textcolor{keyword}{typename} T8 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}}>}
\DoxyCodeLine{469     \textcolor{keyword}{static} \textcolor{keywordtype}{void} ForEach(}
\DoxyCodeLine{470         \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene,}
\DoxyCodeLine{471         \mbox{\hyperlink{class_uni_engine_1_1_thread_pool}{ThreadPool}} \&workers,}
\DoxyCodeLine{472         \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity_query}{EntityQuery}} \&entityQuery,}
\DoxyCodeLine{473         \textcolor{keyword}{const} std::function<\textcolor{keywordtype}{void}(\textcolor{keywordtype}{int} i, \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} entity, T1 \&, T2 \&, T3 \&, T4 \&, T5 \&, T6 \&, T7 \&, T8 \&)> \&func,}
\DoxyCodeLine{474         \textcolor{keywordtype}{bool} checkEnable = \textcolor{keyword}{true});}
\DoxyCodeLine{475     \textcolor{comment}{// For implicit parallel task dispatching}}
\DoxyCodeLine{476     \textcolor{keyword}{template} <\textcolor{keyword}{typename} T1 = IDataComponent>}
\DoxyCodeLine{477     \textcolor{keyword}{static} \textcolor{keywordtype}{void} ForEach(}
\DoxyCodeLine{478         \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene,}
\DoxyCodeLine{479         \mbox{\hyperlink{class_uni_engine_1_1_thread_pool}{ThreadPool}} \&workers,}
\DoxyCodeLine{480         \textcolor{keyword}{const} std::function<\textcolor{keywordtype}{void}(\textcolor{keywordtype}{int} i, \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} entity, T1 \&)> \&func,}
\DoxyCodeLine{481         \textcolor{keywordtype}{bool} checkEnable = \textcolor{keyword}{true});}
\DoxyCodeLine{482     \textcolor{keyword}{template} <\textcolor{keyword}{typename} T1 = IDataComponent, \textcolor{keyword}{typename} T2 = IDataComponent>}
\DoxyCodeLine{483     \textcolor{keyword}{static} \textcolor{keywordtype}{void} ForEach(}
\DoxyCodeLine{484         \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene,}
\DoxyCodeLine{485         \mbox{\hyperlink{class_uni_engine_1_1_thread_pool}{ThreadPool}} \&workers,}
\DoxyCodeLine{486         \textcolor{keyword}{const} std::function<\textcolor{keywordtype}{void}(\textcolor{keywordtype}{int} i, \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} entity, T1 \&, T2 \&)> \&func,}
\DoxyCodeLine{487         \textcolor{keywordtype}{bool} checkEnable = \textcolor{keyword}{true});}
\DoxyCodeLine{488     \textcolor{keyword}{template} <\textcolor{keyword}{typename} T1 = IDataComponent, \textcolor{keyword}{typename} T2 = IDataComponent, \textcolor{keyword}{typename} T3 = IDataComponent>}
\DoxyCodeLine{489     \textcolor{keyword}{static} \textcolor{keywordtype}{void} ForEach(}
\DoxyCodeLine{490         \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene,}
\DoxyCodeLine{491         \mbox{\hyperlink{class_uni_engine_1_1_thread_pool}{ThreadPool}} \&workers,}
\DoxyCodeLine{492         \textcolor{keyword}{const} std::function<\textcolor{keywordtype}{void}(\textcolor{keywordtype}{int} i, \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} entity, T1 \&, T2 \&, T3 \&)> \&func,}
\DoxyCodeLine{493         \textcolor{keywordtype}{bool} checkEnable = \textcolor{keyword}{true});}
\DoxyCodeLine{494     \textcolor{keyword}{template} <}
\DoxyCodeLine{495         \textcolor{keyword}{typename} T1 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}},}
\DoxyCodeLine{496         \textcolor{keyword}{typename} T2 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}},}
\DoxyCodeLine{497         \textcolor{keyword}{typename} T3 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}},}
\DoxyCodeLine{498         \textcolor{keyword}{typename} T4 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}}>}
\DoxyCodeLine{499     \textcolor{keyword}{static} \textcolor{keywordtype}{void} ForEach(}
\DoxyCodeLine{500         \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene,}
\DoxyCodeLine{501         \mbox{\hyperlink{class_uni_engine_1_1_thread_pool}{ThreadPool}} \&workers,}
\DoxyCodeLine{502         \textcolor{keyword}{const} std::function<\textcolor{keywordtype}{void}(\textcolor{keywordtype}{int} i, \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} entity, T1 \&, T2 \&, T3 \&, T4 \&)> \&func,}
\DoxyCodeLine{503         \textcolor{keywordtype}{bool} checkEnable = \textcolor{keyword}{true});}
\DoxyCodeLine{504     \textcolor{keyword}{template} <}
\DoxyCodeLine{505         \textcolor{keyword}{typename} T1 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}},}
\DoxyCodeLine{506         \textcolor{keyword}{typename} T2 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}},}
\DoxyCodeLine{507         \textcolor{keyword}{typename} T3 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}},}
\DoxyCodeLine{508         \textcolor{keyword}{typename} T4 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}},}
\DoxyCodeLine{509         \textcolor{keyword}{typename} T5 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}}>}
\DoxyCodeLine{510     \textcolor{keyword}{static} \textcolor{keywordtype}{void} ForEach(}
\DoxyCodeLine{511         \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene,}
\DoxyCodeLine{512         \mbox{\hyperlink{class_uni_engine_1_1_thread_pool}{ThreadPool}} \&workers,}
\DoxyCodeLine{513         \textcolor{keyword}{const} std::function<\textcolor{keywordtype}{void}(\textcolor{keywordtype}{int} i, \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} entity, T1 \&, T2 \&, T3 \&, T4 \&, T5 \&)> \&func,}
\DoxyCodeLine{514         \textcolor{keywordtype}{bool} checkEnable = \textcolor{keyword}{true});}
\DoxyCodeLine{515     \textcolor{keyword}{template} <}
\DoxyCodeLine{516         \textcolor{keyword}{typename} T1 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}},}
\DoxyCodeLine{517         \textcolor{keyword}{typename} T2 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}},}
\DoxyCodeLine{518         \textcolor{keyword}{typename} T3 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}},}
\DoxyCodeLine{519         \textcolor{keyword}{typename} T4 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}},}
\DoxyCodeLine{520         \textcolor{keyword}{typename} T5 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}},}
\DoxyCodeLine{521         \textcolor{keyword}{typename} T6 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}}>}
\DoxyCodeLine{522     \textcolor{keyword}{static} \textcolor{keywordtype}{void} ForEach(}
\DoxyCodeLine{523         \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene,}
\DoxyCodeLine{524         \mbox{\hyperlink{class_uni_engine_1_1_thread_pool}{ThreadPool}} \&workers,}
\DoxyCodeLine{525         \textcolor{keyword}{const} std::function<\textcolor{keywordtype}{void}(\textcolor{keywordtype}{int} i, \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} entity, T1 \&, T2 \&, T3 \&, T4 \&, T5 \&, T6 \&)> \&func,}
\DoxyCodeLine{526         \textcolor{keywordtype}{bool} checkEnable = \textcolor{keyword}{true});}
\DoxyCodeLine{527     \textcolor{keyword}{template} <}
\DoxyCodeLine{528         \textcolor{keyword}{typename} T1 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}},}
\DoxyCodeLine{529         \textcolor{keyword}{typename} T2 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}},}
\DoxyCodeLine{530         \textcolor{keyword}{typename} T3 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}},}
\DoxyCodeLine{531         \textcolor{keyword}{typename} T4 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}},}
\DoxyCodeLine{532         \textcolor{keyword}{typename} T5 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}},}
\DoxyCodeLine{533         \textcolor{keyword}{typename} T6 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}},}
\DoxyCodeLine{534         \textcolor{keyword}{typename} T7 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}}>}
\DoxyCodeLine{535     \textcolor{keyword}{static} \textcolor{keywordtype}{void} ForEach(}
\DoxyCodeLine{536         \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene,}
\DoxyCodeLine{537         \mbox{\hyperlink{class_uni_engine_1_1_thread_pool}{ThreadPool}} \&workers,}
\DoxyCodeLine{538         \textcolor{keyword}{const} std::function<\textcolor{keywordtype}{void}(\textcolor{keywordtype}{int} i, \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} entity, T1 \&, T2 \&, T3 \&, T4 \&, T5 \&, T6 \&, T7 \&)> \&func,}
\DoxyCodeLine{539         \textcolor{keywordtype}{bool} checkEnable = \textcolor{keyword}{true});}
\DoxyCodeLine{540     \textcolor{keyword}{template} <}
\DoxyCodeLine{541         \textcolor{keyword}{typename} T1 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}},}
\DoxyCodeLine{542         \textcolor{keyword}{typename} T2 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}},}
\DoxyCodeLine{543         \textcolor{keyword}{typename} T3 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}},}
\DoxyCodeLine{544         \textcolor{keyword}{typename} T4 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}},}
\DoxyCodeLine{545         \textcolor{keyword}{typename} T5 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}},}
\DoxyCodeLine{546         \textcolor{keyword}{typename} T6 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}},}
\DoxyCodeLine{547         \textcolor{keyword}{typename} T7 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}},}
\DoxyCodeLine{548         \textcolor{keyword}{typename} T8 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}}>}
\DoxyCodeLine{549     \textcolor{keyword}{static} \textcolor{keywordtype}{void} ForEach(}
\DoxyCodeLine{550         \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene,}
\DoxyCodeLine{551         \mbox{\hyperlink{class_uni_engine_1_1_thread_pool}{ThreadPool}} \&workers,}
\DoxyCodeLine{552         \textcolor{keyword}{const} std::function<\textcolor{keywordtype}{void}(\textcolor{keywordtype}{int} i, \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} entity, T1 \&, T2 \&, T3 \&, T4 \&, T5 \&, T6 \&, T7 \&, T8 \&)> \&func,}
\DoxyCodeLine{553         \textcolor{keywordtype}{bool} checkEnable = \textcolor{keyword}{true});}
\DoxyCodeLine{554 }
\DoxyCodeLine{555     \textcolor{comment}{// For explicit parallel task dispatching}}
\DoxyCodeLine{556     \textcolor{keyword}{template} <\textcolor{keyword}{typename} T1 = IDataComponent>}
\DoxyCodeLine{557     \textcolor{keyword}{static} std::packaged\_task<void(\mbox{\hyperlink{class_uni_engine_1_1_thread_pool}{ThreadPool}} \&, \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity_query}{EntityQuery}} \&, \textcolor{keywordtype}{bool})> CreateParallelTask(}
\DoxyCodeLine{558         \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene, \textcolor{keyword}{const} std::function<\textcolor{keywordtype}{void}(\textcolor{keywordtype}{int} i, \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} entity, T1 \&)> \&func);}
\DoxyCodeLine{559     \textcolor{keyword}{template} <\textcolor{keyword}{typename} T1 = IDataComponent, \textcolor{keyword}{typename} T2 = IDataComponent>}
\DoxyCodeLine{560     \textcolor{keyword}{static} std::packaged\_task<void(\mbox{\hyperlink{class_uni_engine_1_1_thread_pool}{ThreadPool}} \&, \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity_query}{EntityQuery}} \&, \textcolor{keywordtype}{bool})> CreateParallelTask(}
\DoxyCodeLine{561         \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene, \textcolor{keyword}{const} std::function<\textcolor{keywordtype}{void}(\textcolor{keywordtype}{int} i, \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} entity, T1 \&, T2 \&)> \&func);}
\DoxyCodeLine{562     \textcolor{keyword}{template} <\textcolor{keyword}{typename} T1 = IDataComponent, \textcolor{keyword}{typename} T2 = IDataComponent, \textcolor{keyword}{typename} T3 = IDataComponent>}
\DoxyCodeLine{563     \textcolor{keyword}{static} std::packaged\_task<void(\mbox{\hyperlink{class_uni_engine_1_1_thread_pool}{ThreadPool}} \&, \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity_query}{EntityQuery}} \&, \textcolor{keywordtype}{bool})> CreateParallelTask(}
\DoxyCodeLine{564         \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene, \textcolor{keyword}{const} std::function<\textcolor{keywordtype}{void}(\textcolor{keywordtype}{int} i, \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} entity, T1 \&, T2 \&, T3 \&)> \&func);}
\DoxyCodeLine{565     \textcolor{keyword}{template} <}
\DoxyCodeLine{566         \textcolor{keyword}{typename} T1 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}},}
\DoxyCodeLine{567         \textcolor{keyword}{typename} T2 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}},}
\DoxyCodeLine{568         \textcolor{keyword}{typename} T3 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}},}
\DoxyCodeLine{569         \textcolor{keyword}{typename} T4 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}}>}
\DoxyCodeLine{570     \textcolor{keyword}{static} std::packaged\_task<void(\mbox{\hyperlink{class_uni_engine_1_1_thread_pool}{ThreadPool}} \&, \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity_query}{EntityQuery}} \&, \textcolor{keywordtype}{bool})> CreateParallelTask(}
\DoxyCodeLine{571         \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene,}
\DoxyCodeLine{572         \textcolor{keyword}{const} std::function<\textcolor{keywordtype}{void}(\textcolor{keywordtype}{int} i, \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} entity, T1 \&, T2 \&, T3 \&, T4 \&)> \&func);}
\DoxyCodeLine{573     \textcolor{keyword}{template} <}
\DoxyCodeLine{574         \textcolor{keyword}{typename} T1 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}},}
\DoxyCodeLine{575         \textcolor{keyword}{typename} T2 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}},}
\DoxyCodeLine{576         \textcolor{keyword}{typename} T3 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}},}
\DoxyCodeLine{577         \textcolor{keyword}{typename} T4 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}},}
\DoxyCodeLine{578         \textcolor{keyword}{typename} T5 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}}>}
\DoxyCodeLine{579     \textcolor{keyword}{static} std::packaged\_task<void(\mbox{\hyperlink{class_uni_engine_1_1_thread_pool}{ThreadPool}} \&, \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity_query}{EntityQuery}} \&, \textcolor{keywordtype}{bool})> CreateParallelTask(}
\DoxyCodeLine{580         \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene,}
\DoxyCodeLine{581         \textcolor{keyword}{const} std::function<\textcolor{keywordtype}{void}(\textcolor{keywordtype}{int} i, \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} entity, T1 \&, T2 \&, T3 \&, T4 \&, T5 \&)> \&func);}
\DoxyCodeLine{582     \textcolor{keyword}{template} <}
\DoxyCodeLine{583         \textcolor{keyword}{typename} T1 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}},}
\DoxyCodeLine{584         \textcolor{keyword}{typename} T2 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}},}
\DoxyCodeLine{585         \textcolor{keyword}{typename} T3 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}},}
\DoxyCodeLine{586         \textcolor{keyword}{typename} T4 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}},}
\DoxyCodeLine{587         \textcolor{keyword}{typename} T5 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}},}
\DoxyCodeLine{588         \textcolor{keyword}{typename} T6 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}}>}
\DoxyCodeLine{589     \textcolor{keyword}{static} std::packaged\_task<void(\mbox{\hyperlink{class_uni_engine_1_1_thread_pool}{ThreadPool}} \&, \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity_query}{EntityQuery}} \&, \textcolor{keywordtype}{bool})> CreateParallelTask(}
\DoxyCodeLine{590         \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene,}
\DoxyCodeLine{591         \textcolor{keyword}{const} std::function<\textcolor{keywordtype}{void}(\textcolor{keywordtype}{int} i, \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} entity, T1 \&, T2 \&, T3 \&, T4 \&, T5 \&, T6 \&)> \&func);}
\DoxyCodeLine{592     \textcolor{keyword}{template} <}
\DoxyCodeLine{593         \textcolor{keyword}{typename} T1 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}},}
\DoxyCodeLine{594         \textcolor{keyword}{typename} T2 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}},}
\DoxyCodeLine{595         \textcolor{keyword}{typename} T3 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}},}
\DoxyCodeLine{596         \textcolor{keyword}{typename} T4 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}},}
\DoxyCodeLine{597         \textcolor{keyword}{typename} T5 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}},}
\DoxyCodeLine{598         \textcolor{keyword}{typename} T6 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}},}
\DoxyCodeLine{599         \textcolor{keyword}{typename} T7 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}}>}
\DoxyCodeLine{600     \textcolor{keyword}{static} std::packaged\_task<void(\mbox{\hyperlink{class_uni_engine_1_1_thread_pool}{ThreadPool}} \&, \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity_query}{EntityQuery}} \&, \textcolor{keywordtype}{bool})> CreateParallelTask(}
\DoxyCodeLine{601         \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene,}
\DoxyCodeLine{602         \textcolor{keyword}{const} std::function<\textcolor{keywordtype}{void}(\textcolor{keywordtype}{int} i, \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} entity, T1 \&, T2 \&, T3 \&, T4 \&, T5 \&, T6 \&, T7 \&)> \&func);}
\DoxyCodeLine{603     \textcolor{keyword}{template} <}
\DoxyCodeLine{604         \textcolor{keyword}{typename} T1 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}},}
\DoxyCodeLine{605         \textcolor{keyword}{typename} T2 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}},}
\DoxyCodeLine{606         \textcolor{keyword}{typename} T3 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}},}
\DoxyCodeLine{607         \textcolor{keyword}{typename} T4 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}},}
\DoxyCodeLine{608         \textcolor{keyword}{typename} T5 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}},}
\DoxyCodeLine{609         \textcolor{keyword}{typename} T6 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}},}
\DoxyCodeLine{610         \textcolor{keyword}{typename} T7 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}},}
\DoxyCodeLine{611         \textcolor{keyword}{typename} T8 = \mbox{\hyperlink{struct_uni_engine_1_1_i_data_component}{IDataComponent}}>}
\DoxyCodeLine{612     \textcolor{keyword}{static} std::packaged\_task<void(\mbox{\hyperlink{class_uni_engine_1_1_thread_pool}{ThreadPool}} \&, \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity_query}{EntityQuery}} \&, \textcolor{keywordtype}{bool})> CreateParallelTask(}
\DoxyCodeLine{613         \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene,}
\DoxyCodeLine{614         \textcolor{keyword}{const} std::function<\textcolor{keywordtype}{void}(\textcolor{keywordtype}{int} i, \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} entity, T1 \&, T2 \&, T3 \&, T4 \&, T5 \&, T6 \&, T7 \&, T8 \&)> \&func);}
\DoxyCodeLine{615 }
\DoxyCodeLine{616 \textcolor{preprocessor}{\#pragma endregion}}
\DoxyCodeLine{617     \textcolor{keyword}{static} \textcolor{keywordtype}{void} ForAllEntities(}
\DoxyCodeLine{618         \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene, \textcolor{keyword}{const} std::function<\textcolor{keywordtype}{void}(\textcolor{keywordtype}{int} i, \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} entity)> \&func);}
\DoxyCodeLine{619     \textcolor{keyword}{static} std::shared\_ptr<Scene> GetCurrentScene();}
\DoxyCodeLine{620 }
\DoxyCodeLine{621     \textcolor{keyword}{static} \textcolor{keywordtype}{void} Init();}
\DoxyCodeLine{622 }
\DoxyCodeLine{623     \textcolor{keyword}{template} <\textcolor{keyword}{typename} T = ISystem>}
\DoxyCodeLine{624     \textcolor{keyword}{static} std::shared\_ptr<T> GetOrCreateSystem(std::shared\_ptr<Scene> scene, \textcolor{keywordtype}{float} order);}
\DoxyCodeLine{625     \textcolor{keyword}{template} <\textcolor{keyword}{typename} T = ISystem> \textcolor{keyword}{static} std::shared\_ptr<T> GetSystem(std::shared\_ptr<Scene> scene);}
\DoxyCodeLine{626 }
\DoxyCodeLine{627     \textcolor{keyword}{static} std::shared\_ptr<ISystem> GetOrCreateSystem(}
\DoxyCodeLine{628         \textcolor{keyword}{const} std::string \&systemName, std::shared\_ptr<Scene> scene, \textcolor{keywordtype}{float} order);}
\DoxyCodeLine{629 \};}
\DoxyCodeLine{630 }
\DoxyCodeLine{631 \textcolor{preprocessor}{\#pragma endregion}}
\DoxyCodeLine{632 }
\DoxyCodeLine{633 \textcolor{preprocessor}{\#pragma region Functions}}
\DoxyCodeLine{634 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T> std::shared\_ptr<T> \mbox{\hyperlink{class_uni_engine_1_1_entity_manager_a2c62aabd88dbb7cfb8b6396384230b8e}{EntityManager::GetSystem}}(std::shared\_ptr<Scene> scene)}
\DoxyCodeLine{635 \{}
\DoxyCodeLine{636     \textcolor{keyword}{const} \textcolor{keyword}{auto} search = scene-\/>m\_indexedSystems.find(\textcolor{keyword}{typeid}(T).hash\_code());}
\DoxyCodeLine{637     \textcolor{keywordflow}{if} (search != scene-\/>m\_indexedSystems.end())}
\DoxyCodeLine{638         \textcolor{keywordflow}{return} std::dynamic\_pointer\_cast<T>(search-\/>second);}
\DoxyCodeLine{639     \textcolor{keywordflow}{return} \textcolor{keyword}{nullptr};}
\DoxyCodeLine{640 \}}
\DoxyCodeLine{641 }
\DoxyCodeLine{642 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T> std::shared\_ptr<T> \mbox{\hyperlink{class_uni_engine_1_1_entity_manager_a0c2e01d4b6d775269ddd533388e9a792}{EntityManager::GetOrCreateSystem}}(std::shared\_ptr<Scene> scene, \textcolor{keywordtype}{float} rank)}
\DoxyCodeLine{643 \{}
\DoxyCodeLine{644     \textcolor{keyword}{const} \textcolor{keyword}{auto} search = scene-\/>m\_indexedSystems.find(\textcolor{keyword}{typeid}(T).hash\_code());}
\DoxyCodeLine{645     \textcolor{keywordflow}{if} (search != scene-\/>m\_indexedSystems.end())}
\DoxyCodeLine{646         \textcolor{keywordflow}{return} std::dynamic\_pointer\_cast<T>(search-\/>second);}
\DoxyCodeLine{647     \textcolor{keyword}{auto} ptr = SerializationManager::ProduceSerializable<T>();}
\DoxyCodeLine{648     \textcolor{keyword}{auto} system = std::dynamic\_pointer\_cast<ISystem>(ptr);}
\DoxyCodeLine{649     system-\/>m\_handle = \mbox{\hyperlink{struct_uni_engine_1_1_handle}{Handle}}();}
\DoxyCodeLine{650     system-\/>m\_rank = rank;}
\DoxyCodeLine{651     scene-\/>m\_systems.insert(\{rank, system\});}
\DoxyCodeLine{652     scene-\/>m\_indexedSystems[\textcolor{keyword}{typeid}(T).hash\_code()] = system;}
\DoxyCodeLine{653     scene-\/>m\_mappedSystems[system-\/>m\_handle] = system;}
\DoxyCodeLine{654     system-\/>m\_started = \textcolor{keyword}{false};}
\DoxyCodeLine{655     system-\/>OnCreate();}
\DoxyCodeLine{656     scene-\/>m\_saved = \textcolor{keyword}{false};}
\DoxyCodeLine{657     \textcolor{keywordflow}{return} ptr;}
\DoxyCodeLine{658 \}}
\DoxyCodeLine{659 }
\DoxyCodeLine{660 \textcolor{preprocessor}{\#pragma region Collectors}}
\DoxyCodeLine{661 }
\DoxyCodeLine{662 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T> \textcolor{keywordtype}{bool} EntityManager::CheckDataComponentTypes(T arg)}
\DoxyCodeLine{663 \{}
\DoxyCodeLine{664     \textcolor{keywordflow}{return} std::is\_standard\_layout<T>::value;}
\DoxyCodeLine{665 \}}
\DoxyCodeLine{666 }
\DoxyCodeLine{667 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T, \textcolor{keyword}{typename}... Ts> \textcolor{keywordtype}{bool} EntityManager::CheckDataComponentTypes(T arg, Ts... args)}
\DoxyCodeLine{668 \{}
\DoxyCodeLine{669     \textcolor{keywordflow}{return} std::is\_standard\_layout<T>::value \&\& CheckDataComponentTypes(args...);}
\DoxyCodeLine{670 \}}
\DoxyCodeLine{671 }
\DoxyCodeLine{672 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{673 \textcolor{keywordtype}{size\_t} EntityManager::CollectDataComponentTypes(std::vector<DataComponentType> *componentTypes, T arg)}
\DoxyCodeLine{674 \{}
\DoxyCodeLine{675     \textcolor{keyword}{const} \textcolor{keyword}{auto} type = Typeof<T>();}
\DoxyCodeLine{676     componentTypes-\/>push\_back(type);}
\DoxyCodeLine{677     \textcolor{keywordflow}{return} type.m\_size;}
\DoxyCodeLine{678 \}}
\DoxyCodeLine{679 }
\DoxyCodeLine{680 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T, \textcolor{keyword}{typename}... Ts>}
\DoxyCodeLine{681 \textcolor{keywordtype}{size\_t} EntityManager::CollectDataComponentTypes(std::vector<DataComponentType> *componentTypes, T arg, Ts... args)}
\DoxyCodeLine{682 \{}
\DoxyCodeLine{683     \textcolor{keyword}{auto} offset = CollectDataComponentTypes(componentTypes, args...);}
\DoxyCodeLine{684     DataComponentType type = Typeof<T>();}
\DoxyCodeLine{685     componentTypes-\/>push\_back(type);}
\DoxyCodeLine{686     \textcolor{keywordflow}{return} type.m\_size + offset;}
\DoxyCodeLine{687 \}}
\DoxyCodeLine{688 }
\DoxyCodeLine{689 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T, \textcolor{keyword}{typename}... Ts>}
\DoxyCodeLine{690 std::vector<DataComponentType> EntityManager::CollectDataComponentTypes(T arg, Ts... args)}
\DoxyCodeLine{691 \{}
\DoxyCodeLine{692     \textcolor{keyword}{auto} retVal = std::vector<DataComponentType>();}
\DoxyCodeLine{693     retVal.push\_back(Typeof<Transform>());}
\DoxyCodeLine{694     retVal.push\_back(Typeof<GlobalTransform>());}
\DoxyCodeLine{695     retVal.push\_back(Typeof<GlobalTransformUpdateFlag>());}
\DoxyCodeLine{696     CollectDataComponentTypes(\&retVal, arg, args...);}
\DoxyCodeLine{697     std::sort(retVal.begin() + 3, retVal.end(), \mbox{\hyperlink{namespace_uni_engine_a5c6de04cdff3b3d963ead0089861401e}{ComponentTypeComparator}});}
\DoxyCodeLine{698     \textcolor{keywordtype}{size\_t} offset = 0;}
\DoxyCodeLine{699     EraseDuplicates(retVal);}
\DoxyCodeLine{700     \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} \&i : retVal)}
\DoxyCodeLine{701     \{}
\DoxyCodeLine{702         i.m\_offset = offset;}
\DoxyCodeLine{703         offset += i.m\_size;}
\DoxyCodeLine{704     \}}
\DoxyCodeLine{705     \textcolor{keywordflow}{return} retVal;}
\DoxyCodeLine{706 \}}
\DoxyCodeLine{707 \textcolor{preprocessor}{\#pragma endregion}}
\DoxyCodeLine{708 \textcolor{preprocessor}{\#pragma region ForEachStorage}}
\DoxyCodeLine{709 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T1>}
\DoxyCodeLine{710 \textcolor{keywordtype}{void} EntityManager::ForEachStorage(}
\DoxyCodeLine{711     \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene,}
\DoxyCodeLine{712     ThreadPool \&workers,}
\DoxyCodeLine{713     \textcolor{keyword}{const} DataComponentStorage \&storage,}
\DoxyCodeLine{714     \textcolor{keyword}{const} std::function<\textcolor{keywordtype}{void}(\textcolor{keywordtype}{int} i, Entity entity, T1 \&)> \&func,}
\DoxyCodeLine{715     \textcolor{keywordtype}{bool} checkEnable)}
\DoxyCodeLine{716 \{}
\DoxyCodeLine{717     \textcolor{keyword}{auto} \&entityManager = \mbox{\hyperlink{class_uni_engine_1_1_i_singleton_a3be306028874b8da62357fe83aa7e915}{GetInstance}}();}
\DoxyCodeLine{718 }
\DoxyCodeLine{719     \textcolor{keywordflow}{if} (!scene)}
\DoxyCodeLine{720     \{}
\DoxyCodeLine{721         \textcolor{keywordflow}{return};}
\DoxyCodeLine{722     \}}
\DoxyCodeLine{723     \textcolor{keyword}{auto} targetType1 = Typeof<T1>();}
\DoxyCodeLine{724     \textcolor{keyword}{const} \textcolor{keyword}{auto} entityCount = storage.m\_entityAliveCount;}
\DoxyCodeLine{725     \textcolor{keyword}{auto} found1 = \textcolor{keyword}{false};}
\DoxyCodeLine{726     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto} \&type : storage.m\_dataComponentTypes)}
\DoxyCodeLine{727     \{}
\DoxyCodeLine{728         \textcolor{keywordflow}{if} (type.m\_typeId == targetType1.m\_typeId)}
\DoxyCodeLine{729         \{}
\DoxyCodeLine{730             targetType1 = type;}
\DoxyCodeLine{731             found1 = \textcolor{keyword}{true};}
\DoxyCodeLine{732         \}}
\DoxyCodeLine{733     \}}
\DoxyCodeLine{734     \textcolor{keywordflow}{if} (!found1)}
\DoxyCodeLine{735         \textcolor{keywordflow}{return};}
\DoxyCodeLine{736     \textcolor{keyword}{const} \textcolor{keyword}{auto} capacity = storage.m\_chunkCapacity;}
\DoxyCodeLine{737     \textcolor{keyword}{const} \textcolor{keyword}{auto} \&chunkArray = storage.m\_chunkArray;}
\DoxyCodeLine{738     \textcolor{keyword}{const} \textcolor{keyword}{auto} \&entities = chunkArray.m\_entities;}
\DoxyCodeLine{739     std::vector<std::shared\_future<void>> results;}
\DoxyCodeLine{740     \textcolor{keyword}{const} \textcolor{keyword}{auto} threadSize = workers.Size();}
\DoxyCodeLine{741     \textcolor{keyword}{const} \textcolor{keyword}{auto} threadLoad = entityCount / threadSize;}
\DoxyCodeLine{742     \textcolor{keyword}{const} \textcolor{keyword}{auto} loadReminder = entityCount \% threadSize;}
\DoxyCodeLine{743     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} threadIndex = 0; threadIndex < threadSize; threadIndex++)}
\DoxyCodeLine{744     \{}
\DoxyCodeLine{745         results.push\_back(}
\DoxyCodeLine{746             workers}
\DoxyCodeLine{747                 .Push([=, \&chunkArray, \&entities](\textcolor{keywordtype}{int} \textcolor{keywordtype}{id}) \{}
\DoxyCodeLine{748                     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = threadIndex * threadLoad; i < (threadIndex + 1) * threadLoad; i++)}
\DoxyCodeLine{749                     \{}
\DoxyCodeLine{750                         \textcolor{keyword}{const} \textcolor{keyword}{auto} chunkIndex = i / capacity;}
\DoxyCodeLine{751                         \textcolor{keyword}{const} \textcolor{keyword}{auto} remainder = i \% capacity;}
\DoxyCodeLine{752                         \textcolor{keyword}{auto} *data = \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{char} *\textcolor{keyword}{>}(chunkArray.m\_chunks[chunkIndex].m\_data);}
\DoxyCodeLine{753                         T1 *address1 = \textcolor{keyword}{reinterpret\_cast<}T1 *\textcolor{keyword}{>}(data + targetType1.m\_offset * capacity);}
\DoxyCodeLine{754                         \textcolor{keyword}{const} \textcolor{keyword}{auto} entity = entities.at(i);}
\DoxyCodeLine{755                         \textcolor{keywordflow}{if} (checkEnable \&\& !scene-\/>m\_sceneDataStorage.m\_entityInfos.at(entity.m\_index).m\_enabled)}
\DoxyCodeLine{756                             \textcolor{keywordflow}{continue};}
\DoxyCodeLine{757                         func(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(i), entity, address1[remainder]);}
\DoxyCodeLine{758                     \}}
\DoxyCodeLine{759                     \textcolor{keywordflow}{if} (threadIndex < loadReminder)}
\DoxyCodeLine{760                     \{}
\DoxyCodeLine{761                         \textcolor{keyword}{const} \textcolor{keywordtype}{int} i = threadIndex + threadSize * threadLoad;}
\DoxyCodeLine{762                         \textcolor{keyword}{const} \textcolor{keyword}{auto} chunkIndex = i / capacity;}
\DoxyCodeLine{763                         \textcolor{keyword}{const} \textcolor{keyword}{auto} remainder = i \% capacity;}
\DoxyCodeLine{764                         \textcolor{keyword}{auto} *data = \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{char} *\textcolor{keyword}{>}(chunkArray.m\_chunks[chunkIndex].m\_data);}
\DoxyCodeLine{765                         T1 *address1 = \textcolor{keyword}{reinterpret\_cast<}T1 *\textcolor{keyword}{>}(data + targetType1.m\_offset * capacity);}
\DoxyCodeLine{766                         \textcolor{keyword}{const} \textcolor{keyword}{auto} entity = entities.at(i);}
\DoxyCodeLine{767                         \textcolor{keywordflow}{if} (checkEnable \&\& !scene-\/>m\_sceneDataStorage.m\_entityInfos.at(entity.m\_index).m\_enabled)}
\DoxyCodeLine{768                             \textcolor{keywordflow}{return};}
\DoxyCodeLine{769                         func(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(i), entity, address1[remainder]);}
\DoxyCodeLine{770                     \}}
\DoxyCodeLine{771                 \})}
\DoxyCodeLine{772                 .share());}
\DoxyCodeLine{773     \}}
\DoxyCodeLine{774     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto} \&i : results)}
\DoxyCodeLine{775         i.wait();}
\DoxyCodeLine{776 \}}
\DoxyCodeLine{777 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T1, \textcolor{keyword}{typename} T2>}
\DoxyCodeLine{778 \textcolor{keywordtype}{void} EntityManager::ForEachStorage(}
\DoxyCodeLine{779     \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene,}
\DoxyCodeLine{780     ThreadPool \&workers,}
\DoxyCodeLine{781     \textcolor{keyword}{const} DataComponentStorage \&storage,}
\DoxyCodeLine{782     \textcolor{keyword}{const} std::function<\textcolor{keywordtype}{void}(\textcolor{keywordtype}{int} i, Entity entity, T1 \&, T2 \&)> \&func,}
\DoxyCodeLine{783     \textcolor{keywordtype}{bool} checkEnable)}
\DoxyCodeLine{784 \{}
\DoxyCodeLine{785     \textcolor{keyword}{auto} \&entityManager = \mbox{\hyperlink{class_uni_engine_1_1_i_singleton_a3be306028874b8da62357fe83aa7e915}{GetInstance}}();}
\DoxyCodeLine{786 }
\DoxyCodeLine{787     \textcolor{keywordflow}{if} (!scene)}
\DoxyCodeLine{788     \{}
\DoxyCodeLine{789         \textcolor{keywordflow}{return};}
\DoxyCodeLine{790     \}}
\DoxyCodeLine{791     \textcolor{keyword}{auto} targetType1 = Typeof<T1>();}
\DoxyCodeLine{792     \textcolor{keyword}{auto} targetType2 = Typeof<T2>();}
\DoxyCodeLine{793     \textcolor{keyword}{const} \textcolor{keyword}{auto} entityCount = storage.m\_entityAliveCount;}
\DoxyCodeLine{794     \textcolor{keywordtype}{bool} found1 = \textcolor{keyword}{false};}
\DoxyCodeLine{795     \textcolor{keywordtype}{bool} found2 = \textcolor{keyword}{false};}
\DoxyCodeLine{796     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto} \&type : storage.m\_dataComponentTypes)}
\DoxyCodeLine{797     \{}
\DoxyCodeLine{798         \textcolor{keywordflow}{if} (type.m\_typeId == targetType1.m\_typeId)}
\DoxyCodeLine{799         \{}
\DoxyCodeLine{800             targetType1 = type;}
\DoxyCodeLine{801             found1 = \textcolor{keyword}{true};}
\DoxyCodeLine{802         \}}
\DoxyCodeLine{803         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (type.m\_typeId == targetType2.m\_typeId)}
\DoxyCodeLine{804         \{}
\DoxyCodeLine{805             targetType2 = type;}
\DoxyCodeLine{806             found2 = \textcolor{keyword}{true};}
\DoxyCodeLine{807         \}}
\DoxyCodeLine{808     \}}
\DoxyCodeLine{809 }
\DoxyCodeLine{810     \textcolor{keywordflow}{if} (!found1 || !found2)}
\DoxyCodeLine{811         \textcolor{keywordflow}{return};}
\DoxyCodeLine{812     \textcolor{keyword}{const} \textcolor{keyword}{auto} capacity = storage.m\_chunkCapacity;}
\DoxyCodeLine{813     \textcolor{keyword}{const} \textcolor{keyword}{auto} \&chunkArray = storage.m\_chunkArray;}
\DoxyCodeLine{814     \textcolor{keyword}{const} \textcolor{keyword}{auto} \&entities = chunkArray.m\_entities;}
\DoxyCodeLine{815     std::vector<std::shared\_future<void>> results;}
\DoxyCodeLine{816     \textcolor{keyword}{const} \textcolor{keyword}{auto} threadSize = workers.Size();}
\DoxyCodeLine{817     \textcolor{keyword}{const} \textcolor{keyword}{auto} threadLoad = entityCount / threadSize;}
\DoxyCodeLine{818     \textcolor{keyword}{const} \textcolor{keyword}{auto} loadReminder = entityCount \% threadSize;}
\DoxyCodeLine{819     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} threadIndex = 0; threadIndex < threadSize; threadIndex++)}
\DoxyCodeLine{820     \{}
\DoxyCodeLine{821         results.push\_back(}
\DoxyCodeLine{822             workers}
\DoxyCodeLine{823                 .Push([=, \&chunkArray, \&entities](\textcolor{keywordtype}{int} \textcolor{keywordtype}{id}) \{}
\DoxyCodeLine{824                     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = threadIndex * threadLoad; i < (threadIndex + 1) * threadLoad; i++)}
\DoxyCodeLine{825                     \{}
\DoxyCodeLine{826                         \textcolor{keyword}{const} \textcolor{keyword}{auto} chunkIndex = i / capacity;}
\DoxyCodeLine{827                         \textcolor{keyword}{const} \textcolor{keyword}{auto} remainder = i \% capacity;}
\DoxyCodeLine{828                         \textcolor{keyword}{auto} *data = \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{char} *\textcolor{keyword}{>}(chunkArray.m\_chunks[chunkIndex].m\_data);}
\DoxyCodeLine{829                         T1 *address1 = \textcolor{keyword}{reinterpret\_cast<}T1 *\textcolor{keyword}{>}(data + targetType1.m\_offset * capacity);}
\DoxyCodeLine{830                         T2 *address2 = \textcolor{keyword}{reinterpret\_cast<}T2 *\textcolor{keyword}{>}(data + targetType2.m\_offset * capacity);}
\DoxyCodeLine{831                         \textcolor{keyword}{const} \textcolor{keyword}{auto} entity = entities.at(i);}
\DoxyCodeLine{832                         \textcolor{keywordflow}{if} (checkEnable \&\& !scene-\/>m\_sceneDataStorage.m\_entityInfos.at(entity.m\_index).m\_enabled)}
\DoxyCodeLine{833                             \textcolor{keywordflow}{continue};}
\DoxyCodeLine{834                         func(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(i), entity, address1[remainder], address2[remainder]);}
\DoxyCodeLine{835                     \}}
\DoxyCodeLine{836                     \textcolor{keywordflow}{if} (threadIndex < loadReminder)}
\DoxyCodeLine{837                     \{}
\DoxyCodeLine{838                         \textcolor{keyword}{const} \textcolor{keywordtype}{int} i = threadIndex + threadSize * threadLoad;}
\DoxyCodeLine{839                         \textcolor{keyword}{const} \textcolor{keyword}{auto} chunkIndex = i / capacity;}
\DoxyCodeLine{840                         \textcolor{keyword}{const} \textcolor{keyword}{auto} remainder = i \% capacity;}
\DoxyCodeLine{841                         \textcolor{keyword}{auto} *data = \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{char} *\textcolor{keyword}{>}(chunkArray.m\_chunks[chunkIndex].m\_data);}
\DoxyCodeLine{842                         T1 *address1 = \textcolor{keyword}{reinterpret\_cast<}T1 *\textcolor{keyword}{>}(data + targetType1.m\_offset * capacity);}
\DoxyCodeLine{843                         T2 *address2 = \textcolor{keyword}{reinterpret\_cast<}T2 *\textcolor{keyword}{>}(data + targetType2.m\_offset * capacity);}
\DoxyCodeLine{844                         \textcolor{keyword}{const} \textcolor{keyword}{auto} entity = entities.at(i);}
\DoxyCodeLine{845                         \textcolor{keywordflow}{if} (checkEnable \&\& !scene-\/>m\_sceneDataStorage.m\_entityInfos.at(entity.m\_index).m\_enabled)}
\DoxyCodeLine{846                             \textcolor{keywordflow}{return};}
\DoxyCodeLine{847                         func(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(i), entity, address1[remainder], address2[remainder]);}
\DoxyCodeLine{848                     \}}
\DoxyCodeLine{849                 \})}
\DoxyCodeLine{850                 .share());}
\DoxyCodeLine{851     \}}
\DoxyCodeLine{852     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto} \&i : results)}
\DoxyCodeLine{853         i.wait();}
\DoxyCodeLine{854 \}}
\DoxyCodeLine{855 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T1, \textcolor{keyword}{typename} T2, \textcolor{keyword}{typename} T3>}
\DoxyCodeLine{856 \textcolor{keywordtype}{void} EntityManager::ForEachStorage(}
\DoxyCodeLine{857     \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene,}
\DoxyCodeLine{858     ThreadPool \&workers,}
\DoxyCodeLine{859     \textcolor{keyword}{const} DataComponentStorage \&storage,}
\DoxyCodeLine{860     \textcolor{keyword}{const} std::function<\textcolor{keywordtype}{void}(\textcolor{keywordtype}{int} i, Entity entity, T1 \&, T2 \&, T3 \&)> \&func,}
\DoxyCodeLine{861     \textcolor{keywordtype}{bool} checkEnable)}
\DoxyCodeLine{862 \{}
\DoxyCodeLine{863     \textcolor{keyword}{auto} \&entityManager = \mbox{\hyperlink{class_uni_engine_1_1_i_singleton_a3be306028874b8da62357fe83aa7e915}{GetInstance}}();}
\DoxyCodeLine{864 }
\DoxyCodeLine{865     \textcolor{keywordflow}{if} (!scene)}
\DoxyCodeLine{866     \{}
\DoxyCodeLine{867         \textcolor{keywordflow}{return};}
\DoxyCodeLine{868     \}}
\DoxyCodeLine{869     \textcolor{keyword}{auto} targetType1 = Typeof<T1>();}
\DoxyCodeLine{870     \textcolor{keyword}{auto} targetType2 = Typeof<T2>();}
\DoxyCodeLine{871     \textcolor{keyword}{auto} targetType3 = Typeof<T3>();}
\DoxyCodeLine{872     \textcolor{keyword}{const} \textcolor{keyword}{auto} entityCount = storage.m\_entityAliveCount;}
\DoxyCodeLine{873     \textcolor{keywordtype}{bool} found1 = \textcolor{keyword}{false};}
\DoxyCodeLine{874     \textcolor{keywordtype}{bool} found2 = \textcolor{keyword}{false};}
\DoxyCodeLine{875     \textcolor{keywordtype}{bool} found3 = \textcolor{keyword}{false};}
\DoxyCodeLine{876     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto} \&type : storage.m\_dataComponentTypes)}
\DoxyCodeLine{877     \{}
\DoxyCodeLine{878         \textcolor{keywordflow}{if} (type.m\_typeId == targetType1.m\_typeId)}
\DoxyCodeLine{879         \{}
\DoxyCodeLine{880             targetType1 = type;}
\DoxyCodeLine{881             found1 = \textcolor{keyword}{true};}
\DoxyCodeLine{882         \}}
\DoxyCodeLine{883         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (type.m\_typeId == targetType2.m\_typeId)}
\DoxyCodeLine{884         \{}
\DoxyCodeLine{885             targetType2 = type;}
\DoxyCodeLine{886             found2 = \textcolor{keyword}{true};}
\DoxyCodeLine{887         \}}
\DoxyCodeLine{888         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (type.m\_typeId == targetType3.m\_typeId)}
\DoxyCodeLine{889         \{}
\DoxyCodeLine{890             targetType3 = type;}
\DoxyCodeLine{891             found3 = \textcolor{keyword}{true};}
\DoxyCodeLine{892         \}}
\DoxyCodeLine{893     \}}
\DoxyCodeLine{894     \textcolor{keywordflow}{if} (!found1 || !found2 || !found3)}
\DoxyCodeLine{895         \textcolor{keywordflow}{return};}
\DoxyCodeLine{896     \textcolor{keyword}{const} \textcolor{keyword}{auto} capacity = storage.m\_chunkCapacity;}
\DoxyCodeLine{897     \textcolor{keyword}{const} \textcolor{keyword}{auto} \&chunkArray = storage.m\_chunkArray;}
\DoxyCodeLine{898     \textcolor{keyword}{const} \textcolor{keyword}{auto} \&entities = chunkArray.m\_entities;}
\DoxyCodeLine{899     std::vector<std::shared\_future<void>> results;}
\DoxyCodeLine{900     \textcolor{keyword}{const} \textcolor{keyword}{auto} threadSize = workers.Size();}
\DoxyCodeLine{901     \textcolor{keyword}{const} \textcolor{keyword}{auto} threadLoad = entityCount / threadSize;}
\DoxyCodeLine{902     \textcolor{keyword}{const} \textcolor{keyword}{auto} loadReminder = entityCount \% threadSize;}
\DoxyCodeLine{903     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} threadIndex = 0; threadIndex < threadSize; threadIndex++)}
\DoxyCodeLine{904     \{}
\DoxyCodeLine{905         results.push\_back(}
\DoxyCodeLine{906             workers}
\DoxyCodeLine{907                 .Push([=, \&chunkArray, \&entities](\textcolor{keywordtype}{int} \textcolor{keywordtype}{id}) \{}
\DoxyCodeLine{908                     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = threadIndex * threadLoad; i < (threadIndex + 1) * threadLoad; i++)}
\DoxyCodeLine{909                     \{}
\DoxyCodeLine{910                         \textcolor{keyword}{const} \textcolor{keyword}{auto} chunkIndex = i / capacity;}
\DoxyCodeLine{911                         \textcolor{keyword}{const} \textcolor{keyword}{auto} remainder = i \% capacity;}
\DoxyCodeLine{912                         \textcolor{keyword}{auto} *data = \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{char} *\textcolor{keyword}{>}(chunkArray.m\_chunks[chunkIndex].m\_data);}
\DoxyCodeLine{913                         T1 *address1 = \textcolor{keyword}{reinterpret\_cast<}T1 *\textcolor{keyword}{>}(data + targetType1.m\_offset * capacity);}
\DoxyCodeLine{914                         T2 *address2 = \textcolor{keyword}{reinterpret\_cast<}T2 *\textcolor{keyword}{>}(data + targetType2.m\_offset * capacity);}
\DoxyCodeLine{915                         T3 *address3 = \textcolor{keyword}{reinterpret\_cast<}T3 *\textcolor{keyword}{>}(data + targetType3.m\_offset * capacity);}
\DoxyCodeLine{916                         \textcolor{keyword}{const} \textcolor{keyword}{auto} entity = entities.at(i);}
\DoxyCodeLine{917                         \textcolor{keywordflow}{if} (checkEnable \&\& !scene-\/>m\_sceneDataStorage.m\_entityInfos.at(entity.m\_index).m\_enabled)}
\DoxyCodeLine{918                             \textcolor{keywordflow}{continue};}
\DoxyCodeLine{919                         func(}
\DoxyCodeLine{920                             \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(i), entity, address1[remainder], address2[remainder], address3[remainder]);}
\DoxyCodeLine{921                     \}}
\DoxyCodeLine{922                     \textcolor{keywordflow}{if} (threadIndex < loadReminder)}
\DoxyCodeLine{923                     \{}
\DoxyCodeLine{924                         \textcolor{keyword}{const} \textcolor{keywordtype}{int} i = threadIndex + threadSize * threadLoad;}
\DoxyCodeLine{925                         \textcolor{keyword}{const} \textcolor{keyword}{auto} chunkIndex = i / capacity;}
\DoxyCodeLine{926                         \textcolor{keyword}{const} \textcolor{keyword}{auto} remainder = i \% capacity;}
\DoxyCodeLine{927                         \textcolor{keyword}{auto} *data = \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{char} *\textcolor{keyword}{>}(chunkArray.m\_chunks[chunkIndex].m\_data);}
\DoxyCodeLine{928                         T1 *address1 = \textcolor{keyword}{reinterpret\_cast<}T1 *\textcolor{keyword}{>}(data + targetType1.m\_offset * capacity);}
\DoxyCodeLine{929                         T2 *address2 = \textcolor{keyword}{reinterpret\_cast<}T2 *\textcolor{keyword}{>}(data + targetType2.m\_offset * capacity);}
\DoxyCodeLine{930                         T3 *address3 = \textcolor{keyword}{reinterpret\_cast<}T3 *\textcolor{keyword}{>}(data + targetType3.m\_offset * capacity);}
\DoxyCodeLine{931                         \textcolor{keyword}{const} \textcolor{keyword}{auto} entity = entities.at(i);}
\DoxyCodeLine{932                         \textcolor{keywordflow}{if} (checkEnable \&\& !scene-\/>m\_sceneDataStorage.m\_entityInfos.at(entity.m\_index).m\_enabled)}
\DoxyCodeLine{933                             \textcolor{keywordflow}{return};}
\DoxyCodeLine{934                         func(}
\DoxyCodeLine{935                             \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(i), entity, address1[remainder], address2[remainder], address3[remainder]);}
\DoxyCodeLine{936                     \}}
\DoxyCodeLine{937                 \})}
\DoxyCodeLine{938                 .share());}
\DoxyCodeLine{939     \}}
\DoxyCodeLine{940     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto} \&i : results)}
\DoxyCodeLine{941         i.wait();}
\DoxyCodeLine{942 \}}
\DoxyCodeLine{943 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T1, \textcolor{keyword}{typename} T2, \textcolor{keyword}{typename} T3, \textcolor{keyword}{typename} T4>}
\DoxyCodeLine{944 \textcolor{keywordtype}{void} EntityManager::ForEachStorage(}
\DoxyCodeLine{945     \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene,}
\DoxyCodeLine{946     ThreadPool \&workers,}
\DoxyCodeLine{947     \textcolor{keyword}{const} DataComponentStorage \&storage,}
\DoxyCodeLine{948     \textcolor{keyword}{const} std::function<\textcolor{keywordtype}{void}(\textcolor{keywordtype}{int} i, Entity entity, T1 \&, T2 \&, T3 \&, T4 \&)> \&func,}
\DoxyCodeLine{949     \textcolor{keywordtype}{bool} checkEnable)}
\DoxyCodeLine{950 \{}
\DoxyCodeLine{951     \textcolor{keyword}{auto} \&entityManager = \mbox{\hyperlink{class_uni_engine_1_1_i_singleton_a3be306028874b8da62357fe83aa7e915}{GetInstance}}();}
\DoxyCodeLine{952 }
\DoxyCodeLine{953     \textcolor{keywordflow}{if} (!scene)}
\DoxyCodeLine{954     \{}
\DoxyCodeLine{955         \textcolor{keywordflow}{return};}
\DoxyCodeLine{956     \}}
\DoxyCodeLine{957     \textcolor{keyword}{auto} targetType1 = Typeof<T1>();}
\DoxyCodeLine{958     \textcolor{keyword}{auto} targetType2 = Typeof<T2>();}
\DoxyCodeLine{959     \textcolor{keyword}{auto} targetType3 = Typeof<T3>();}
\DoxyCodeLine{960     \textcolor{keyword}{auto} targetType4 = Typeof<T4>();}
\DoxyCodeLine{961     \textcolor{keyword}{const} \textcolor{keyword}{auto} entityCount = storage.m\_entityAliveCount;}
\DoxyCodeLine{962     \textcolor{keywordtype}{bool} found1 = \textcolor{keyword}{false};}
\DoxyCodeLine{963     \textcolor{keywordtype}{bool} found2 = \textcolor{keyword}{false};}
\DoxyCodeLine{964     \textcolor{keywordtype}{bool} found3 = \textcolor{keyword}{false};}
\DoxyCodeLine{965     \textcolor{keywordtype}{bool} found4 = \textcolor{keyword}{false};}
\DoxyCodeLine{966     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto} \&type : storage.m\_dataComponentTypes)}
\DoxyCodeLine{967     \{}
\DoxyCodeLine{968         \textcolor{keywordflow}{if} (type.m\_typeId == targetType1.m\_typeId)}
\DoxyCodeLine{969         \{}
\DoxyCodeLine{970             targetType1 = type;}
\DoxyCodeLine{971             found1 = \textcolor{keyword}{true};}
\DoxyCodeLine{972         \}}
\DoxyCodeLine{973         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (type.m\_typeId == targetType2.m\_typeId)}
\DoxyCodeLine{974         \{}
\DoxyCodeLine{975             targetType2 = type;}
\DoxyCodeLine{976             found2 = \textcolor{keyword}{true};}
\DoxyCodeLine{977         \}}
\DoxyCodeLine{978         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (type.m\_typeId == targetType3.m\_typeId)}
\DoxyCodeLine{979         \{}
\DoxyCodeLine{980             targetType3 = type;}
\DoxyCodeLine{981             found3 = \textcolor{keyword}{true};}
\DoxyCodeLine{982         \}}
\DoxyCodeLine{983         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (type.m\_typeId == targetType4.m\_typeId)}
\DoxyCodeLine{984         \{}
\DoxyCodeLine{985             targetType4 = type;}
\DoxyCodeLine{986             found4 = \textcolor{keyword}{true};}
\DoxyCodeLine{987         \}}
\DoxyCodeLine{988     \}}
\DoxyCodeLine{989     \textcolor{keywordflow}{if} (!found1 || !found2 || !found3 || !found4)}
\DoxyCodeLine{990         \textcolor{keywordflow}{return};}
\DoxyCodeLine{991     \textcolor{keyword}{const} \textcolor{keyword}{auto} capacity = storage.m\_chunkCapacity;}
\DoxyCodeLine{992     \textcolor{keyword}{const} \textcolor{keyword}{auto} \&chunkArray = storage.m\_chunkArray;}
\DoxyCodeLine{993     \textcolor{keyword}{const} \textcolor{keyword}{auto} \&entities = chunkArray.m\_entities;}
\DoxyCodeLine{994     std::vector<std::shared\_future<void>> results;}
\DoxyCodeLine{995     \textcolor{keyword}{const} \textcolor{keyword}{auto} threadSize = workers.Size();}
\DoxyCodeLine{996     \textcolor{keyword}{const} \textcolor{keyword}{auto} threadLoad = entityCount / threadSize;}
\DoxyCodeLine{997     \textcolor{keyword}{const} \textcolor{keyword}{auto} loadReminder = entityCount \% threadSize;}
\DoxyCodeLine{998     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} threadIndex = 0; threadIndex < threadSize; threadIndex++)}
\DoxyCodeLine{999     \{}
\DoxyCodeLine{1000         results.push\_back(}
\DoxyCodeLine{1001             workers}
\DoxyCodeLine{1002                 .Push([=, \&chunkArray, \&entities](\textcolor{keywordtype}{int} \textcolor{keywordtype}{id}) \{}
\DoxyCodeLine{1003                     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = threadIndex * threadLoad; i < (threadIndex + 1) * threadLoad; i++)}
\DoxyCodeLine{1004                     \{}
\DoxyCodeLine{1005                         \textcolor{keyword}{const} \textcolor{keyword}{auto} chunkIndex = i / capacity;}
\DoxyCodeLine{1006                         \textcolor{keyword}{const} \textcolor{keyword}{auto} remainder = i \% capacity;}
\DoxyCodeLine{1007                         \textcolor{keyword}{auto} *data = \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{char} *\textcolor{keyword}{>}(chunkArray.m\_chunks[chunkIndex].m\_data);}
\DoxyCodeLine{1008                         T1 *address1 = \textcolor{keyword}{reinterpret\_cast<}T1 *\textcolor{keyword}{>}(data + targetType1.m\_offset * capacity);}
\DoxyCodeLine{1009                         T2 *address2 = \textcolor{keyword}{reinterpret\_cast<}T2 *\textcolor{keyword}{>}(data + targetType2.m\_offset * capacity);}
\DoxyCodeLine{1010                         T3 *address3 = \textcolor{keyword}{reinterpret\_cast<}T3 *\textcolor{keyword}{>}(data + targetType3.m\_offset * capacity);}
\DoxyCodeLine{1011                         T4 *address4 = \textcolor{keyword}{reinterpret\_cast<}T4 *\textcolor{keyword}{>}(data + targetType4.m\_offset * capacity);}
\DoxyCodeLine{1012                         \textcolor{keyword}{const} \textcolor{keyword}{auto} entity = entities.at(i);}
\DoxyCodeLine{1013                         \textcolor{keywordflow}{if} (checkEnable \&\& !scene-\/>m\_sceneDataStorage.m\_entityInfos.at(entity.m\_index).m\_enabled)}
\DoxyCodeLine{1014                             \textcolor{keywordflow}{continue};}
\DoxyCodeLine{1015                         func(}
\DoxyCodeLine{1016                             \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(i),}
\DoxyCodeLine{1017                             entity,}
\DoxyCodeLine{1018                             address1[remainder],}
\DoxyCodeLine{1019                             address2[remainder],}
\DoxyCodeLine{1020                             address3[remainder],}
\DoxyCodeLine{1021                             address4[remainder]);}
\DoxyCodeLine{1022                     \}}
\DoxyCodeLine{1023 }
\DoxyCodeLine{1024                     \textcolor{keywordflow}{if} (threadIndex < loadReminder)}
\DoxyCodeLine{1025                     \{}
\DoxyCodeLine{1026                         \textcolor{keyword}{const} \textcolor{keywordtype}{int} i = threadIndex + threadSize * threadLoad;}
\DoxyCodeLine{1027                         \textcolor{keyword}{const} \textcolor{keyword}{auto} chunkIndex = i / capacity;}
\DoxyCodeLine{1028                         \textcolor{keyword}{const} \textcolor{keyword}{auto} remainder = i \% capacity;}
\DoxyCodeLine{1029                         \textcolor{keyword}{auto} *data = \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{char} *\textcolor{keyword}{>}(chunkArray.m\_chunks[chunkIndex].m\_data);}
\DoxyCodeLine{1030                         T1 *address1 = \textcolor{keyword}{reinterpret\_cast<}T1 *\textcolor{keyword}{>}(data + targetType1.m\_offset * capacity);}
\DoxyCodeLine{1031                         T2 *address2 = \textcolor{keyword}{reinterpret\_cast<}T2 *\textcolor{keyword}{>}(data + targetType2.m\_offset * capacity);}
\DoxyCodeLine{1032                         T3 *address3 = \textcolor{keyword}{reinterpret\_cast<}T3 *\textcolor{keyword}{>}(data + targetType3.m\_offset * capacity);}
\DoxyCodeLine{1033                         T4 *address4 = \textcolor{keyword}{reinterpret\_cast<}T4 *\textcolor{keyword}{>}(data + targetType4.m\_offset * capacity);}
\DoxyCodeLine{1034                         \textcolor{keyword}{const} \textcolor{keyword}{auto} entity = entities.at(i);}
\DoxyCodeLine{1035                         \textcolor{keywordflow}{if} (checkEnable \&\& !scene-\/>m\_sceneDataStorage.m\_entityInfos.at(entity.m\_index).m\_enabled)}
\DoxyCodeLine{1036                             \textcolor{keywordflow}{return};}
\DoxyCodeLine{1037                         func(}
\DoxyCodeLine{1038                             \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(i),}
\DoxyCodeLine{1039                             entity,}
\DoxyCodeLine{1040                             address1[remainder],}
\DoxyCodeLine{1041                             address2[remainder],}
\DoxyCodeLine{1042                             address3[remainder],}
\DoxyCodeLine{1043                             address4[remainder]);}
\DoxyCodeLine{1044                     \}}
\DoxyCodeLine{1045                 \})}
\DoxyCodeLine{1046                 .share());}
\DoxyCodeLine{1047     \}}
\DoxyCodeLine{1048     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto} \&i : results)}
\DoxyCodeLine{1049         i.wait();}
\DoxyCodeLine{1050 \}}
\DoxyCodeLine{1051 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T1, \textcolor{keyword}{typename} T2, \textcolor{keyword}{typename} T3, \textcolor{keyword}{typename} T4, \textcolor{keyword}{typename} T5>}
\DoxyCodeLine{1052 \textcolor{keywordtype}{void} EntityManager::ForEachStorage(}
\DoxyCodeLine{1053     \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene,}
\DoxyCodeLine{1054     ThreadPool \&workers,}
\DoxyCodeLine{1055     \textcolor{keyword}{const} DataComponentStorage \&storage,}
\DoxyCodeLine{1056     \textcolor{keyword}{const} std::function<\textcolor{keywordtype}{void}(\textcolor{keywordtype}{int} i, Entity entity, T1 \&, T2 \&, T3 \&, T4 \&, T5 \&)> \&func,}
\DoxyCodeLine{1057     \textcolor{keywordtype}{bool} checkEnable)}
\DoxyCodeLine{1058 \{}
\DoxyCodeLine{1059     \textcolor{keyword}{auto} \&entityManager = \mbox{\hyperlink{class_uni_engine_1_1_i_singleton_a3be306028874b8da62357fe83aa7e915}{GetInstance}}();}
\DoxyCodeLine{1060 }
\DoxyCodeLine{1061     \textcolor{keywordflow}{if} (!scene)}
\DoxyCodeLine{1062     \{}
\DoxyCodeLine{1063         \textcolor{keywordflow}{return};}
\DoxyCodeLine{1064     \}}
\DoxyCodeLine{1065     \textcolor{keyword}{auto} targetType1 = Typeof<T1>();}
\DoxyCodeLine{1066     \textcolor{keyword}{auto} targetType2 = Typeof<T2>();}
\DoxyCodeLine{1067     \textcolor{keyword}{auto} targetType3 = Typeof<T3>();}
\DoxyCodeLine{1068     \textcolor{keyword}{auto} targetType4 = Typeof<T4>();}
\DoxyCodeLine{1069     \textcolor{keyword}{auto} targetType5 = Typeof<T5>();}
\DoxyCodeLine{1070     \textcolor{keyword}{const} \textcolor{keyword}{auto} entityCount = storage.m\_entityAliveCount;}
\DoxyCodeLine{1071     \textcolor{keywordtype}{bool} found1 = \textcolor{keyword}{false};}
\DoxyCodeLine{1072     \textcolor{keywordtype}{bool} found2 = \textcolor{keyword}{false};}
\DoxyCodeLine{1073     \textcolor{keywordtype}{bool} found3 = \textcolor{keyword}{false};}
\DoxyCodeLine{1074     \textcolor{keywordtype}{bool} found4 = \textcolor{keyword}{false};}
\DoxyCodeLine{1075     \textcolor{keywordtype}{bool} found5 = \textcolor{keyword}{false};}
\DoxyCodeLine{1076     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto} \&type : storage.m\_dataComponentTypes)}
\DoxyCodeLine{1077     \{}
\DoxyCodeLine{1078         \textcolor{keywordflow}{if} (type.m\_typeId == targetType1.m\_typeId)}
\DoxyCodeLine{1079         \{}
\DoxyCodeLine{1080             targetType1 = type;}
\DoxyCodeLine{1081             found1 = \textcolor{keyword}{true};}
\DoxyCodeLine{1082         \}}
\DoxyCodeLine{1083         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (type.m\_typeId == targetType2.m\_typeId)}
\DoxyCodeLine{1084         \{}
\DoxyCodeLine{1085             targetType2 = type;}
\DoxyCodeLine{1086             found2 = \textcolor{keyword}{true};}
\DoxyCodeLine{1087         \}}
\DoxyCodeLine{1088         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (type.m\_typeId == targetType3.m\_typeId)}
\DoxyCodeLine{1089         \{}
\DoxyCodeLine{1090             targetType3 = type;}
\DoxyCodeLine{1091             found3 = \textcolor{keyword}{true};}
\DoxyCodeLine{1092         \}}
\DoxyCodeLine{1093         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (type.m\_typeId == targetType4.m\_typeId)}
\DoxyCodeLine{1094         \{}
\DoxyCodeLine{1095             targetType4 = type;}
\DoxyCodeLine{1096             found4 = \textcolor{keyword}{true};}
\DoxyCodeLine{1097         \}}
\DoxyCodeLine{1098         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (type.m\_typeId == targetType5.m\_typeId)}
\DoxyCodeLine{1099         \{}
\DoxyCodeLine{1100             targetType5 = type;}
\DoxyCodeLine{1101             found5 = \textcolor{keyword}{true};}
\DoxyCodeLine{1102         \}}
\DoxyCodeLine{1103     \}}
\DoxyCodeLine{1104     \textcolor{keywordflow}{if} (!found1 || !found2 || !found3 || !found4 || !found5)}
\DoxyCodeLine{1105         \textcolor{keywordflow}{return};}
\DoxyCodeLine{1106     \textcolor{keyword}{const} \textcolor{keyword}{auto} capacity = storage.m\_chunkCapacity;}
\DoxyCodeLine{1107     \textcolor{keyword}{const} \textcolor{keyword}{auto} \&chunkArray = storage.m\_chunkArray;}
\DoxyCodeLine{1108     \textcolor{keyword}{const} \textcolor{keyword}{auto} \&entities = chunkArray.m\_entities;}
\DoxyCodeLine{1109     std::vector<std::shared\_future<void>> results;}
\DoxyCodeLine{1110     \textcolor{keyword}{const} \textcolor{keyword}{auto} threadSize = workers.Size();}
\DoxyCodeLine{1111     \textcolor{keyword}{const} \textcolor{keyword}{auto} threadLoad = entityCount / threadSize;}
\DoxyCodeLine{1112     \textcolor{keyword}{const} \textcolor{keyword}{auto} loadReminder = entityCount \% threadSize;}
\DoxyCodeLine{1113     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} threadIndex = 0; threadIndex < threadSize; threadIndex++)}
\DoxyCodeLine{1114     \{}
\DoxyCodeLine{1115         results.push\_back(}
\DoxyCodeLine{1116             workers}
\DoxyCodeLine{1117                 .Push([=, \&chunkArray, \&entities](\textcolor{keywordtype}{int} \textcolor{keywordtype}{id}) \{}
\DoxyCodeLine{1118                     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = threadIndex * threadLoad; i < (threadIndex + 1) * threadLoad; i++)}
\DoxyCodeLine{1119                     \{}
\DoxyCodeLine{1120                         \textcolor{keyword}{const} \textcolor{keyword}{auto} chunkIndex = i / capacity;}
\DoxyCodeLine{1121                         \textcolor{keyword}{const} \textcolor{keyword}{auto} remainder = i \% capacity;}
\DoxyCodeLine{1122                         \textcolor{keyword}{auto} *data = \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{char} *\textcolor{keyword}{>}(chunkArray.m\_chunks[chunkIndex].m\_data);}
\DoxyCodeLine{1123                         T1 *address1 = \textcolor{keyword}{reinterpret\_cast<}T1 *\textcolor{keyword}{>}(data + targetType1.m\_offset * capacity);}
\DoxyCodeLine{1124                         T2 *address2 = \textcolor{keyword}{reinterpret\_cast<}T2 *\textcolor{keyword}{>}(data + targetType2.m\_offset * capacity);}
\DoxyCodeLine{1125                         T3 *address3 = \textcolor{keyword}{reinterpret\_cast<}T3 *\textcolor{keyword}{>}(data + targetType3.m\_offset * capacity);}
\DoxyCodeLine{1126                         T4 *address4 = \textcolor{keyword}{reinterpret\_cast<}T4 *\textcolor{keyword}{>}(data + targetType4.m\_offset * capacity);}
\DoxyCodeLine{1127                         T5 *address5 = \textcolor{keyword}{reinterpret\_cast<}T5 *\textcolor{keyword}{>}(data + targetType5.m\_offset * capacity);}
\DoxyCodeLine{1128                         \textcolor{keyword}{const} \textcolor{keyword}{auto} entity = entities.at(i);}
\DoxyCodeLine{1129                         \textcolor{keywordflow}{if} (checkEnable \&\& !scene-\/>m\_sceneDataStorage.m\_entityInfos.at(entity.m\_index).m\_enabled)}
\DoxyCodeLine{1130                             \textcolor{keywordflow}{continue};}
\DoxyCodeLine{1131                         func(}
\DoxyCodeLine{1132                             \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(i),}
\DoxyCodeLine{1133                             entity,}
\DoxyCodeLine{1134                             address1[remainder],}
\DoxyCodeLine{1135                             address2[remainder],}
\DoxyCodeLine{1136                             address3[remainder],}
\DoxyCodeLine{1137                             address4[remainder],}
\DoxyCodeLine{1138                             address5[remainder]);}
\DoxyCodeLine{1139                     \}}
\DoxyCodeLine{1140                     \textcolor{keywordflow}{if} (threadIndex < loadReminder)}
\DoxyCodeLine{1141                     \{}
\DoxyCodeLine{1142                         \textcolor{keyword}{const} \textcolor{keywordtype}{int} i = threadIndex + threadSize * threadLoad;}
\DoxyCodeLine{1143                         \textcolor{keyword}{const} \textcolor{keyword}{auto} chunkIndex = i / capacity;}
\DoxyCodeLine{1144                         \textcolor{keyword}{const} \textcolor{keyword}{auto} remainder = i \% capacity;}
\DoxyCodeLine{1145                         \textcolor{keyword}{auto} *data = \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{char} *\textcolor{keyword}{>}(chunkArray.m\_chunks[chunkIndex].m\_data);}
\DoxyCodeLine{1146                         T1 *address1 = \textcolor{keyword}{reinterpret\_cast<}T1 *\textcolor{keyword}{>}(data + targetType1.m\_offset * capacity);}
\DoxyCodeLine{1147                         T2 *address2 = \textcolor{keyword}{reinterpret\_cast<}T2 *\textcolor{keyword}{>}(data + targetType2.m\_offset * capacity);}
\DoxyCodeLine{1148                         T3 *address3 = \textcolor{keyword}{reinterpret\_cast<}T3 *\textcolor{keyword}{>}(data + targetType3.m\_offset * capacity);}
\DoxyCodeLine{1149                         T4 *address4 = \textcolor{keyword}{reinterpret\_cast<}T4 *\textcolor{keyword}{>}(data + targetType4.m\_offset * capacity);}
\DoxyCodeLine{1150                         T5 *address5 = \textcolor{keyword}{reinterpret\_cast<}T5 *\textcolor{keyword}{>}(data + targetType5.m\_offset * capacity);}
\DoxyCodeLine{1151                         \textcolor{keyword}{const} \textcolor{keyword}{auto} entity = entities.at(i);}
\DoxyCodeLine{1152                         \textcolor{keywordflow}{if} (checkEnable \&\& !scene-\/>m\_sceneDataStorage.m\_entityInfos.at(entity.m\_index).m\_enabled)}
\DoxyCodeLine{1153                             \textcolor{keywordflow}{return};}
\DoxyCodeLine{1154                         func(}
\DoxyCodeLine{1155                             \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(i),}
\DoxyCodeLine{1156                             entity,}
\DoxyCodeLine{1157                             address1[remainder],}
\DoxyCodeLine{1158                             address2[remainder],}
\DoxyCodeLine{1159                             address3[remainder],}
\DoxyCodeLine{1160                             address4[remainder],}
\DoxyCodeLine{1161                             address5[remainder]);}
\DoxyCodeLine{1162                     \}}
\DoxyCodeLine{1163                 \})}
\DoxyCodeLine{1164                 .share());}
\DoxyCodeLine{1165     \}}
\DoxyCodeLine{1166     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto} \&i : results)}
\DoxyCodeLine{1167         i.wait();}
\DoxyCodeLine{1168 \}}
\DoxyCodeLine{1169 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T1, \textcolor{keyword}{typename} T2, \textcolor{keyword}{typename} T3, \textcolor{keyword}{typename} T4, \textcolor{keyword}{typename} T5, \textcolor{keyword}{typename} T6>}
\DoxyCodeLine{1170 \textcolor{keywordtype}{void} EntityManager::ForEachStorage(}
\DoxyCodeLine{1171     \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene,}
\DoxyCodeLine{1172     ThreadPool \&workers,}
\DoxyCodeLine{1173     \textcolor{keyword}{const} DataComponentStorage \&storage,}
\DoxyCodeLine{1174     \textcolor{keyword}{const} std::function<\textcolor{keywordtype}{void}(\textcolor{keywordtype}{int} i, Entity entity, T1 \&, T2 \&, T3 \&, T4 \&, T5 \&, T6 \&)> \&func,}
\DoxyCodeLine{1175     \textcolor{keywordtype}{bool} checkEnable)}
\DoxyCodeLine{1176 \{}
\DoxyCodeLine{1177     \textcolor{keyword}{auto} \&entityManager = \mbox{\hyperlink{class_uni_engine_1_1_i_singleton_a3be306028874b8da62357fe83aa7e915}{GetInstance}}();}
\DoxyCodeLine{1178 }
\DoxyCodeLine{1179     \textcolor{keywordflow}{if} (!scene)}
\DoxyCodeLine{1180     \{}
\DoxyCodeLine{1181         \textcolor{keywordflow}{return};}
\DoxyCodeLine{1182     \}}
\DoxyCodeLine{1183     \textcolor{keyword}{auto} targetType1 = Typeof<T1>();}
\DoxyCodeLine{1184     \textcolor{keyword}{auto} targetType2 = Typeof<T2>();}
\DoxyCodeLine{1185     \textcolor{keyword}{auto} targetType3 = Typeof<T3>();}
\DoxyCodeLine{1186     \textcolor{keyword}{auto} targetType4 = Typeof<T4>();}
\DoxyCodeLine{1187     \textcolor{keyword}{auto} targetType5 = Typeof<T5>();}
\DoxyCodeLine{1188     \textcolor{keyword}{auto} targetType6 = Typeof<T6>();}
\DoxyCodeLine{1189     \textcolor{keyword}{const} \textcolor{keyword}{auto} entityCount = storage.m\_entityAliveCount;}
\DoxyCodeLine{1190     \textcolor{keywordtype}{bool} found1 = \textcolor{keyword}{false};}
\DoxyCodeLine{1191     \textcolor{keywordtype}{bool} found2 = \textcolor{keyword}{false};}
\DoxyCodeLine{1192     \textcolor{keywordtype}{bool} found3 = \textcolor{keyword}{false};}
\DoxyCodeLine{1193     \textcolor{keywordtype}{bool} found4 = \textcolor{keyword}{false};}
\DoxyCodeLine{1194     \textcolor{keywordtype}{bool} found5 = \textcolor{keyword}{false};}
\DoxyCodeLine{1195     \textcolor{keywordtype}{bool} found6 = \textcolor{keyword}{false};}
\DoxyCodeLine{1196     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto} \&type : storage.m\_dataComponentTypes)}
\DoxyCodeLine{1197     \{}
\DoxyCodeLine{1198         \textcolor{keywordflow}{if} (type.m\_typeId == targetType1.m\_typeId)}
\DoxyCodeLine{1199         \{}
\DoxyCodeLine{1200             targetType1 = type;}
\DoxyCodeLine{1201             found1 = \textcolor{keyword}{true};}
\DoxyCodeLine{1202         \}}
\DoxyCodeLine{1203         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (type.m\_typeId == targetType2.m\_typeId)}
\DoxyCodeLine{1204         \{}
\DoxyCodeLine{1205             targetType2 = type;}
\DoxyCodeLine{1206             found2 = \textcolor{keyword}{true};}
\DoxyCodeLine{1207         \}}
\DoxyCodeLine{1208         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (type.m\_typeId == targetType3.m\_typeId)}
\DoxyCodeLine{1209         \{}
\DoxyCodeLine{1210             targetType3 = type;}
\DoxyCodeLine{1211             found3 = \textcolor{keyword}{true};}
\DoxyCodeLine{1212         \}}
\DoxyCodeLine{1213         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (type.m\_typeId == targetType4.m\_typeId)}
\DoxyCodeLine{1214         \{}
\DoxyCodeLine{1215             targetType4 = type;}
\DoxyCodeLine{1216             found4 = \textcolor{keyword}{true};}
\DoxyCodeLine{1217         \}}
\DoxyCodeLine{1218         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (type.m\_typeId == targetType5.m\_typeId)}
\DoxyCodeLine{1219         \{}
\DoxyCodeLine{1220             targetType5 = type;}
\DoxyCodeLine{1221             found5 = \textcolor{keyword}{true};}
\DoxyCodeLine{1222         \}}
\DoxyCodeLine{1223         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (type.m\_typeId == targetType6.m\_typeId)}
\DoxyCodeLine{1224         \{}
\DoxyCodeLine{1225             targetType6 = type;}
\DoxyCodeLine{1226             found6 = \textcolor{keyword}{true};}
\DoxyCodeLine{1227         \}}
\DoxyCodeLine{1228     \}}
\DoxyCodeLine{1229     \textcolor{keywordflow}{if} (!found1 || !found2 || !found3 || !found4 || !found5 || !found6)}
\DoxyCodeLine{1230         \textcolor{keywordflow}{return};}
\DoxyCodeLine{1231     \textcolor{keyword}{const} \textcolor{keyword}{auto} capacity = storage.m\_chunkCapacity;}
\DoxyCodeLine{1232     \textcolor{keyword}{const} \textcolor{keyword}{auto} \&chunkArray = storage.m\_chunkArray;}
\DoxyCodeLine{1233     \textcolor{keyword}{const} \textcolor{keyword}{auto} \&entities = chunkArray.m\_entities;}
\DoxyCodeLine{1234     std::vector<std::shared\_future<void>> results;}
\DoxyCodeLine{1235     \textcolor{keyword}{const} \textcolor{keyword}{auto} threadSize = workers.Size();}
\DoxyCodeLine{1236     \textcolor{keyword}{const} \textcolor{keyword}{auto} threadLoad = entityCount / threadSize;}
\DoxyCodeLine{1237     \textcolor{keyword}{const} \textcolor{keyword}{auto} loadReminder = entityCount \% threadSize;}
\DoxyCodeLine{1238     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} threadIndex = 0; threadIndex < threadSize; threadIndex++)}
\DoxyCodeLine{1239     \{}
\DoxyCodeLine{1240         results.push\_back(}
\DoxyCodeLine{1241             workers}
\DoxyCodeLine{1242                 .Push([=, \&chunkArray, \&entities](\textcolor{keywordtype}{int} \textcolor{keywordtype}{id}) \{}
\DoxyCodeLine{1243                     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = threadIndex * threadLoad; i < (threadIndex + 1) * threadLoad; i++)}
\DoxyCodeLine{1244                     \{}
\DoxyCodeLine{1245                         \textcolor{keyword}{const} \textcolor{keyword}{auto} chunkIndex = i / capacity;}
\DoxyCodeLine{1246                         \textcolor{keyword}{const} \textcolor{keyword}{auto} remainder = i \% capacity;}
\DoxyCodeLine{1247                         \textcolor{keyword}{auto} *data = \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{char} *\textcolor{keyword}{>}(chunkArray.m\_chunks[chunkIndex].m\_data);}
\DoxyCodeLine{1248                         T1 *address1 = \textcolor{keyword}{reinterpret\_cast<}T1 *\textcolor{keyword}{>}(data + targetType1.m\_offset * capacity);}
\DoxyCodeLine{1249                         T2 *address2 = \textcolor{keyword}{reinterpret\_cast<}T2 *\textcolor{keyword}{>}(data + targetType2.m\_offset * capacity);}
\DoxyCodeLine{1250                         T3 *address3 = \textcolor{keyword}{reinterpret\_cast<}T3 *\textcolor{keyword}{>}(data + targetType3.m\_offset * capacity);}
\DoxyCodeLine{1251                         T4 *address4 = \textcolor{keyword}{reinterpret\_cast<}T4 *\textcolor{keyword}{>}(data + targetType4.m\_offset * capacity);}
\DoxyCodeLine{1252                         T5 *address5 = \textcolor{keyword}{reinterpret\_cast<}T5 *\textcolor{keyword}{>}(data + targetType5.m\_offset * capacity);}
\DoxyCodeLine{1253                         T6 *address6 = \textcolor{keyword}{reinterpret\_cast<}T6 *\textcolor{keyword}{>}(data + targetType6.m\_offset * capacity);}
\DoxyCodeLine{1254                         \textcolor{keyword}{const} \textcolor{keyword}{auto} entity = entities.at(i);}
\DoxyCodeLine{1255                         \textcolor{keywordflow}{if} (checkEnable \&\& !scene-\/>m\_sceneDataStorage.m\_entityInfos.at(entity.m\_index).m\_enabled)}
\DoxyCodeLine{1256                             \textcolor{keywordflow}{continue};}
\DoxyCodeLine{1257                         func(}
\DoxyCodeLine{1258                             \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(i),}
\DoxyCodeLine{1259                             entity,}
\DoxyCodeLine{1260                             address1[remainder],}
\DoxyCodeLine{1261                             address2[remainder],}
\DoxyCodeLine{1262                             address3[remainder],}
\DoxyCodeLine{1263                             address4[remainder],}
\DoxyCodeLine{1264                             address5[remainder],}
\DoxyCodeLine{1265                             address6[remainder]);}
\DoxyCodeLine{1266                     \}}
\DoxyCodeLine{1267                     \textcolor{keywordflow}{if} (threadIndex < loadReminder)}
\DoxyCodeLine{1268                     \{}
\DoxyCodeLine{1269                         \textcolor{keyword}{const} \textcolor{keywordtype}{int} i = threadIndex + threadSize * threadLoad;}
\DoxyCodeLine{1270                         \textcolor{keyword}{const} \textcolor{keyword}{auto} chunkIndex = i / capacity;}
\DoxyCodeLine{1271                         \textcolor{keyword}{const} \textcolor{keyword}{auto} remainder = i \% capacity;}
\DoxyCodeLine{1272                         \textcolor{keyword}{auto} *data = \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{char} *\textcolor{keyword}{>}(chunkArray.m\_chunks[chunkIndex].m\_data);}
\DoxyCodeLine{1273                         T1 *address1 = \textcolor{keyword}{reinterpret\_cast<}T1 *\textcolor{keyword}{>}(data + targetType1.m\_offset * capacity);}
\DoxyCodeLine{1274                         T2 *address2 = \textcolor{keyword}{reinterpret\_cast<}T2 *\textcolor{keyword}{>}(data + targetType2.m\_offset * capacity);}
\DoxyCodeLine{1275                         T3 *address3 = \textcolor{keyword}{reinterpret\_cast<}T3 *\textcolor{keyword}{>}(data + targetType3.m\_offset * capacity);}
\DoxyCodeLine{1276                         T4 *address4 = \textcolor{keyword}{reinterpret\_cast<}T4 *\textcolor{keyword}{>}(data + targetType4.m\_offset * capacity);}
\DoxyCodeLine{1277                         T5 *address5 = \textcolor{keyword}{reinterpret\_cast<}T5 *\textcolor{keyword}{>}(data + targetType5.m\_offset * capacity);}
\DoxyCodeLine{1278                         T6 *address6 = \textcolor{keyword}{reinterpret\_cast<}T6 *\textcolor{keyword}{>}(data + targetType6.m\_offset * capacity);}
\DoxyCodeLine{1279                         \textcolor{keyword}{const} \textcolor{keyword}{auto} entity = entities.at(i);}
\DoxyCodeLine{1280                         \textcolor{keywordflow}{if} (checkEnable \&\& !scene-\/>m\_sceneDataStorage.m\_entityInfos.at(entity.m\_index).m\_enabled)}
\DoxyCodeLine{1281                             \textcolor{keywordflow}{return};}
\DoxyCodeLine{1282                         func(}
\DoxyCodeLine{1283                             \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(i),}
\DoxyCodeLine{1284                             entity,}
\DoxyCodeLine{1285                             address1[remainder],}
\DoxyCodeLine{1286                             address2[remainder],}
\DoxyCodeLine{1287                             address3[remainder],}
\DoxyCodeLine{1288                             address4[remainder],}
\DoxyCodeLine{1289                             address5[remainder],}
\DoxyCodeLine{1290                             address6[remainder]);}
\DoxyCodeLine{1291                     \}}
\DoxyCodeLine{1292                 \})}
\DoxyCodeLine{1293                 .share());}
\DoxyCodeLine{1294     \}}
\DoxyCodeLine{1295     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto} \&i : results)}
\DoxyCodeLine{1296         i.wait();}
\DoxyCodeLine{1297 \}}
\DoxyCodeLine{1298 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T1, \textcolor{keyword}{typename} T2, \textcolor{keyword}{typename} T3, \textcolor{keyword}{typename} T4, \textcolor{keyword}{typename} T5, \textcolor{keyword}{typename} T6, \textcolor{keyword}{typename} T7>}
\DoxyCodeLine{1299 \textcolor{keywordtype}{void} EntityManager::ForEachStorage(}
\DoxyCodeLine{1300     \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene,}
\DoxyCodeLine{1301     ThreadPool \&workers,}
\DoxyCodeLine{1302     \textcolor{keyword}{const} DataComponentStorage \&storage,}
\DoxyCodeLine{1303     \textcolor{keyword}{const} std::function<\textcolor{keywordtype}{void}(\textcolor{keywordtype}{int} i, Entity entity, T1 \&, T2 \&, T3 \&, T4 \&, T5 \&, T6 \&, T7 \&)> \&func,}
\DoxyCodeLine{1304     \textcolor{keywordtype}{bool} checkEnable)}
\DoxyCodeLine{1305 \{}
\DoxyCodeLine{1306     \textcolor{keyword}{auto} \&entityManager = \mbox{\hyperlink{class_uni_engine_1_1_i_singleton_a3be306028874b8da62357fe83aa7e915}{GetInstance}}();}
\DoxyCodeLine{1307 }
\DoxyCodeLine{1308     \textcolor{keywordflow}{if} (!scene)}
\DoxyCodeLine{1309     \{}
\DoxyCodeLine{1310         \textcolor{keywordflow}{return};}
\DoxyCodeLine{1311     \}}
\DoxyCodeLine{1312     \textcolor{keyword}{auto} targetType1 = Typeof<T1>();}
\DoxyCodeLine{1313     \textcolor{keyword}{auto} targetType2 = Typeof<T2>();}
\DoxyCodeLine{1314     \textcolor{keyword}{auto} targetType3 = Typeof<T3>();}
\DoxyCodeLine{1315     \textcolor{keyword}{auto} targetType4 = Typeof<T4>();}
\DoxyCodeLine{1316     \textcolor{keyword}{auto} targetType5 = Typeof<T5>();}
\DoxyCodeLine{1317     \textcolor{keyword}{auto} targetType6 = Typeof<T6>();}
\DoxyCodeLine{1318     \textcolor{keyword}{auto} targetType7 = Typeof<T7>();}
\DoxyCodeLine{1319     \textcolor{keyword}{const} \textcolor{keyword}{auto} entityCount = storage.m\_entityAliveCount;}
\DoxyCodeLine{1320     \textcolor{keywordtype}{bool} found1 = \textcolor{keyword}{false};}
\DoxyCodeLine{1321     \textcolor{keywordtype}{bool} found2 = \textcolor{keyword}{false};}
\DoxyCodeLine{1322     \textcolor{keywordtype}{bool} found3 = \textcolor{keyword}{false};}
\DoxyCodeLine{1323     \textcolor{keywordtype}{bool} found4 = \textcolor{keyword}{false};}
\DoxyCodeLine{1324     \textcolor{keywordtype}{bool} found5 = \textcolor{keyword}{false};}
\DoxyCodeLine{1325     \textcolor{keywordtype}{bool} found6 = \textcolor{keyword}{false};}
\DoxyCodeLine{1326     \textcolor{keywordtype}{bool} found7 = \textcolor{keyword}{false};}
\DoxyCodeLine{1327     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto} \&type : storage.m\_dataComponentTypes)}
\DoxyCodeLine{1328     \{}
\DoxyCodeLine{1329         \textcolor{keywordflow}{if} (type.m\_typeId == targetType1.m\_typeId)}
\DoxyCodeLine{1330         \{}
\DoxyCodeLine{1331             targetType1 = type;}
\DoxyCodeLine{1332             found1 = \textcolor{keyword}{true};}
\DoxyCodeLine{1333         \}}
\DoxyCodeLine{1334         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (type.m\_typeId == targetType2.m\_typeId)}
\DoxyCodeLine{1335         \{}
\DoxyCodeLine{1336             targetType2 = type;}
\DoxyCodeLine{1337             found2 = \textcolor{keyword}{true};}
\DoxyCodeLine{1338         \}}
\DoxyCodeLine{1339         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (type.m\_typeId == targetType3.m\_typeId)}
\DoxyCodeLine{1340         \{}
\DoxyCodeLine{1341             targetType3 = type;}
\DoxyCodeLine{1342             found3 = \textcolor{keyword}{true};}
\DoxyCodeLine{1343         \}}
\DoxyCodeLine{1344         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (type.m\_typeId == targetType4.m\_typeId)}
\DoxyCodeLine{1345         \{}
\DoxyCodeLine{1346             targetType4 = type;}
\DoxyCodeLine{1347             found4 = \textcolor{keyword}{true};}
\DoxyCodeLine{1348         \}}
\DoxyCodeLine{1349         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (type.m\_typeId == targetType5.m\_typeId)}
\DoxyCodeLine{1350         \{}
\DoxyCodeLine{1351             targetType5 = type;}
\DoxyCodeLine{1352             found5 = \textcolor{keyword}{true};}
\DoxyCodeLine{1353         \}}
\DoxyCodeLine{1354         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (type.m\_typeId == targetType6.m\_typeId)}
\DoxyCodeLine{1355         \{}
\DoxyCodeLine{1356             targetType6 = type;}
\DoxyCodeLine{1357             found6 = \textcolor{keyword}{true};}
\DoxyCodeLine{1358         \}}
\DoxyCodeLine{1359         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (type.m\_typeId == targetType7.m\_typeId)}
\DoxyCodeLine{1360         \{}
\DoxyCodeLine{1361             targetType7 = type;}
\DoxyCodeLine{1362             found7 = \textcolor{keyword}{true};}
\DoxyCodeLine{1363         \}}
\DoxyCodeLine{1364     \}}
\DoxyCodeLine{1365     \textcolor{keywordflow}{if} (!found1 || !found2 || !found3 || !found4 || !found5 || !found6 || !found7)}
\DoxyCodeLine{1366         \textcolor{keywordflow}{return};}
\DoxyCodeLine{1367     \textcolor{keyword}{const} \textcolor{keyword}{auto} capacity = storage.m\_chunkCapacity;}
\DoxyCodeLine{1368     \textcolor{keyword}{const} \textcolor{keyword}{auto} \&chunkArray = storage.m\_chunkArray;}
\DoxyCodeLine{1369     \textcolor{keyword}{const} \textcolor{keyword}{auto} \&entities = chunkArray.m\_entities;}
\DoxyCodeLine{1370     std::vector<std::shared\_future<void>> results;}
\DoxyCodeLine{1371     \textcolor{keyword}{const} \textcolor{keyword}{auto} threadSize = workers.Size();}
\DoxyCodeLine{1372     \textcolor{keyword}{const} \textcolor{keyword}{auto} threadLoad = entityCount / threadSize;}
\DoxyCodeLine{1373     \textcolor{keyword}{const} \textcolor{keyword}{auto} loadReminder = entityCount \% threadSize;}
\DoxyCodeLine{1374     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} threadIndex = 0; threadIndex < threadSize; threadIndex++)}
\DoxyCodeLine{1375     \{}
\DoxyCodeLine{1376         results.push\_back(}
\DoxyCodeLine{1377             workers}
\DoxyCodeLine{1378                 .Push([=, \&chunkArray, \&entities](\textcolor{keywordtype}{int} \textcolor{keywordtype}{id}) \{}
\DoxyCodeLine{1379                     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = threadIndex * threadLoad; i < (threadIndex + 1) * threadLoad; i++)}
\DoxyCodeLine{1380                     \{}
\DoxyCodeLine{1381                         \textcolor{keyword}{const} \textcolor{keyword}{auto} chunkIndex = i / capacity;}
\DoxyCodeLine{1382                         \textcolor{keyword}{const} \textcolor{keyword}{auto} remainder = i \% capacity;}
\DoxyCodeLine{1383                         \textcolor{keyword}{auto} *data = \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{char} *\textcolor{keyword}{>}(chunkArray.m\_chunks[chunkIndex].m\_data);}
\DoxyCodeLine{1384                         T1 *address1 = \textcolor{keyword}{reinterpret\_cast<}T1 *\textcolor{keyword}{>}(data + targetType1.m\_offset * capacity);}
\DoxyCodeLine{1385                         T2 *address2 = \textcolor{keyword}{reinterpret\_cast<}T2 *\textcolor{keyword}{>}(data + targetType2.m\_offset * capacity);}
\DoxyCodeLine{1386                         T3 *address3 = \textcolor{keyword}{reinterpret\_cast<}T3 *\textcolor{keyword}{>}(data + targetType3.m\_offset * capacity);}
\DoxyCodeLine{1387                         T4 *address4 = \textcolor{keyword}{reinterpret\_cast<}T4 *\textcolor{keyword}{>}(data + targetType4.m\_offset * capacity);}
\DoxyCodeLine{1388                         T5 *address5 = \textcolor{keyword}{reinterpret\_cast<}T5 *\textcolor{keyword}{>}(data + targetType5.m\_offset * capacity);}
\DoxyCodeLine{1389                         T6 *address6 = \textcolor{keyword}{reinterpret\_cast<}T6 *\textcolor{keyword}{>}(data + targetType6.m\_offset * capacity);}
\DoxyCodeLine{1390                         T7 *address7 = \textcolor{keyword}{reinterpret\_cast<}T7 *\textcolor{keyword}{>}(data + targetType7.m\_offset * capacity);}
\DoxyCodeLine{1391                         \textcolor{keyword}{const} \textcolor{keyword}{auto} entity = entities.at(i);}
\DoxyCodeLine{1392                         \textcolor{keywordflow}{if} (checkEnable \&\& !scene-\/>m\_sceneDataStorage.m\_entityInfos.at(entity.m\_index).m\_enabled)}
\DoxyCodeLine{1393                             \textcolor{keywordflow}{continue};}
\DoxyCodeLine{1394                         func(}
\DoxyCodeLine{1395                             \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(i),}
\DoxyCodeLine{1396                             entity,}
\DoxyCodeLine{1397                             address1[remainder],}
\DoxyCodeLine{1398                             address2[remainder],}
\DoxyCodeLine{1399                             address3[remainder],}
\DoxyCodeLine{1400                             address4[remainder],}
\DoxyCodeLine{1401                             address5[remainder],}
\DoxyCodeLine{1402                             address6[remainder],}
\DoxyCodeLine{1403                             address7[remainder]);}
\DoxyCodeLine{1404                     \}}
\DoxyCodeLine{1405                     \textcolor{keywordflow}{if} (threadIndex < loadReminder)}
\DoxyCodeLine{1406                     \{}
\DoxyCodeLine{1407                         \textcolor{keyword}{const} \textcolor{keywordtype}{int} i = threadIndex + threadSize * threadLoad;}
\DoxyCodeLine{1408                         \textcolor{keyword}{const} \textcolor{keyword}{auto} chunkIndex = i / capacity;}
\DoxyCodeLine{1409                         \textcolor{keyword}{const} \textcolor{keyword}{auto} remainder = i \% capacity;}
\DoxyCodeLine{1410                         \textcolor{keyword}{auto} *data = \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{char} *\textcolor{keyword}{>}(chunkArray.m\_chunks[chunkIndex].m\_data);}
\DoxyCodeLine{1411                         T1 *address1 = \textcolor{keyword}{reinterpret\_cast<}T1 *\textcolor{keyword}{>}(data + targetType1.m\_offset * capacity);}
\DoxyCodeLine{1412                         T2 *address2 = \textcolor{keyword}{reinterpret\_cast<}T2 *\textcolor{keyword}{>}(data + targetType2.m\_offset * capacity);}
\DoxyCodeLine{1413                         T3 *address3 = \textcolor{keyword}{reinterpret\_cast<}T3 *\textcolor{keyword}{>}(data + targetType3.m\_offset * capacity);}
\DoxyCodeLine{1414                         T4 *address4 = \textcolor{keyword}{reinterpret\_cast<}T4 *\textcolor{keyword}{>}(data + targetType4.m\_offset * capacity);}
\DoxyCodeLine{1415                         T5 *address5 = \textcolor{keyword}{reinterpret\_cast<}T5 *\textcolor{keyword}{>}(data + targetType5.m\_offset * capacity);}
\DoxyCodeLine{1416                         T6 *address6 = \textcolor{keyword}{reinterpret\_cast<}T6 *\textcolor{keyword}{>}(data + targetType6.m\_offset * capacity);}
\DoxyCodeLine{1417                         T7 *address7 = \textcolor{keyword}{reinterpret\_cast<}T7 *\textcolor{keyword}{>}(data + targetType7.m\_offset * capacity);}
\DoxyCodeLine{1418                         \textcolor{keyword}{const} \textcolor{keyword}{auto} entity = entities.at(i);}
\DoxyCodeLine{1419                         \textcolor{keywordflow}{if} (checkEnable \&\& !scene-\/>m\_sceneDataStorage.m\_entityInfos.at(entity.m\_index).m\_enabled)}
\DoxyCodeLine{1420                             \textcolor{keywordflow}{return};}
\DoxyCodeLine{1421                         func(}
\DoxyCodeLine{1422                             \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(i),}
\DoxyCodeLine{1423                             entity,}
\DoxyCodeLine{1424                             address1[remainder],}
\DoxyCodeLine{1425                             address2[remainder],}
\DoxyCodeLine{1426                             address3[remainder],}
\DoxyCodeLine{1427                             address4[remainder],}
\DoxyCodeLine{1428                             address5[remainder],}
\DoxyCodeLine{1429                             address6[remainder],}
\DoxyCodeLine{1430                             address7[remainder]);}
\DoxyCodeLine{1431                     \}}
\DoxyCodeLine{1432                 \})}
\DoxyCodeLine{1433                 .share());}
\DoxyCodeLine{1434     \}}
\DoxyCodeLine{1435     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto} \&i : results)}
\DoxyCodeLine{1436         i.wait();}
\DoxyCodeLine{1437 \}}
\DoxyCodeLine{1438 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T1, \textcolor{keyword}{typename} T2, \textcolor{keyword}{typename} T3, \textcolor{keyword}{typename} T4, \textcolor{keyword}{typename} T5, \textcolor{keyword}{typename} T6, \textcolor{keyword}{typename} T7, \textcolor{keyword}{typename} T8>}
\DoxyCodeLine{1439 \textcolor{keywordtype}{void} EntityManager::ForEachStorage(}
\DoxyCodeLine{1440     \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene,}
\DoxyCodeLine{1441     ThreadPool \&workers,}
\DoxyCodeLine{1442     \textcolor{keyword}{const} DataComponentStorage \&storage,}
\DoxyCodeLine{1443     \textcolor{keyword}{const} std::function<\textcolor{keywordtype}{void}(\textcolor{keywordtype}{int} i, Entity entity, T1 \&, T2 \&, T3 \&, T4 \&, T5 \&, T6 \&, T7 \&, T8 \&)> \&func,}
\DoxyCodeLine{1444     \textcolor{keywordtype}{bool} checkEnable)}
\DoxyCodeLine{1445 \{}
\DoxyCodeLine{1446     \textcolor{keyword}{auto} \&entityManager = \mbox{\hyperlink{class_uni_engine_1_1_i_singleton_a3be306028874b8da62357fe83aa7e915}{GetInstance}}();}
\DoxyCodeLine{1447 }
\DoxyCodeLine{1448     \textcolor{keywordflow}{if} (!scene)}
\DoxyCodeLine{1449     \{}
\DoxyCodeLine{1450         \textcolor{keywordflow}{return};}
\DoxyCodeLine{1451     \}}
\DoxyCodeLine{1452     \textcolor{keyword}{auto} targetType1 = Typeof<T1>();}
\DoxyCodeLine{1453     \textcolor{keyword}{auto} targetType2 = Typeof<T2>();}
\DoxyCodeLine{1454     \textcolor{keyword}{auto} targetType3 = Typeof<T3>();}
\DoxyCodeLine{1455     \textcolor{keyword}{auto} targetType4 = Typeof<T4>();}
\DoxyCodeLine{1456     \textcolor{keyword}{auto} targetType5 = Typeof<T5>();}
\DoxyCodeLine{1457     \textcolor{keyword}{auto} targetType6 = Typeof<T6>();}
\DoxyCodeLine{1458     \textcolor{keyword}{auto} targetType7 = Typeof<T7>();}
\DoxyCodeLine{1459     \textcolor{keyword}{auto} targetType8 = Typeof<T8>();}
\DoxyCodeLine{1460     \textcolor{keyword}{const} \textcolor{keyword}{auto} entityCount = storage.m\_entityAliveCount;}
\DoxyCodeLine{1461     \textcolor{keywordtype}{bool} found1 = \textcolor{keyword}{false};}
\DoxyCodeLine{1462     \textcolor{keywordtype}{bool} found2 = \textcolor{keyword}{false};}
\DoxyCodeLine{1463     \textcolor{keywordtype}{bool} found3 = \textcolor{keyword}{false};}
\DoxyCodeLine{1464     \textcolor{keywordtype}{bool} found4 = \textcolor{keyword}{false};}
\DoxyCodeLine{1465     \textcolor{keywordtype}{bool} found5 = \textcolor{keyword}{false};}
\DoxyCodeLine{1466     \textcolor{keywordtype}{bool} found6 = \textcolor{keyword}{false};}
\DoxyCodeLine{1467     \textcolor{keywordtype}{bool} found7 = \textcolor{keyword}{false};}
\DoxyCodeLine{1468     \textcolor{keywordtype}{bool} found8 = \textcolor{keyword}{false};}
\DoxyCodeLine{1469     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto} \&type : storage.m\_dataComponentTypes)}
\DoxyCodeLine{1470     \{}
\DoxyCodeLine{1471         \textcolor{keywordflow}{if} (type.m\_typeId == targetType1.m\_typeId)}
\DoxyCodeLine{1472         \{}
\DoxyCodeLine{1473             targetType1 = type;}
\DoxyCodeLine{1474             found1 = \textcolor{keyword}{true};}
\DoxyCodeLine{1475         \}}
\DoxyCodeLine{1476         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (type.m\_typeId == targetType2.m\_typeId)}
\DoxyCodeLine{1477         \{}
\DoxyCodeLine{1478             targetType2 = type;}
\DoxyCodeLine{1479             found2 = \textcolor{keyword}{true};}
\DoxyCodeLine{1480         \}}
\DoxyCodeLine{1481         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (type.m\_typeId == targetType3.m\_typeId)}
\DoxyCodeLine{1482         \{}
\DoxyCodeLine{1483             targetType3 = type;}
\DoxyCodeLine{1484             found3 = \textcolor{keyword}{true};}
\DoxyCodeLine{1485         \}}
\DoxyCodeLine{1486         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (type.m\_typeId == targetType4.m\_typeId)}
\DoxyCodeLine{1487         \{}
\DoxyCodeLine{1488             targetType4 = type;}
\DoxyCodeLine{1489             found4 = \textcolor{keyword}{true};}
\DoxyCodeLine{1490         \}}
\DoxyCodeLine{1491         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (type.m\_typeId == targetType5.m\_typeId)}
\DoxyCodeLine{1492         \{}
\DoxyCodeLine{1493             targetType5 = type;}
\DoxyCodeLine{1494             found5 = \textcolor{keyword}{true};}
\DoxyCodeLine{1495         \}}
\DoxyCodeLine{1496         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (type.m\_typeId == targetType6.m\_typeId)}
\DoxyCodeLine{1497         \{}
\DoxyCodeLine{1498             targetType6 = type;}
\DoxyCodeLine{1499             found6 = \textcolor{keyword}{true};}
\DoxyCodeLine{1500         \}}
\DoxyCodeLine{1501         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (type.m\_typeId == targetType7.m\_typeId)}
\DoxyCodeLine{1502         \{}
\DoxyCodeLine{1503             targetType7 = type;}
\DoxyCodeLine{1504             found7 = \textcolor{keyword}{true};}
\DoxyCodeLine{1505         \}}
\DoxyCodeLine{1506         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (type.m\_typeId == targetType8.m\_typeId)}
\DoxyCodeLine{1507         \{}
\DoxyCodeLine{1508             targetType8 = type;}
\DoxyCodeLine{1509             found8 = \textcolor{keyword}{true};}
\DoxyCodeLine{1510         \}}
\DoxyCodeLine{1511     \}}
\DoxyCodeLine{1512     \textcolor{keywordflow}{if} (!found1 || !found2 || !found3 || !found4 || !found5 || !found6 || !found7 || !found8)}
\DoxyCodeLine{1513         \textcolor{keywordflow}{return};}
\DoxyCodeLine{1514     \textcolor{keyword}{const} \textcolor{keyword}{auto} capacity = storage.m\_chunkCapacity;}
\DoxyCodeLine{1515     \textcolor{keyword}{const} \textcolor{keyword}{auto} \&chunkArray = storage.m\_chunkArray;}
\DoxyCodeLine{1516     \textcolor{keyword}{const} \textcolor{keyword}{auto} \&entities = chunkArray.m\_entities;}
\DoxyCodeLine{1517     std::vector<std::shared\_future<void>> results;}
\DoxyCodeLine{1518     \textcolor{keyword}{const} \textcolor{keyword}{auto} threadSize = workers.Size();}
\DoxyCodeLine{1519     \textcolor{keyword}{const} \textcolor{keyword}{auto} threadLoad = entityCount / threadSize;}
\DoxyCodeLine{1520     \textcolor{keyword}{const} \textcolor{keyword}{auto} loadReminder = entityCount \% threadSize;}
\DoxyCodeLine{1521     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} threadIndex = 0; threadIndex < threadSize; threadIndex++)}
\DoxyCodeLine{1522     \{}
\DoxyCodeLine{1523         results.push\_back(}
\DoxyCodeLine{1524             workers}
\DoxyCodeLine{1525                 .Push([=, \&chunkArray, \&entities](\textcolor{keywordtype}{int} \textcolor{keywordtype}{id}) \{}
\DoxyCodeLine{1526                     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = threadIndex * threadLoad; i < (threadIndex + 1) * threadLoad; i++)}
\DoxyCodeLine{1527                     \{}
\DoxyCodeLine{1528                         \textcolor{keyword}{const} \textcolor{keyword}{auto} chunkIndex = i / capacity;}
\DoxyCodeLine{1529                         \textcolor{keyword}{const} \textcolor{keyword}{auto} remainder = i \% capacity;}
\DoxyCodeLine{1530                         \textcolor{keyword}{auto} *data = \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{char} *\textcolor{keyword}{>}(chunkArray.m\_chunks[chunkIndex].m\_data);}
\DoxyCodeLine{1531                         T1 *address1 = \textcolor{keyword}{reinterpret\_cast<}T1 *\textcolor{keyword}{>}(data + targetType1.m\_offset * capacity);}
\DoxyCodeLine{1532                         T2 *address2 = \textcolor{keyword}{reinterpret\_cast<}T2 *\textcolor{keyword}{>}(data + targetType2.m\_offset * capacity);}
\DoxyCodeLine{1533                         T3 *address3 = \textcolor{keyword}{reinterpret\_cast<}T3 *\textcolor{keyword}{>}(data + targetType3.m\_offset * capacity);}
\DoxyCodeLine{1534                         T4 *address4 = \textcolor{keyword}{reinterpret\_cast<}T4 *\textcolor{keyword}{>}(data + targetType4.m\_offset * capacity);}
\DoxyCodeLine{1535                         T5 *address5 = \textcolor{keyword}{reinterpret\_cast<}T5 *\textcolor{keyword}{>}(data + targetType5.m\_offset * capacity);}
\DoxyCodeLine{1536                         T6 *address6 = \textcolor{keyword}{reinterpret\_cast<}T6 *\textcolor{keyword}{>}(data + targetType6.m\_offset * capacity);}
\DoxyCodeLine{1537                         T7 *address7 = \textcolor{keyword}{reinterpret\_cast<}T7 *\textcolor{keyword}{>}(data + targetType7.m\_offset * capacity);}
\DoxyCodeLine{1538                         T8 *address8 = \textcolor{keyword}{reinterpret\_cast<}T8 *\textcolor{keyword}{>}(data + targetType8.m\_offset * capacity);}
\DoxyCodeLine{1539                         \textcolor{keyword}{const} \textcolor{keyword}{auto} entity = entities.at(i);}
\DoxyCodeLine{1540                         \textcolor{keywordflow}{if} (checkEnable \&\& !scene-\/>m\_sceneDataStorage.m\_entityInfos.at(entity.m\_index).m\_enabled)}
\DoxyCodeLine{1541                             \textcolor{keywordflow}{continue};}
\DoxyCodeLine{1542                         func(}
\DoxyCodeLine{1543                             \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(i),}
\DoxyCodeLine{1544                             entity,}
\DoxyCodeLine{1545                             address1[remainder],}
\DoxyCodeLine{1546                             address2[remainder],}
\DoxyCodeLine{1547                             address3[remainder],}
\DoxyCodeLine{1548                             address4[remainder],}
\DoxyCodeLine{1549                             address5[remainder],}
\DoxyCodeLine{1550                             address6[remainder],}
\DoxyCodeLine{1551                             address7[remainder],}
\DoxyCodeLine{1552                             address8[remainder]);}
\DoxyCodeLine{1553                     \}}
\DoxyCodeLine{1554                     \textcolor{keywordflow}{if} (threadIndex < loadReminder)}
\DoxyCodeLine{1555                     \{}
\DoxyCodeLine{1556                         \textcolor{keyword}{const} \textcolor{keywordtype}{int} i = threadIndex + threadSize * threadLoad;}
\DoxyCodeLine{1557                         \textcolor{keyword}{const} \textcolor{keyword}{auto} chunkIndex = i / capacity;}
\DoxyCodeLine{1558                         \textcolor{keyword}{const} \textcolor{keyword}{auto} remainder = i \% capacity;}
\DoxyCodeLine{1559                         \textcolor{keyword}{auto} *data = \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{char} *\textcolor{keyword}{>}(chunkArray.m\_chunks[chunkIndex].m\_data);}
\DoxyCodeLine{1560                         T1 *address1 = \textcolor{keyword}{reinterpret\_cast<}T1 *\textcolor{keyword}{>}(data + targetType1.m\_offset * capacity);}
\DoxyCodeLine{1561                         T2 *address2 = \textcolor{keyword}{reinterpret\_cast<}T2 *\textcolor{keyword}{>}(data + targetType2.m\_offset * capacity);}
\DoxyCodeLine{1562                         T3 *address3 = \textcolor{keyword}{reinterpret\_cast<}T3 *\textcolor{keyword}{>}(data + targetType3.m\_offset * capacity);}
\DoxyCodeLine{1563                         T4 *address4 = \textcolor{keyword}{reinterpret\_cast<}T4 *\textcolor{keyword}{>}(data + targetType4.m\_offset * capacity);}
\DoxyCodeLine{1564                         T5 *address5 = \textcolor{keyword}{reinterpret\_cast<}T5 *\textcolor{keyword}{>}(data + targetType5.m\_offset * capacity);}
\DoxyCodeLine{1565                         T6 *address6 = \textcolor{keyword}{reinterpret\_cast<}T6 *\textcolor{keyword}{>}(data + targetType6.m\_offset * capacity);}
\DoxyCodeLine{1566                         T7 *address7 = \textcolor{keyword}{reinterpret\_cast<}T7 *\textcolor{keyword}{>}(data + targetType7.m\_offset * capacity);}
\DoxyCodeLine{1567                         T8 *address8 = \textcolor{keyword}{reinterpret\_cast<}T8 *\textcolor{keyword}{>}(data + targetType8.m\_offset * capacity);}
\DoxyCodeLine{1568                         \textcolor{keyword}{const} \textcolor{keyword}{auto} entity = entities.at(i);}
\DoxyCodeLine{1569                         \textcolor{keywordflow}{if} (checkEnable \&\& !scene-\/>m\_sceneDataStorage.m\_entityInfos.at(entity.m\_index).m\_enabled)}
\DoxyCodeLine{1570                             \textcolor{keywordflow}{return};}
\DoxyCodeLine{1571                         func(}
\DoxyCodeLine{1572                             \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(i),}
\DoxyCodeLine{1573                             entity,}
\DoxyCodeLine{1574                             address1[remainder],}
\DoxyCodeLine{1575                             address2[remainder],}
\DoxyCodeLine{1576                             address3[remainder],}
\DoxyCodeLine{1577                             address4[remainder],}
\DoxyCodeLine{1578                             address5[remainder],}
\DoxyCodeLine{1579                             address6[remainder],}
\DoxyCodeLine{1580                             address7[remainder],}
\DoxyCodeLine{1581                             address8[remainder]);}
\DoxyCodeLine{1582                     \}}
\DoxyCodeLine{1583                 \})}
\DoxyCodeLine{1584                 .share());}
\DoxyCodeLine{1585     \}}
\DoxyCodeLine{1586     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto} \&i : results)}
\DoxyCodeLine{1587         i.wait();}
\DoxyCodeLine{1588 \}}
\DoxyCodeLine{1589 \textcolor{preprocessor}{\#pragma endregion}}
\DoxyCodeLine{1590 \textcolor{preprocessor}{\#pragma region Others}}
\DoxyCodeLine{1591 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{1592 \textcolor{keywordtype}{void} EntityManager::GetDataComponentArrayStorage(}
\DoxyCodeLine{1593     \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene,}
\DoxyCodeLine{1594     \textcolor{keyword}{const} DataComponentStorage \&storage,}
\DoxyCodeLine{1595     std::vector<T> \&container,}
\DoxyCodeLine{1596     \textcolor{keywordtype}{bool} checkEnable)}
\DoxyCodeLine{1597 \{}
\DoxyCodeLine{1598     \textcolor{keyword}{auto} \&entityManager = \mbox{\hyperlink{class_uni_engine_1_1_i_singleton_a3be306028874b8da62357fe83aa7e915}{GetInstance}}();}
\DoxyCodeLine{1599 }
\DoxyCodeLine{1600     \textcolor{keywordflow}{if} (!scene)}
\DoxyCodeLine{1601     \{}
\DoxyCodeLine{1602         \textcolor{keywordflow}{return};}
\DoxyCodeLine{1603     \}}
\DoxyCodeLine{1604     \textcolor{keyword}{auto} targetType = Typeof<T>();}
\DoxyCodeLine{1605     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto} \&type : storage.m\_dataComponentTypes)}
\DoxyCodeLine{1606     \{}
\DoxyCodeLine{1607         \textcolor{keywordflow}{if} (type.m\_typeId == targetType.m\_typeId)}
\DoxyCodeLine{1608         \{}
\DoxyCodeLine{1609             targetType = type;}
\DoxyCodeLine{1610             \textcolor{keywordtype}{size\_t} amount = storage.m\_entityAliveCount;}
\DoxyCodeLine{1611             \textcolor{keywordflow}{if} (amount == 0)}
\DoxyCodeLine{1612                 \textcolor{keywordflow}{return};}
\DoxyCodeLine{1613             \textcolor{keywordflow}{if} (checkEnable)}
\DoxyCodeLine{1614             \{}
\DoxyCodeLine{1615                 \textcolor{keyword}{auto} \&workers = \mbox{\hyperlink{class_uni_engine_1_1_job_manager_aefac109eb33c353bd75eee0183ce6b58}{JobManager::PrimaryWorkers}}();}
\DoxyCodeLine{1616                 \textcolor{keyword}{const} \textcolor{keyword}{auto} capacity = storage.m\_chunkCapacity;}
\DoxyCodeLine{1617                 \textcolor{keyword}{const} \textcolor{keyword}{auto} \&chunkArray = storage.m\_chunkArray;}
\DoxyCodeLine{1618                 \textcolor{keyword}{const} \textcolor{keyword}{auto} \&entities = chunkArray.m\_entities;}
\DoxyCodeLine{1619                 std::vector<std::shared\_future<void>> results;}
\DoxyCodeLine{1620                 \textcolor{keyword}{const} \textcolor{keyword}{auto} threadSize = workers.Size();}
\DoxyCodeLine{1621                 \textcolor{keyword}{const} \textcolor{keyword}{auto} threadLoad = amount / threadSize;}
\DoxyCodeLine{1622                 \textcolor{keyword}{const} \textcolor{keyword}{auto} loadReminder = amount \% threadSize;}
\DoxyCodeLine{1623                 std::vector<std::vector<T>> tempStorage;}
\DoxyCodeLine{1624                 tempStorage.resize(threadSize);}
\DoxyCodeLine{1625                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} threadIndex = 0; threadIndex < threadSize; threadIndex++)}
\DoxyCodeLine{1626                 \{}
\DoxyCodeLine{1627                     results.push\_back(}
\DoxyCodeLine{1628                         workers}
\DoxyCodeLine{1629                             .Push([=, \&chunkArray, \&entities, \&tempStorage](\textcolor{keywordtype}{int} \textcolor{keywordtype}{id}) \{}
\DoxyCodeLine{1630                                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = threadIndex * threadLoad; i < (threadIndex + 1) * threadLoad; i++)}
\DoxyCodeLine{1631                                 \{}
\DoxyCodeLine{1632                                     \textcolor{keyword}{const} \textcolor{keyword}{auto} chunkIndex = i / capacity;}
\DoxyCodeLine{1633                                     \textcolor{keyword}{const} \textcolor{keyword}{auto} remainder = i \% capacity;}
\DoxyCodeLine{1634                                     \textcolor{keyword}{auto} *data = \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{char} *\textcolor{keyword}{>}(chunkArray.m\_chunks[chunkIndex].m\_data);}
\DoxyCodeLine{1635                                     T *address1 = \textcolor{keyword}{reinterpret\_cast<}T *\textcolor{keyword}{>}(data + type.m\_offset * capacity);}
\DoxyCodeLine{1636                                     \textcolor{keyword}{const} \textcolor{keyword}{auto} entity = entities.at(i);}
\DoxyCodeLine{1637                                     \textcolor{keywordflow}{if} (!scene-\/>m\_sceneDataStorage.m\_entityInfos.at(entity.m\_index).m\_enabled)}
\DoxyCodeLine{1638                                         \textcolor{keywordflow}{continue};}
\DoxyCodeLine{1639                                     tempStorage[threadIndex].push\_back(address1[remainder]);}
\DoxyCodeLine{1640                                 \}}
\DoxyCodeLine{1641                                 \textcolor{keywordflow}{if} (threadIndex < loadReminder)}
\DoxyCodeLine{1642                                 \{}
\DoxyCodeLine{1643                                     \textcolor{keyword}{const} \textcolor{keywordtype}{int} i = threadIndex + threadSize * threadLoad;}
\DoxyCodeLine{1644                                     \textcolor{keyword}{const} \textcolor{keyword}{auto} chunkIndex = i / capacity;}
\DoxyCodeLine{1645                                     \textcolor{keyword}{const} \textcolor{keyword}{auto} remainder = i \% capacity;}
\DoxyCodeLine{1646                                     \textcolor{keyword}{auto} *data = \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{char} *\textcolor{keyword}{>}(chunkArray.m\_chunks[chunkIndex].m\_data);}
\DoxyCodeLine{1647                                     T *address1 = \textcolor{keyword}{reinterpret\_cast<}T *\textcolor{keyword}{>}(data + type.m\_offset * capacity);}
\DoxyCodeLine{1648                                     \textcolor{keyword}{const} \textcolor{keyword}{auto} entity = entities.at(i);}
\DoxyCodeLine{1649                                     \textcolor{keywordflow}{if} (!scene-\/>m\_sceneDataStorage.m\_entityInfos.at(entity.m\_index).m\_enabled)}
\DoxyCodeLine{1650                                         \textcolor{keywordflow}{return};}
\DoxyCodeLine{1651                                     tempStorage[threadIndex].push\_back(address1[remainder]);}
\DoxyCodeLine{1652                                 \}}
\DoxyCodeLine{1653                             \})}
\DoxyCodeLine{1654                             .share());}
\DoxyCodeLine{1655                 \}}
\DoxyCodeLine{1656                 \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto} \&i : results)}
\DoxyCodeLine{1657                     i.wait();}
\DoxyCodeLine{1658                 \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} \&i : tempStorage)}
\DoxyCodeLine{1659                 \{}
\DoxyCodeLine{1660                     container.insert(container.end(), i.begin(), i.end());}
\DoxyCodeLine{1661                 \}}
\DoxyCodeLine{1662             \}}
\DoxyCodeLine{1663             \textcolor{keywordflow}{else}}
\DoxyCodeLine{1664             \{}
\DoxyCodeLine{1665                 container.resize(container.size() + amount);}
\DoxyCodeLine{1666                 \textcolor{keyword}{const} \textcolor{keyword}{auto} capacity = storage.m\_chunkCapacity;}
\DoxyCodeLine{1667                 \textcolor{keyword}{const} \textcolor{keyword}{auto} chunkAmount = amount / capacity;}
\DoxyCodeLine{1668                 \textcolor{keyword}{const} \textcolor{keyword}{auto} remainAmount = amount \% capacity;}
\DoxyCodeLine{1669                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} i = 0; i < chunkAmount; i++)}
\DoxyCodeLine{1670                 \{}
\DoxyCodeLine{1671                     memcpy(}
\DoxyCodeLine{1672                         \&container.at(container.size() -\/ remainAmount -\/ capacity * (chunkAmount -\/ i)),}
\DoxyCodeLine{1673                         \textcolor{keyword}{reinterpret\_cast<}\textcolor{keywordtype}{void} *\textcolor{keyword}{>}(}
\DoxyCodeLine{1674                             \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{char} *\textcolor{keyword}{>}(storage.m\_chunkArray.m\_chunks[i].m\_data) +}
\DoxyCodeLine{1675                             capacity * targetType.m\_offset),}
\DoxyCodeLine{1676                         capacity * targetType.m\_size);}
\DoxyCodeLine{1677                 \}}
\DoxyCodeLine{1678                 \textcolor{keywordflow}{if} (remainAmount > 0)}
\DoxyCodeLine{1679                     memcpy(}
\DoxyCodeLine{1680                         \&container.at(container.size() -\/ remainAmount),}
\DoxyCodeLine{1681                         \textcolor{keyword}{reinterpret\_cast<}\textcolor{keywordtype}{void} *\textcolor{keyword}{>}(}
\DoxyCodeLine{1682                             \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{char} *\textcolor{keyword}{>}(storage.m\_chunkArray.m\_chunks[chunkAmount].m\_data) +}
\DoxyCodeLine{1683                             capacity * targetType.m\_offset),}
\DoxyCodeLine{1684                         remainAmount * targetType.m\_size);}
\DoxyCodeLine{1685             \}}
\DoxyCodeLine{1686         \}}
\DoxyCodeLine{1687     \}}
\DoxyCodeLine{1688 \}}
\DoxyCodeLine{1689 }
\DoxyCodeLine{1690 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T, \textcolor{keyword}{typename}... Ts>}
\DoxyCodeLine{1691 \mbox{\hyperlink{struct_uni_engine_1_1_entity_archetype}{EntityArchetype}} EntityManager::CreateEntityArchetype(\textcolor{keyword}{const} std::string \&name, T arg, Ts... args)}
\DoxyCodeLine{1692 \{}
\DoxyCodeLine{1693     \mbox{\hyperlink{struct_uni_engine_1_1_entity_archetype}{EntityArchetype}} retVal = \mbox{\hyperlink{class_uni_engine_1_1_entity_manager_ab8bb70a526937dd421bf38af06cc1cab}{EntityArchetype}}();}
\DoxyCodeLine{1694     \textcolor{keywordflow}{if} (!CheckDataComponentTypes(arg, args...))}
\DoxyCodeLine{1695     \{}
\DoxyCodeLine{1696         \mbox{\hyperlink{_console_manager_8hpp_a61fbb0c9826abb9b8da507b99a18bf00}{UNIENGINE\_ERROR}}(\textcolor{stringliteral}{"{}CreateEntityArchetype failed: Standard Layout"{}});}
\DoxyCodeLine{1697         \textcolor{keywordflow}{return} retVal;}
\DoxyCodeLine{1698     \}}
\DoxyCodeLine{1699     \textcolor{keyword}{auto} \&entityManager = \mbox{\hyperlink{class_uni_engine_1_1_i_singleton_a3be306028874b8da62357fe83aa7e915}{GetInstance}}();}
\DoxyCodeLine{1700     \textcolor{keyword}{auto} \&entityArchetypeInfos = entityManager.m\_entityArchetypeInfos;}
\DoxyCodeLine{1701     \mbox{\hyperlink{struct_uni_engine_1_1_entity_archetype_info}{EntityArchetypeInfo}} info;}
\DoxyCodeLine{1702     info.\mbox{\hyperlink{struct_uni_engine_1_1_entity_archetype_info_a00fdcd78e31a322503ca65ff9cced66e}{m\_name}} = name;}
\DoxyCodeLine{1703     info.\mbox{\hyperlink{struct_uni_engine_1_1_entity_archetype_info_a2eac0b53d09eefbb6d8ea046688e9ef5}{m\_dataComponentTypes}} = CollectDataComponentTypes(arg, args...);}
\DoxyCodeLine{1704     info.\mbox{\hyperlink{struct_uni_engine_1_1_entity_archetype_info_abb4187ab138cbf868c31e675f5b20332}{m\_entitySize}} = info.\mbox{\hyperlink{struct_uni_engine_1_1_entity_archetype_info_a2eac0b53d09eefbb6d8ea046688e9ef5}{m\_dataComponentTypes}}.back().m\_offset + info.\mbox{\hyperlink{struct_uni_engine_1_1_entity_archetype_info_a2eac0b53d09eefbb6d8ea046688e9ef5}{m\_dataComponentTypes}}.back().m\_size;}
\DoxyCodeLine{1705     info.\mbox{\hyperlink{struct_uni_engine_1_1_entity_archetype_info_a745ae09f2b3eb60204ab80363f678958}{m\_chunkCapacity}} = \mbox{\hyperlink{class_uni_engine_1_1_i_singleton_a3be306028874b8da62357fe83aa7e915}{GetInstance}}().m\_archetypeChunkSize / info.\mbox{\hyperlink{struct_uni_engine_1_1_entity_archetype_info_abb4187ab138cbf868c31e675f5b20332}{m\_entitySize}};}
\DoxyCodeLine{1706     retVal = \mbox{\hyperlink{class_uni_engine_1_1_entity_manager_a9c48a4fd3bc6095a638c2772c73b0efd}{CreateEntityArchetypeHelper}}(info);}
\DoxyCodeLine{1707     \textcolor{keywordflow}{return} retVal;}
\DoxyCodeLine{1708 \}}
\DoxyCodeLine{1709 \textcolor{preprocessor}{\#pragma endregion}}
\DoxyCodeLine{1710 \textcolor{preprocessor}{\#pragma region GetSetHas}}
\DoxyCodeLine{1711 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{1712 \textcolor{keywordtype}{void} EntityManager::AddDataComponent(\textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene, \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} \&entity, \textcolor{keyword}{const} T \&value)}
\DoxyCodeLine{1713 \{}
\DoxyCodeLine{1714     \textcolor{keyword}{auto} \&entityManager = \mbox{\hyperlink{class_uni_engine_1_1_i_singleton_a3be306028874b8da62357fe83aa7e915}{GetInstance}}();}
\DoxyCodeLine{1715     \textcolor{keywordflow}{if} (!scene)}
\DoxyCodeLine{1716     \{}
\DoxyCodeLine{1717         \textcolor{keywordflow}{return};}
\DoxyCodeLine{1718     \}}
\DoxyCodeLine{1719     assert(entity.\mbox{\hyperlink{struct_uni_engine_1_1_entity_ae0be31e19923d6f2f9062e91c97c9c93}{IsValid}}());}
\DoxyCodeLine{1720     \textcolor{keyword}{const} \textcolor{keyword}{auto} \textcolor{keywordtype}{id} = \textcolor{keyword}{typeid}(T).hash\_code();}
\DoxyCodeLine{1721     \textcolor{keyword}{auto} \&entityInfo = scene-\/>m\_sceneDataStorage.m\_entityInfos.at(entity.m\_index);}
\DoxyCodeLine{1722     \textcolor{keyword}{auto} \&entityArchetypeInfos = entityManager.m\_entityArchetypeInfos;}
\DoxyCodeLine{1723 }
\DoxyCodeLine{1724 \textcolor{preprocessor}{\#pragma region Check if componentdata already exists.If yes, go to SetComponentData}}
\DoxyCodeLine{1725     \textcolor{keyword}{auto} \&dataComponentStorage =}
\DoxyCodeLine{1726         scene-\/>m\_sceneDataStorage.m\_dataComponentStorages.at(entityInfo.m\_dataComponentStorageIndex);}
\DoxyCodeLine{1727     \textcolor{keyword}{auto} originalComponentTypes = dataComponentStorage.m\_dataComponentTypes;}
\DoxyCodeLine{1728     \textcolor{keyword}{const} \textcolor{keyword}{auto} chunkIndex = entityInfo.m\_chunkArrayIndex / dataComponentStorage.m\_chunkCapacity;}
\DoxyCodeLine{1729     \textcolor{keyword}{const} \textcolor{keyword}{auto} chunkPointer = entityInfo.m\_chunkArrayIndex \% dataComponentStorage.m\_chunkCapacity;}
\DoxyCodeLine{1730     ComponentDataChunk \&chunk = dataComponentStorage.m\_chunkArray.m\_chunks[chunkIndex];}
\DoxyCodeLine{1731     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto} \&type : dataComponentStorage.m\_dataComponentTypes)}
\DoxyCodeLine{1732     \{}
\DoxyCodeLine{1733         \textcolor{keywordflow}{if} (type.m\_typeId == \textcolor{keywordtype}{id})}
\DoxyCodeLine{1734         \{}
\DoxyCodeLine{1735             \mbox{\hyperlink{_console_manager_8hpp_a61fbb0c9826abb9b8da507b99a18bf00}{UNIENGINE\_ERROR}}(\textcolor{stringliteral}{"{}Data Component already exists!"{}});}
\DoxyCodeLine{1736             \textcolor{keywordflow}{return};}
\DoxyCodeLine{1737         \}}
\DoxyCodeLine{1738     \}}
\DoxyCodeLine{1739     entityManager.m\_scene-\/>m\_saved = \textcolor{keyword}{false};}
\DoxyCodeLine{1740 \textcolor{preprocessor}{\#pragma endregion}}
\DoxyCodeLine{1741 \textcolor{preprocessor}{\#pragma region If not exist, we first need to create a new archetype}}
\DoxyCodeLine{1742     EntityArchetypeInfo newArchetypeInfo;}
\DoxyCodeLine{1743     newArchetypeInfo.m\_name = \textcolor{stringliteral}{"{}New archetype"{}};}
\DoxyCodeLine{1744     newArchetypeInfo.m\_dataComponentTypes = originalComponentTypes;}
\DoxyCodeLine{1745     newArchetypeInfo.m\_dataComponentTypes.push\_back(Typeof<T>());}
\DoxyCodeLine{1746     std::sort(}
\DoxyCodeLine{1747         newArchetypeInfo.m\_dataComponentTypes.begin() + 3,}
\DoxyCodeLine{1748         newArchetypeInfo.m\_dataComponentTypes.end(),}
\DoxyCodeLine{1749         \mbox{\hyperlink{namespace_uni_engine_a5c6de04cdff3b3d963ead0089861401e}{ComponentTypeComparator}});}
\DoxyCodeLine{1750     \textcolor{keywordtype}{size\_t} offset = 0;}
\DoxyCodeLine{1751     DataComponentType prev = newArchetypeInfo.m\_dataComponentTypes[0];}
\DoxyCodeLine{1752     \textcolor{comment}{// Erase duplicates}}
\DoxyCodeLine{1753     EraseDuplicates(newArchetypeInfo.m\_dataComponentTypes);}
\DoxyCodeLine{1754     \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} \&i : newArchetypeInfo.m\_dataComponentTypes)}
\DoxyCodeLine{1755     \{}
\DoxyCodeLine{1756         i.m\_offset = offset;}
\DoxyCodeLine{1757         offset += i.m\_size;}
\DoxyCodeLine{1758     \}}
\DoxyCodeLine{1759     newArchetypeInfo.m\_entitySize =}
\DoxyCodeLine{1760         newArchetypeInfo.m\_dataComponentTypes.back().m\_offset + newArchetypeInfo.m\_dataComponentTypes.back().m\_size;}
\DoxyCodeLine{1761     newArchetypeInfo.m\_chunkCapacity = \mbox{\hyperlink{class_uni_engine_1_1_i_singleton_a3be306028874b8da62357fe83aa7e915}{GetInstance}}().m\_archetypeChunkSize / newArchetypeInfo.m\_entitySize;}
\DoxyCodeLine{1762     \textcolor{keyword}{auto} archetype = \mbox{\hyperlink{class_uni_engine_1_1_entity_manager_a9c48a4fd3bc6095a638c2772c73b0efd}{CreateEntityArchetypeHelper}}(newArchetypeInfo);}
\DoxyCodeLine{1763 \textcolor{preprocessor}{\#pragma endregion}}
\DoxyCodeLine{1764 \textcolor{preprocessor}{\#pragma region Create new Entity with new archetype.}}
\DoxyCodeLine{1765     \mbox{\hyperlink{class_uni_engine_1_1_entity_manager_a4de4c6926260be1262f425df15fc9c82}{Entity}} newEntity = \mbox{\hyperlink{class_uni_engine_1_1_entity_manager_a5b09159ff74cfeeece1496dfb44bd859}{CreateEntity}}(scene, archetype);}
\DoxyCodeLine{1766     \textcolor{comment}{// Transfer component data}}
\DoxyCodeLine{1767     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto} \&type : originalComponentTypes)}
\DoxyCodeLine{1768     \{}
\DoxyCodeLine{1769         SetDataComponent(}
\DoxyCodeLine{1770             scene,}
\DoxyCodeLine{1771             newEntity.m\_index,}
\DoxyCodeLine{1772             type.m\_typeId,}
\DoxyCodeLine{1773             type.m\_size,}
\DoxyCodeLine{1774             GetDataComponentPointer(scene, entity, type.m\_typeId));}
\DoxyCodeLine{1775     \}}
\DoxyCodeLine{1776     newEntity.SetDataComponent(value);}
\DoxyCodeLine{1777     \textcolor{comment}{// 5. Swap entity.}}
\DoxyCodeLine{1778     EntityMetadata \&newEntityInfo = scene-\/>m\_sceneDataStorage.m\_entityInfos.at(newEntity.m\_index);}
\DoxyCodeLine{1779     \textcolor{keyword}{const} \textcolor{keyword}{auto} tempArchetypeInfoIndex = newEntityInfo.m\_dataComponentStorageIndex;}
\DoxyCodeLine{1780     \textcolor{keyword}{const} \textcolor{keyword}{auto} tempChunkArrayIndex = newEntityInfo.m\_chunkArrayIndex;}
\DoxyCodeLine{1781     newEntityInfo.m\_dataComponentStorageIndex = entityInfo.m\_dataComponentStorageIndex;}
\DoxyCodeLine{1782     newEntityInfo.m\_chunkArrayIndex = entityInfo.m\_chunkArrayIndex;}
\DoxyCodeLine{1783     entityInfo.m\_dataComponentStorageIndex = tempArchetypeInfoIndex;}
\DoxyCodeLine{1784     entityInfo.m\_chunkArrayIndex = tempChunkArrayIndex;}
\DoxyCodeLine{1785     \textcolor{comment}{// Apply to chunk.}}
\DoxyCodeLine{1786     scene-\/>m\_sceneDataStorage.m\_dataComponentStorages.at(entityInfo.m\_dataComponentStorageIndex)}
\DoxyCodeLine{1787         .m\_chunkArray.m\_entities[entityInfo.m\_chunkArrayIndex] = entity;}
\DoxyCodeLine{1788     scene-\/>m\_sceneDataStorage.m\_dataComponentStorages.at(newEntityInfo.m\_dataComponentStorageIndex)}
\DoxyCodeLine{1789         .m\_chunkArray.m\_entities[newEntityInfo.m\_chunkArrayIndex] = newEntity;}
\DoxyCodeLine{1790     \mbox{\hyperlink{class_uni_engine_1_1_entity_manager_a7ed3bbcfdb53768be754e2c382d39ac3}{DeleteEntity}}(scene, newEntity);}
\DoxyCodeLine{1791 \textcolor{preprocessor}{\#pragma endregion}}
\DoxyCodeLine{1792 \}}
\DoxyCodeLine{1793 }
\DoxyCodeLine{1794 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T> \textcolor{keywordtype}{void} EntityManager::RemoveDataComponent(\textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene, \textcolor{keyword}{const} Entity \&entity)}
\DoxyCodeLine{1795 \{}
\DoxyCodeLine{1796     \textcolor{keyword}{auto} \&entityManager = \mbox{\hyperlink{class_uni_engine_1_1_i_singleton_a3be306028874b8da62357fe83aa7e915}{GetInstance}}();}
\DoxyCodeLine{1797     \textcolor{keywordflow}{if} (!scene)}
\DoxyCodeLine{1798     \{}
\DoxyCodeLine{1799         \textcolor{keywordflow}{return};}
\DoxyCodeLine{1800     \}}
\DoxyCodeLine{1801     assert(entity.IsValid());}
\DoxyCodeLine{1802     \textcolor{keyword}{const} \textcolor{keyword}{auto} \textcolor{keywordtype}{id} = \textcolor{keyword}{typeid}(T).hash\_code();}
\DoxyCodeLine{1803     \textcolor{keywordflow}{if} (\textcolor{keywordtype}{id} == \textcolor{keyword}{typeid}(Transform).hash\_code() || \textcolor{keywordtype}{id} == \textcolor{keyword}{typeid}(GlobalTransform).hash\_code() ||}
\DoxyCodeLine{1804         \textcolor{keywordtype}{id} == \textcolor{keyword}{typeid}(GlobalTransformUpdateFlag).hash\_code())}
\DoxyCodeLine{1805     \{}
\DoxyCodeLine{1806         \textcolor{keywordflow}{return};}
\DoxyCodeLine{1807     \}}
\DoxyCodeLine{1808     \textcolor{keyword}{auto} \&entityInfo = scene-\/>m\_sceneDataStorage.m\_entityInfos.at(entity.m\_index);}
\DoxyCodeLine{1809     \textcolor{keyword}{auto} \&entityArchetypeInfos = entityManager.m\_entityArchetypeInfos;}
\DoxyCodeLine{1810 \textcolor{preprocessor}{\#pragma region Check if componentdata already exists.If yes, go to SetComponentData}}
\DoxyCodeLine{1811     \textcolor{keyword}{auto} \&dataComponentStorage =}
\DoxyCodeLine{1812         scene-\/>m\_sceneDataStorage.m\_dataComponentStorages[entityInfo.m\_dataComponentStorageIndex];}
\DoxyCodeLine{1813     \textcolor{keywordflow}{if} (dataComponentStorage.m\_dataComponentTypes.size() <= 3)}
\DoxyCodeLine{1814     \{}
\DoxyCodeLine{1815         \mbox{\hyperlink{_console_manager_8hpp_a61fbb0c9826abb9b8da507b99a18bf00}{UNIENGINE\_ERROR}}(\textcolor{stringliteral}{"{}Remove Component Data failed: Entity must have at least 1 data component besides 3 basic data "{}}}
\DoxyCodeLine{1816                         \textcolor{stringliteral}{"{}components!"{}});}
\DoxyCodeLine{1817         \textcolor{keywordflow}{return};}
\DoxyCodeLine{1818     \}}
\DoxyCodeLine{1819     entityManager.m\_scene-\/>m\_saved = \textcolor{keyword}{false};}
\DoxyCodeLine{1820 \textcolor{preprocessor}{\#pragma region Create new archetype}}
\DoxyCodeLine{1821     EntityArchetypeInfo newArchetypeInfo;}
\DoxyCodeLine{1822     newArchetypeInfo.m\_name = \textcolor{stringliteral}{"{}New archetype"{}};}
\DoxyCodeLine{1823     newArchetypeInfo.m\_dataComponentTypes = dataComponentStorage.m\_dataComponentTypes;}
\DoxyCodeLine{1824     \textcolor{keywordtype}{bool} found = \textcolor{keyword}{false};}
\DoxyCodeLine{1825     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < newArchetypeInfo.m\_dataComponentTypes.size(); i++)}
\DoxyCodeLine{1826     \{}
\DoxyCodeLine{1827         \textcolor{keywordflow}{if} (newArchetypeInfo.m\_dataComponentTypes[i].m\_typeId == \textcolor{keywordtype}{id})}
\DoxyCodeLine{1828         \{}
\DoxyCodeLine{1829             newArchetypeInfo.m\_dataComponentTypes.erase(newArchetypeInfo.m\_dataComponentTypes.begin() + i);}
\DoxyCodeLine{1830             found = \textcolor{keyword}{true};}
\DoxyCodeLine{1831             \textcolor{keywordflow}{break};}
\DoxyCodeLine{1832         \}}
\DoxyCodeLine{1833     \}}
\DoxyCodeLine{1834     \textcolor{keywordflow}{if} (!found)}
\DoxyCodeLine{1835     \{}
\DoxyCodeLine{1836         \mbox{\hyperlink{_console_manager_8hpp_a61fbb0c9826abb9b8da507b99a18bf00}{UNIENGINE\_ERROR}}(\textcolor{stringliteral}{"{}Failed to remove component data: Component not found"{}});}
\DoxyCodeLine{1837         \textcolor{keywordflow}{return};}
\DoxyCodeLine{1838     \}}
\DoxyCodeLine{1839     \textcolor{keywordtype}{size\_t} offset = 0;}
\DoxyCodeLine{1840     \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} \&i : newArchetypeInfo.m\_dataComponentTypes)}
\DoxyCodeLine{1841     \{}
\DoxyCodeLine{1842         i.m\_offset = offset;}
\DoxyCodeLine{1843         offset += i.m\_size;}
\DoxyCodeLine{1844     \}}
\DoxyCodeLine{1845     newArchetypeInfo.m\_entitySize =}
\DoxyCodeLine{1846         newArchetypeInfo.m\_dataComponentTypes.back().m\_offset + newArchetypeInfo.m\_dataComponentTypes.back().m\_size;}
\DoxyCodeLine{1847     newArchetypeInfo.m\_chunkCapacity = \mbox{\hyperlink{class_uni_engine_1_1_i_singleton_a3be306028874b8da62357fe83aa7e915}{GetInstance}}().m\_archetypeChunkSize / newArchetypeInfo.m\_entitySize;}
\DoxyCodeLine{1848     \textcolor{keyword}{auto} archetype = \mbox{\hyperlink{class_uni_engine_1_1_entity_manager_a9c48a4fd3bc6095a638c2772c73b0efd}{CreateEntityArchetypeHelper}}(newArchetypeInfo);}
\DoxyCodeLine{1849 \textcolor{preprocessor}{\#pragma endregion}}
\DoxyCodeLine{1850 \textcolor{preprocessor}{\#pragma region Create new Entity with new archetype}}
\DoxyCodeLine{1851     \textcolor{keyword}{const} \mbox{\hyperlink{class_uni_engine_1_1_entity_manager_a4de4c6926260be1262f425df15fc9c82}{Entity}} newEntity = \mbox{\hyperlink{class_uni_engine_1_1_entity_manager_a5b09159ff74cfeeece1496dfb44bd859}{CreateEntity}}(scene, archetype);}
\DoxyCodeLine{1852     \textcolor{comment}{// Transfer component data}}
\DoxyCodeLine{1853     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto} \&type : newArchetypeInfo.m\_dataComponentTypes)}
\DoxyCodeLine{1854     \{}
\DoxyCodeLine{1855         SetDataComponent(}
\DoxyCodeLine{1856             scene,}
\DoxyCodeLine{1857             newEntity.m\_index,}
\DoxyCodeLine{1858             type.m\_typeId,}
\DoxyCodeLine{1859             type.m\_size,}
\DoxyCodeLine{1860             GetDataComponentPointer(scene, entity, type.m\_typeId));}
\DoxyCodeLine{1861     \}}
\DoxyCodeLine{1862     T retVal = entity.GetDataComponent<T>();}
\DoxyCodeLine{1863     \textcolor{comment}{// 5. Swap entity.}}
\DoxyCodeLine{1864     EntityMetadata \&newEntityInfo = scene-\/>m\_sceneDataStorage.m\_entityInfos.at(newEntity.m\_index);}
\DoxyCodeLine{1865     \textcolor{keyword}{const} \textcolor{keyword}{auto} tempArchetypeInfoIndex = newEntityInfo.m\_dataComponentStorageIndex;}
\DoxyCodeLine{1866     \textcolor{keyword}{const} \textcolor{keyword}{auto} tempChunkArrayIndex = newEntityInfo.m\_chunkArrayIndex;}
\DoxyCodeLine{1867     newEntityInfo.m\_dataComponentStorageIndex = entityInfo.m\_dataComponentStorageIndex;}
\DoxyCodeLine{1868     newEntityInfo.m\_chunkArrayIndex = entityInfo.m\_chunkArrayIndex;}
\DoxyCodeLine{1869     entityInfo.m\_dataComponentStorageIndex = tempArchetypeInfoIndex;}
\DoxyCodeLine{1870     entityInfo.m\_chunkArrayIndex = tempChunkArrayIndex;}
\DoxyCodeLine{1871     \textcolor{comment}{// Apply to chunk.}}
\DoxyCodeLine{1872     scene-\/>m\_sceneDataStorage.m\_dataComponentStorages.at(entityInfo.m\_dataComponentStorageIndex)}
\DoxyCodeLine{1873         .m\_chunkArray.m\_entities[entityInfo.m\_chunkArrayIndex] = entity;}
\DoxyCodeLine{1874     scene-\/>m\_sceneDataStorage.m\_dataComponentStorages.at(newEntityInfo.m\_dataComponentStorageIndex)}
\DoxyCodeLine{1875         .m\_chunkArray.m\_entities[newEntityInfo.m\_chunkArrayIndex] = newEntity;}
\DoxyCodeLine{1876     \mbox{\hyperlink{class_uni_engine_1_1_entity_manager_a7ed3bbcfdb53768be754e2c382d39ac3}{DeleteEntity}}(scene, newEntity);}
\DoxyCodeLine{1877 \textcolor{preprocessor}{\#pragma endregion}}
\DoxyCodeLine{1878     \textcolor{keywordflow}{return};}
\DoxyCodeLine{1879 \}}
\DoxyCodeLine{1880 }
\DoxyCodeLine{1881 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{1882 \textcolor{keywordtype}{void} EntityManager::SetDataComponent(\textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene, \textcolor{keyword}{const} Entity \&entity, \textcolor{keyword}{const} T \&value)}
\DoxyCodeLine{1883 \{}
\DoxyCodeLine{1884     assert(entity.IsValid());}
\DoxyCodeLine{1885     SetDataComponent(scene, entity.m\_index, \textcolor{keyword}{typeid}(T).hash\_code(), \textcolor{keyword}{sizeof}(T), (IDataComponent *)\&value);}
\DoxyCodeLine{1886 \}}
\DoxyCodeLine{1887 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{1888 \textcolor{keywordtype}{void} EntityManager::SetDataComponent(\textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene, \textcolor{keyword}{const} \textcolor{keywordtype}{size\_t} \&index, \textcolor{keyword}{const} T \&value)}
\DoxyCodeLine{1889 \{}
\DoxyCodeLine{1890     \textcolor{keyword}{auto} \&entityManager = \mbox{\hyperlink{class_uni_engine_1_1_i_singleton_a3be306028874b8da62357fe83aa7e915}{GetInstance}}();}
\DoxyCodeLine{1891 }
\DoxyCodeLine{1892     \textcolor{keywordflow}{if} (!scene)}
\DoxyCodeLine{1893     \{}
\DoxyCodeLine{1894         \textcolor{keywordflow}{return};}
\DoxyCodeLine{1895     \}}
\DoxyCodeLine{1896     \textcolor{keyword}{const} \textcolor{keywordtype}{size\_t} \textcolor{keywordtype}{id} = \textcolor{keyword}{typeid}(T).hash\_code();}
\DoxyCodeLine{1897     assert(index < scene-\/>m\_sceneDataStorage.m\_entityInfos.size());}
\DoxyCodeLine{1898     SetDataComponent(scene, index, \textcolor{keywordtype}{id}, \textcolor{keyword}{sizeof}(T), (IDataComponent *)\&value);}
\DoxyCodeLine{1899 \}}
\DoxyCodeLine{1900 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T> T EntityManager::GetDataComponent(\textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene, \textcolor{keyword}{const} Entity \&entity)}
\DoxyCodeLine{1901 \{}
\DoxyCodeLine{1902     \textcolor{keyword}{auto} \&entityManager = \mbox{\hyperlink{class_uni_engine_1_1_i_singleton_a3be306028874b8da62357fe83aa7e915}{GetInstance}}();}
\DoxyCodeLine{1903     \textcolor{keywordflow}{if} (!scene)}
\DoxyCodeLine{1904     \{}
\DoxyCodeLine{1905         \textcolor{keywordflow}{return} T();}
\DoxyCodeLine{1906     \}}
\DoxyCodeLine{1907     assert(entity.IsValid());}
\DoxyCodeLine{1908     EntityMetadata \&entityInfo = scene-\/>m\_sceneDataStorage.m\_entityInfos.at(entity.m\_index);}
\DoxyCodeLine{1909     \textcolor{keyword}{auto} \&dataComponentStorage =}
\DoxyCodeLine{1910         scene-\/>m\_sceneDataStorage.m\_dataComponentStorages[entityInfo.m\_dataComponentStorageIndex];}
\DoxyCodeLine{1911     \textcolor{keyword}{const} \textcolor{keywordtype}{size\_t} chunkIndex = entityInfo.m\_chunkArrayIndex / dataComponentStorage.m\_chunkCapacity;}
\DoxyCodeLine{1912     \textcolor{keyword}{const} \textcolor{keywordtype}{size\_t} chunkPointer = entityInfo.m\_chunkArrayIndex \% dataComponentStorage.m\_chunkCapacity;}
\DoxyCodeLine{1913     ComponentDataChunk \&chunk = dataComponentStorage.m\_chunkArray.m\_chunks[chunkIndex];}
\DoxyCodeLine{1914     \textcolor{keyword}{const} \textcolor{keywordtype}{size\_t} \textcolor{keywordtype}{id} = \textcolor{keyword}{typeid}(T).hash\_code();}
\DoxyCodeLine{1915     \textcolor{keywordflow}{if} (\textcolor{keywordtype}{id} == \textcolor{keyword}{typeid}(Transform).hash\_code())}
\DoxyCodeLine{1916     \{}
\DoxyCodeLine{1917         \textcolor{keywordflow}{return} chunk.GetData<T>(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{size\_t}\textcolor{keyword}{>}(chunkPointer * \textcolor{keyword}{sizeof}(Transform)));}
\DoxyCodeLine{1918     \}}
\DoxyCodeLine{1919     \textcolor{keywordflow}{if} (\textcolor{keywordtype}{id} == \textcolor{keyword}{typeid}(GlobalTransform).hash\_code())}
\DoxyCodeLine{1920     \{}
\DoxyCodeLine{1921         \textcolor{keywordflow}{return} chunk.GetData<T>(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{size\_t}\textcolor{keyword}{>}(}
\DoxyCodeLine{1922             \textcolor{keyword}{sizeof}(Transform) * dataComponentStorage.m\_chunkCapacity + chunkPointer * \textcolor{keyword}{sizeof}(GlobalTransform)));}
\DoxyCodeLine{1923     \}}
\DoxyCodeLine{1924     \textcolor{keywordflow}{if} (\textcolor{keywordtype}{id} == \textcolor{keyword}{typeid}(GlobalTransformUpdateFlag).hash\_code())}
\DoxyCodeLine{1925     \{}
\DoxyCodeLine{1926         \textcolor{keywordflow}{return} chunk.GetData<T>(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{size\_t}\textcolor{keyword}{>}(}
\DoxyCodeLine{1927             (\textcolor{keyword}{sizeof}(Transform) + \textcolor{keyword}{sizeof}(GlobalTransform)) * dataComponentStorage.m\_chunkCapacity +}
\DoxyCodeLine{1928             chunkPointer * \textcolor{keyword}{sizeof}(GlobalTransformUpdateFlag)));}
\DoxyCodeLine{1929     \}}
\DoxyCodeLine{1930     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto} \&type : dataComponentStorage.m\_dataComponentTypes)}
\DoxyCodeLine{1931     \{}
\DoxyCodeLine{1932         \textcolor{keywordflow}{if} (type.m\_typeId == \textcolor{keywordtype}{id})}
\DoxyCodeLine{1933         \{}
\DoxyCodeLine{1934             \textcolor{keywordflow}{return} chunk.GetData<T>(}
\DoxyCodeLine{1935                 \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{size\_t}\textcolor{keyword}{>}(type.m\_offset * dataComponentStorage.m\_chunkCapacity + chunkPointer * \textcolor{keyword}{sizeof}(T)));}
\DoxyCodeLine{1936         \}}
\DoxyCodeLine{1937     \}}
\DoxyCodeLine{1938     \mbox{\hyperlink{_console_manager_8hpp_a7a3167a177ec09f1984f74158b45bf3a}{UNIENGINE\_LOG}}(\textcolor{stringliteral}{"{}ComponentData doesn't exist"{}});}
\DoxyCodeLine{1939     \textcolor{keywordflow}{return} T();}
\DoxyCodeLine{1940 \}}
\DoxyCodeLine{1941 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T> \textcolor{keywordtype}{bool} EntityManager::HasDataComponent(\textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene, \textcolor{keyword}{const} Entity \&entity)}
\DoxyCodeLine{1942 \{}
\DoxyCodeLine{1943     \textcolor{keyword}{auto} \&entityManager = \mbox{\hyperlink{class_uni_engine_1_1_i_singleton_a3be306028874b8da62357fe83aa7e915}{GetInstance}}();}
\DoxyCodeLine{1944     \textcolor{keywordflow}{if} (!scene)}
\DoxyCodeLine{1945     \{}
\DoxyCodeLine{1946         \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{1947     \}}
\DoxyCodeLine{1948     assert(entity.IsValid());}
\DoxyCodeLine{1949     EntityMetadata \&entityInfo = scene-\/>m\_sceneDataStorage.m\_entityInfos.at(entity.m\_index);}
\DoxyCodeLine{1950     \textcolor{keyword}{auto} \&dataComponentStorage =}
\DoxyCodeLine{1951         scene-\/>m\_sceneDataStorage.m\_dataComponentStorages[entityInfo.m\_dataComponentStorageIndex];}
\DoxyCodeLine{1952     \textcolor{keyword}{const} \textcolor{keywordtype}{size\_t} \textcolor{keywordtype}{id} = \textcolor{keyword}{typeid}(T).hash\_code();}
\DoxyCodeLine{1953     \textcolor{keywordflow}{if} (\textcolor{keywordtype}{id} == \textcolor{keyword}{typeid}(Transform).hash\_code())}
\DoxyCodeLine{1954     \{}
\DoxyCodeLine{1955         \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{1956     \}}
\DoxyCodeLine{1957     \textcolor{keywordflow}{if} (\textcolor{keywordtype}{id} == \textcolor{keyword}{typeid}(GlobalTransform).hash\_code())}
\DoxyCodeLine{1958     \{}
\DoxyCodeLine{1959         \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{1960     \}}
\DoxyCodeLine{1961     \textcolor{keywordflow}{if} (\textcolor{keywordtype}{id} == \textcolor{keyword}{typeid}(GlobalTransformUpdateFlag).hash\_code())}
\DoxyCodeLine{1962     \{}
\DoxyCodeLine{1963         \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{1964     \}}
\DoxyCodeLine{1965     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto} \&type : dataComponentStorage.m\_dataComponentTypes)}
\DoxyCodeLine{1966     \{}
\DoxyCodeLine{1967         \textcolor{keywordflow}{if} (type.m\_typeId == \textcolor{keywordtype}{id})}
\DoxyCodeLine{1968         \{}
\DoxyCodeLine{1969             \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{1970         \}}
\DoxyCodeLine{1971     \}}
\DoxyCodeLine{1972     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{1973 \}}
\DoxyCodeLine{1974 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T> T EntityManager::GetDataComponent(\textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene, \textcolor{keyword}{const} \textcolor{keywordtype}{size\_t} \&index)}
\DoxyCodeLine{1975 \{}
\DoxyCodeLine{1976     \textcolor{keyword}{auto} \&entityManager = \mbox{\hyperlink{class_uni_engine_1_1_i_singleton_a3be306028874b8da62357fe83aa7e915}{GetInstance}}();}
\DoxyCodeLine{1977 }
\DoxyCodeLine{1978     \textcolor{keywordflow}{if} (!scene)}
\DoxyCodeLine{1979     \{}
\DoxyCodeLine{1980         \textcolor{keywordflow}{return} T();}
\DoxyCodeLine{1981     \}}
\DoxyCodeLine{1982     \textcolor{keywordflow}{if} (index > scene-\/>m\_sceneDataStorage.m\_entityInfos.size())}
\DoxyCodeLine{1983         \textcolor{keywordflow}{return} T();}
\DoxyCodeLine{1984     EntityMetadata \&entityInfo = scene-\/>m\_sceneDataStorage.m\_entityInfos.at(index);}
\DoxyCodeLine{1985     \textcolor{keyword}{auto} \&dataComponentStorage =}
\DoxyCodeLine{1986         scene-\/>m\_sceneDataStorage.m\_dataComponentStorages[entityInfo.m\_dataComponentStorageIndex];}
\DoxyCodeLine{1987     \textcolor{keyword}{const} \textcolor{keywordtype}{size\_t} chunkIndex = entityInfo.m\_chunkArrayIndex / dataComponentStorage.m\_chunkCapacity;}
\DoxyCodeLine{1988     \textcolor{keyword}{const} \textcolor{keywordtype}{size\_t} chunkPointer = entityInfo.m\_chunkArrayIndex \% dataComponentStorage.m\_chunkCapacity;}
\DoxyCodeLine{1989     ComponentDataChunk \&chunk = dataComponentStorage.m\_chunkArray.m\_chunks[chunkIndex];}
\DoxyCodeLine{1990     ;}
\DoxyCodeLine{1991     \textcolor{keyword}{const} \textcolor{keywordtype}{size\_t} \textcolor{keywordtype}{id} = \textcolor{keyword}{typeid}(T).hash\_code();}
\DoxyCodeLine{1992     \textcolor{keywordflow}{if} (\textcolor{keywordtype}{id} == \textcolor{keyword}{typeid}(Transform).hash\_code())}
\DoxyCodeLine{1993     \{}
\DoxyCodeLine{1994         \textcolor{keywordflow}{return} chunk.GetData<T>(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{size\_t}\textcolor{keyword}{>}(chunkPointer * \textcolor{keyword}{sizeof}(Transform)));}
\DoxyCodeLine{1995     \}}
\DoxyCodeLine{1996     \textcolor{keywordflow}{if} (\textcolor{keywordtype}{id} == \textcolor{keyword}{typeid}(GlobalTransform).hash\_code())}
\DoxyCodeLine{1997     \{}
\DoxyCodeLine{1998         \textcolor{keywordflow}{return} chunk.GetData<T>(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{size\_t}\textcolor{keyword}{>}(}
\DoxyCodeLine{1999             \textcolor{keyword}{sizeof}(Transform) * dataComponentStorage.m\_chunkCapacity + chunkPointer * \textcolor{keyword}{sizeof}(GlobalTransform)));}
\DoxyCodeLine{2000     \}}
\DoxyCodeLine{2001     \textcolor{keywordflow}{if} (\textcolor{keywordtype}{id} == \textcolor{keyword}{typeid}(GlobalTransformUpdateFlag).hash\_code())}
\DoxyCodeLine{2002     \{}
\DoxyCodeLine{2003         \textcolor{keywordflow}{return} chunk.GetData<T>(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{size\_t}\textcolor{keyword}{>}(}
\DoxyCodeLine{2004             (\textcolor{keyword}{sizeof}(Transform) + \textcolor{keyword}{sizeof}(GlobalTransform)) * dataComponentStorage.m\_chunkCapacity +}
\DoxyCodeLine{2005             chunkPointer * \textcolor{keyword}{sizeof}(GlobalTransformUpdateFlag)));}
\DoxyCodeLine{2006     \}}
\DoxyCodeLine{2007     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto} \&type : dataComponentStorage.m\_dataComponentTypes)}
\DoxyCodeLine{2008     \{}
\DoxyCodeLine{2009         \textcolor{keywordflow}{if} (type.m\_typeId == \textcolor{keywordtype}{id})}
\DoxyCodeLine{2010         \{}
\DoxyCodeLine{2011             \textcolor{keywordflow}{return} chunk.GetData<T>(}
\DoxyCodeLine{2012                 \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{size\_t}\textcolor{keyword}{>}(type.m\_offset * dataComponentStorage.m\_chunkCapacity + chunkPointer * \textcolor{keyword}{sizeof}(T)));}
\DoxyCodeLine{2013         \}}
\DoxyCodeLine{2014     \}}
\DoxyCodeLine{2015     \mbox{\hyperlink{_console_manager_8hpp_a7a3167a177ec09f1984f74158b45bf3a}{UNIENGINE\_LOG}}(\textcolor{stringliteral}{"{}ComponentData doesn't exist"{}});}
\DoxyCodeLine{2016     \textcolor{keywordflow}{return} T();}
\DoxyCodeLine{2017 \}}
\DoxyCodeLine{2018 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T> \textcolor{keywordtype}{bool} EntityManager::HasDataComponent(\textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene, \textcolor{keyword}{const} \textcolor{keywordtype}{size\_t} \&index)}
\DoxyCodeLine{2019 \{}
\DoxyCodeLine{2020     \textcolor{keyword}{auto} \&entityManager = \mbox{\hyperlink{class_uni_engine_1_1_i_singleton_a3be306028874b8da62357fe83aa7e915}{GetInstance}}();}
\DoxyCodeLine{2021     \textcolor{keywordflow}{if} (!scene)}
\DoxyCodeLine{2022     \{}
\DoxyCodeLine{2023         \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{2024     \}}
\DoxyCodeLine{2025     \textcolor{keywordflow}{if} (index > scene-\/>m\_sceneDataStorage.m\_entityInfos.size())}
\DoxyCodeLine{2026         \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{2027     EntityMetadata \&entityInfo = scene-\/>m\_sceneDataStorage.m\_entityInfos.at(index);}
\DoxyCodeLine{2028     \textcolor{keyword}{auto} \&dataComponentStorage =}
\DoxyCodeLine{2029         scene-\/>m\_sceneDataStorage.m\_dataComponentStorages[entityInfo.m\_dataComponentStorageIndex];}
\DoxyCodeLine{2030 }
\DoxyCodeLine{2031     \textcolor{keyword}{const} \textcolor{keywordtype}{size\_t} \textcolor{keywordtype}{id} = \textcolor{keyword}{typeid}(T).hash\_code();}
\DoxyCodeLine{2032     \textcolor{keywordflow}{if} (\textcolor{keywordtype}{id} == \textcolor{keyword}{typeid}(Transform).hash\_code())}
\DoxyCodeLine{2033     \{}
\DoxyCodeLine{2034         \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{2035     \}}
\DoxyCodeLine{2036     \textcolor{keywordflow}{if} (\textcolor{keywordtype}{id} == \textcolor{keyword}{typeid}(GlobalTransform).hash\_code())}
\DoxyCodeLine{2037     \{}
\DoxyCodeLine{2038         \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{2039     \}}
\DoxyCodeLine{2040     \textcolor{keywordflow}{if} (\textcolor{keywordtype}{id} == \textcolor{keyword}{typeid}(GlobalTransformUpdateFlag).hash\_code())}
\DoxyCodeLine{2041     \{}
\DoxyCodeLine{2042         \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{2043     \}}
\DoxyCodeLine{2044     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto} \&type : dataComponentStorage.m\_dataComponentTypes)}
\DoxyCodeLine{2045     \{}
\DoxyCodeLine{2046         \textcolor{keywordflow}{if} (type.m\_typeId == \textcolor{keywordtype}{id})}
\DoxyCodeLine{2047         \{}
\DoxyCodeLine{2048             \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{2049         \}}
\DoxyCodeLine{2050     \}}
\DoxyCodeLine{2051     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{2052 \}}
\DoxyCodeLine{2053 }
\DoxyCodeLine{2054 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{2055 std::weak\_ptr<T> EntityManager::GetOrSetPrivateComponent(\textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene, \textcolor{keyword}{const} Entity \&entity)}
\DoxyCodeLine{2056 \{}
\DoxyCodeLine{2057     \textcolor{keyword}{auto} \&entityManager = \mbox{\hyperlink{class_uni_engine_1_1_i_singleton_a3be306028874b8da62357fe83aa7e915}{GetInstance}}();}
\DoxyCodeLine{2058     \textcolor{keywordflow}{if} (!scene)}
\DoxyCodeLine{2059     \{}
\DoxyCodeLine{2060         \textcolor{keywordflow}{throw} 0;}
\DoxyCodeLine{2061     \}}
\DoxyCodeLine{2062     assert(entity.IsValid());}
\DoxyCodeLine{2063     \textcolor{keyword}{auto} typeName = SerializationManager::GetSerializableTypeName<T>();}
\DoxyCodeLine{2064     \textcolor{keywordtype}{size\_t} i = 0;}
\DoxyCodeLine{2065     \textcolor{keyword}{auto} \&elements = scene-\/>m\_sceneDataStorage.m\_entityInfos.at(entity.m\_index).m\_privateComponentElements;}
\DoxyCodeLine{2066     \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} \&element : elements)}
\DoxyCodeLine{2067     \{}
\DoxyCodeLine{2068         \textcolor{keywordflow}{if} (typeName == element.m\_privateComponentData-\/>GetTypeName())}
\DoxyCodeLine{2069         \{}
\DoxyCodeLine{2070             \textcolor{keywordflow}{return} std::static\_pointer\_cast<T>(element.m\_privateComponentData);}
\DoxyCodeLine{2071         \}}
\DoxyCodeLine{2072         i++;}
\DoxyCodeLine{2073     \}}
\DoxyCodeLine{2074     scene-\/>m\_sceneDataStorage.m\_entityPrivateComponentStorage.SetPrivateComponent<T>(entity);}
\DoxyCodeLine{2075     \textcolor{keyword}{auto} ptr = SerializationManager::ProduceSerializable<T>();}
\DoxyCodeLine{2076     elements.emplace\_back(\textcolor{keyword}{typeid}(T).hash\_code(), ptr, entity);}
\DoxyCodeLine{2077     entityManager.m\_scene-\/>m\_saved = \textcolor{keyword}{false};}
\DoxyCodeLine{2078     \textcolor{keywordflow}{return} std::move(ptr);}
\DoxyCodeLine{2079 \}}
\DoxyCodeLine{2080 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{2081 \textcolor{keywordtype}{void} EntityManager::RemovePrivateComponent(\textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene, \textcolor{keyword}{const} Entity \&entity)}
\DoxyCodeLine{2082 \{}
\DoxyCodeLine{2083     \textcolor{keyword}{auto} \&entityManager = \mbox{\hyperlink{class_uni_engine_1_1_i_singleton_a3be306028874b8da62357fe83aa7e915}{GetInstance}}();}
\DoxyCodeLine{2084     \textcolor{keywordflow}{if} (!scene)}
\DoxyCodeLine{2085     \{}
\DoxyCodeLine{2086         \textcolor{keywordflow}{return};}
\DoxyCodeLine{2087     \}}
\DoxyCodeLine{2088     assert(entity.IsValid());}
\DoxyCodeLine{2089     \textcolor{keyword}{auto} \&elements = scene-\/>m\_sceneDataStorage.m\_entityInfos.at(entity.m\_index).m\_privateComponentElements;}
\DoxyCodeLine{2090     \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} i = 0; i < elements.size(); i++)}
\DoxyCodeLine{2091     \{}
\DoxyCodeLine{2092         \textcolor{keywordflow}{if} (std::dynamic\_pointer\_cast<T>(elements[i].m\_privateComponentData))}
\DoxyCodeLine{2093         \{}
\DoxyCodeLine{2094             scene-\/>m\_sceneDataStorage.m\_entityPrivateComponentStorage.RemovePrivateComponent<T>(entity);}
\DoxyCodeLine{2095             elements[i].m\_privateComponentData-\/>OnDestroy();}
\DoxyCodeLine{2096             elements.erase(elements.begin() + i);}
\DoxyCodeLine{2097             \mbox{\hyperlink{class_uni_engine_1_1_i_singleton_a3be306028874b8da62357fe83aa7e915}{GetInstance}}().m\_scene-\/>m\_saved = \textcolor{keyword}{false};}
\DoxyCodeLine{2098             \textcolor{keywordflow}{return};}
\DoxyCodeLine{2099         \}}
\DoxyCodeLine{2100     \}}
\DoxyCodeLine{2101 \}}
\DoxyCodeLine{2102 }
\DoxyCodeLine{2103 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T> \textcolor{keywordtype}{bool} EntityManager::HasPrivateComponent(\textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene, \textcolor{keyword}{const} Entity \&entity)}
\DoxyCodeLine{2104 \{}
\DoxyCodeLine{2105     \textcolor{keyword}{auto} \&entityManager = \mbox{\hyperlink{class_uni_engine_1_1_i_singleton_a3be306028874b8da62357fe83aa7e915}{GetInstance}}();}
\DoxyCodeLine{2106     \textcolor{keywordflow}{if} (!scene)}
\DoxyCodeLine{2107     \{}
\DoxyCodeLine{2108         \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{2109     \}}
\DoxyCodeLine{2110     assert(entity.IsValid());}
\DoxyCodeLine{2111     \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} \&element : scene-\/>m\_sceneDataStorage.m\_entityInfos.at(entity.m\_index).m\_privateComponentElements)}
\DoxyCodeLine{2112     \{}
\DoxyCodeLine{2113         \textcolor{keywordflow}{if} (std::dynamic\_pointer\_cast<T>(element.m\_privateComponentData))}
\DoxyCodeLine{2114         \{}
\DoxyCodeLine{2115             \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{2116         \}}
\DoxyCodeLine{2117     \}}
\DoxyCodeLine{2118     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{2119 \}}
\DoxyCodeLine{2120 }
\DoxyCodeLine{2121 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T, \textcolor{keyword}{typename}... Ts>}
\DoxyCodeLine{2122 \textcolor{keywordtype}{void} EntityManager::SetEntityQueryAllFilters(\textcolor{keyword}{const} EntityQuery \&entityQuery, T arg, Ts... args)}
\DoxyCodeLine{2123 \{}
\DoxyCodeLine{2124     assert(entityQuery.IsValid());}
\DoxyCodeLine{2125     \mbox{\hyperlink{class_uni_engine_1_1_i_singleton_a3be306028874b8da62357fe83aa7e915}{GetInstance}}().m\_entityQueryInfos[entityQuery.m\_index].m\_allDataComponentTypes =}
\DoxyCodeLine{2126         CollectDataComponentTypes(arg, args...);}
\DoxyCodeLine{2127 \}}
\DoxyCodeLine{2128 }
\DoxyCodeLine{2129 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T, \textcolor{keyword}{typename}... Ts>}
\DoxyCodeLine{2130 \textcolor{keywordtype}{void} EntityManager::SetEntityQueryAnyFilters(\textcolor{keyword}{const} EntityQuery \&entityQuery, T arg, Ts... args)}
\DoxyCodeLine{2131 \{}
\DoxyCodeLine{2132     assert(entityQuery.IsValid());}
\DoxyCodeLine{2133     \mbox{\hyperlink{class_uni_engine_1_1_i_singleton_a3be306028874b8da62357fe83aa7e915}{GetInstance}}().m\_entityQueryInfos[entityQuery.m\_index].m\_anyDataComponentTypes =}
\DoxyCodeLine{2134         CollectDataComponentTypes(arg, args...);}
\DoxyCodeLine{2135 \}}
\DoxyCodeLine{2136 }
\DoxyCodeLine{2137 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T, \textcolor{keyword}{typename}... Ts>}
\DoxyCodeLine{2138 \textcolor{keywordtype}{void} EntityManager::SetEntityQueryNoneFilters(\textcolor{keyword}{const} EntityQuery \&entityQuery, T arg, Ts... args)}
\DoxyCodeLine{2139 \{}
\DoxyCodeLine{2140     assert(entityQuery.IsValid());}
\DoxyCodeLine{2141     \mbox{\hyperlink{class_uni_engine_1_1_i_singleton_a3be306028874b8da62357fe83aa7e915}{GetInstance}}().m\_entityQueryInfos[entityQuery.m\_index].m\_noneDataComponentTypes =}
\DoxyCodeLine{2142         CollectDataComponentTypes(arg, args...);}
\DoxyCodeLine{2143 \}}
\DoxyCodeLine{2144 \textcolor{preprocessor}{\#pragma endregion}}
\DoxyCodeLine{2145 \textcolor{preprocessor}{\#pragma region For Each}}
\DoxyCodeLine{2146 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T1>}
\DoxyCodeLine{2147 \textcolor{keywordtype}{void} \mbox{\hyperlink{class_uni_engine_1_1_entity_manager_ad1836a078a3285549466ee595e871ad4}{EntityManager::ForEach}}(}
\DoxyCodeLine{2148     \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene,}
\DoxyCodeLine{2149     \mbox{\hyperlink{class_uni_engine_1_1_thread_pool}{ThreadPool}} \&workers,}
\DoxyCodeLine{2150     \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity_query}{EntityQuery}} \&entityQuery,}
\DoxyCodeLine{2151     \textcolor{keyword}{const} std::function<\textcolor{keywordtype}{void}(\textcolor{keywordtype}{int} i, \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} entity, T1 \&)> \&func,}
\DoxyCodeLine{2152     \textcolor{keywordtype}{bool} checkEnable)}
\DoxyCodeLine{2153 \{}
\DoxyCodeLine{2154     assert(entityQuery.\mbox{\hyperlink{struct_uni_engine_1_1_entity_query_ae4869830693acd358bdd8520952b89ba}{IsValid}}());}
\DoxyCodeLine{2155     \textcolor{keyword}{auto} entityManager = \mbox{\hyperlink{class_uni_engine_1_1_i_singleton_a3be306028874b8da62357fe83aa7e915}{GetInstance}}();}
\DoxyCodeLine{2156     \textcolor{keyword}{auto} queriedStorages = QueryDataComponentStorages(scene, entityQuery);}
\DoxyCodeLine{2157     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto} i : queriedStorages)}
\DoxyCodeLine{2158     \{}
\DoxyCodeLine{2159         ForEachStorage(scene, workers, i.get(), func, checkEnable);}
\DoxyCodeLine{2160     \}}
\DoxyCodeLine{2161 \}}
\DoxyCodeLine{2162 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T1, \textcolor{keyword}{typename} T2>}
\DoxyCodeLine{2163 \textcolor{keywordtype}{void} \mbox{\hyperlink{class_uni_engine_1_1_entity_manager_ad1836a078a3285549466ee595e871ad4}{EntityManager::ForEach}}(}
\DoxyCodeLine{2164     \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene,}
\DoxyCodeLine{2165     \mbox{\hyperlink{class_uni_engine_1_1_thread_pool}{ThreadPool}} \&workers,}
\DoxyCodeLine{2166     \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity_query}{EntityQuery}} \&entityQuery,}
\DoxyCodeLine{2167     \textcolor{keyword}{const} std::function<\textcolor{keywordtype}{void}(\textcolor{keywordtype}{int} i, \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} entity, T1 \&, T2 \&)> \&func,}
\DoxyCodeLine{2168     \textcolor{keywordtype}{bool} checkEnable)}
\DoxyCodeLine{2169 \{}
\DoxyCodeLine{2170     assert(entityQuery.\mbox{\hyperlink{struct_uni_engine_1_1_entity_query_ae4869830693acd358bdd8520952b89ba}{IsValid}}());}
\DoxyCodeLine{2171     \textcolor{keyword}{auto} entityManager = \mbox{\hyperlink{class_uni_engine_1_1_i_singleton_a3be306028874b8da62357fe83aa7e915}{GetInstance}}();}
\DoxyCodeLine{2172     \textcolor{keyword}{auto} queriedStorages = QueryDataComponentStorages(scene, entityQuery);}
\DoxyCodeLine{2173     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto} i : queriedStorages)}
\DoxyCodeLine{2174     \{}
\DoxyCodeLine{2175         ForEachStorage(scene, workers, i.get(), func, checkEnable);}
\DoxyCodeLine{2176     \}}
\DoxyCodeLine{2177 \}}
\DoxyCodeLine{2178 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T1, \textcolor{keyword}{typename} T2, \textcolor{keyword}{typename} T3>}
\DoxyCodeLine{2179 \textcolor{keywordtype}{void} \mbox{\hyperlink{class_uni_engine_1_1_entity_manager_ad1836a078a3285549466ee595e871ad4}{EntityManager::ForEach}}(}
\DoxyCodeLine{2180     \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene,}
\DoxyCodeLine{2181     \mbox{\hyperlink{class_uni_engine_1_1_thread_pool}{ThreadPool}} \&workers,}
\DoxyCodeLine{2182     \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity_query}{EntityQuery}} \&entityQuery,}
\DoxyCodeLine{2183     \textcolor{keyword}{const} std::function<\textcolor{keywordtype}{void}(\textcolor{keywordtype}{int} i, \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} entity, T1 \&, T2 \&, T3 \&)> \&func,}
\DoxyCodeLine{2184     \textcolor{keywordtype}{bool} checkEnable)}
\DoxyCodeLine{2185 \{}
\DoxyCodeLine{2186     assert(entityQuery.\mbox{\hyperlink{struct_uni_engine_1_1_entity_query_ae4869830693acd358bdd8520952b89ba}{IsValid}}());}
\DoxyCodeLine{2187     \textcolor{keyword}{auto} entityManager = \mbox{\hyperlink{class_uni_engine_1_1_i_singleton_a3be306028874b8da62357fe83aa7e915}{GetInstance}}();}
\DoxyCodeLine{2188     \textcolor{keyword}{auto} queriedStorages = QueryDataComponentStorages(scene, entityQuery);}
\DoxyCodeLine{2189     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto} i : queriedStorages)}
\DoxyCodeLine{2190     \{}
\DoxyCodeLine{2191         ForEachStorage(scene, workers, i.get(), func, checkEnable);}
\DoxyCodeLine{2192     \}}
\DoxyCodeLine{2193 \}}
\DoxyCodeLine{2194 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T1, \textcolor{keyword}{typename} T2, \textcolor{keyword}{typename} T3, \textcolor{keyword}{typename} T4>}
\DoxyCodeLine{2195 \textcolor{keywordtype}{void} \mbox{\hyperlink{class_uni_engine_1_1_entity_manager_ad1836a078a3285549466ee595e871ad4}{EntityManager::ForEach}}(}
\DoxyCodeLine{2196     \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene,}
\DoxyCodeLine{2197     \mbox{\hyperlink{class_uni_engine_1_1_thread_pool}{ThreadPool}} \&workers,}
\DoxyCodeLine{2198     \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity_query}{EntityQuery}} \&entityQuery,}
\DoxyCodeLine{2199     \textcolor{keyword}{const} std::function<\textcolor{keywordtype}{void}(\textcolor{keywordtype}{int} i, \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} entity, T1 \&, T2 \&, T3 \&, T4 \&)> \&func,}
\DoxyCodeLine{2200     \textcolor{keywordtype}{bool} checkEnable)}
\DoxyCodeLine{2201 \{}
\DoxyCodeLine{2202     assert(entityQuery.\mbox{\hyperlink{struct_uni_engine_1_1_entity_query_ae4869830693acd358bdd8520952b89ba}{IsValid}}());}
\DoxyCodeLine{2203     \textcolor{keyword}{auto} entityManager = \mbox{\hyperlink{class_uni_engine_1_1_i_singleton_a3be306028874b8da62357fe83aa7e915}{GetInstance}}();}
\DoxyCodeLine{2204     \textcolor{keyword}{auto} queriedStorages = QueryDataComponentStorages(scene, entityQuery);}
\DoxyCodeLine{2205     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto} i : queriedStorages)}
\DoxyCodeLine{2206     \{}
\DoxyCodeLine{2207         ForEachStorage(scene, workers, i.get(), func, checkEnable);}
\DoxyCodeLine{2208     \}}
\DoxyCodeLine{2209 \}}
\DoxyCodeLine{2210 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T1, \textcolor{keyword}{typename} T2, \textcolor{keyword}{typename} T3, \textcolor{keyword}{typename} T4, \textcolor{keyword}{typename} T5>}
\DoxyCodeLine{2211 \textcolor{keywordtype}{void} \mbox{\hyperlink{class_uni_engine_1_1_entity_manager_ad1836a078a3285549466ee595e871ad4}{EntityManager::ForEach}}(}
\DoxyCodeLine{2212     \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene,}
\DoxyCodeLine{2213     \mbox{\hyperlink{class_uni_engine_1_1_thread_pool}{ThreadPool}} \&workers,}
\DoxyCodeLine{2214     \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity_query}{EntityQuery}} \&entityQuery,}
\DoxyCodeLine{2215     \textcolor{keyword}{const} std::function<\textcolor{keywordtype}{void}(\textcolor{keywordtype}{int} i, \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} entity, T1 \&, T2 \&, T3 \&, T4 \&, T5 \&)> \&func,}
\DoxyCodeLine{2216     \textcolor{keywordtype}{bool} checkEnable)}
\DoxyCodeLine{2217 \{}
\DoxyCodeLine{2218     assert(entityQuery.\mbox{\hyperlink{struct_uni_engine_1_1_entity_query_ae4869830693acd358bdd8520952b89ba}{IsValid}}());}
\DoxyCodeLine{2219     \textcolor{keyword}{auto} entityManager = \mbox{\hyperlink{class_uni_engine_1_1_i_singleton_a3be306028874b8da62357fe83aa7e915}{GetInstance}}();}
\DoxyCodeLine{2220     \textcolor{keyword}{auto} queriedStorages = QueryDataComponentStorages(scene, entityQuery);}
\DoxyCodeLine{2221     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto} i : queriedStorages)}
\DoxyCodeLine{2222     \{}
\DoxyCodeLine{2223         ForEachStorage(scene, workers, i.get(), func, checkEnable);}
\DoxyCodeLine{2224     \}}
\DoxyCodeLine{2225 \}}
\DoxyCodeLine{2226 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T1, \textcolor{keyword}{typename} T2, \textcolor{keyword}{typename} T3, \textcolor{keyword}{typename} T4, \textcolor{keyword}{typename} T5, \textcolor{keyword}{typename} T6>}
\DoxyCodeLine{2227 \textcolor{keywordtype}{void} \mbox{\hyperlink{class_uni_engine_1_1_entity_manager_ad1836a078a3285549466ee595e871ad4}{EntityManager::ForEach}}(}
\DoxyCodeLine{2228     \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene,}
\DoxyCodeLine{2229     \mbox{\hyperlink{class_uni_engine_1_1_thread_pool}{ThreadPool}} \&workers,}
\DoxyCodeLine{2230     \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity_query}{EntityQuery}} \&entityQuery,}
\DoxyCodeLine{2231     \textcolor{keyword}{const} std::function<\textcolor{keywordtype}{void}(\textcolor{keywordtype}{int} i, \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} entity, T1 \&, T2 \&, T3 \&, T4 \&, T5 \&, T6 \&)> \&func,}
\DoxyCodeLine{2232     \textcolor{keywordtype}{bool} checkEnable)}
\DoxyCodeLine{2233 \{}
\DoxyCodeLine{2234     assert(entityQuery.\mbox{\hyperlink{struct_uni_engine_1_1_entity_query_ae4869830693acd358bdd8520952b89ba}{IsValid}}());}
\DoxyCodeLine{2235     \textcolor{keyword}{auto} entityManager = \mbox{\hyperlink{class_uni_engine_1_1_i_singleton_a3be306028874b8da62357fe83aa7e915}{GetInstance}}();}
\DoxyCodeLine{2236     \textcolor{keyword}{auto} queriedStorages = QueryDataComponentStorages(scene, entityQuery);}
\DoxyCodeLine{2237     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto} i : queriedStorages)}
\DoxyCodeLine{2238     \{}
\DoxyCodeLine{2239         ForEachStorage(scene, workers, i.get(), func, checkEnable);}
\DoxyCodeLine{2240     \}}
\DoxyCodeLine{2241 \}}
\DoxyCodeLine{2242 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T1, \textcolor{keyword}{typename} T2, \textcolor{keyword}{typename} T3, \textcolor{keyword}{typename} T4, \textcolor{keyword}{typename} T5, \textcolor{keyword}{typename} T6, \textcolor{keyword}{typename} T7>}
\DoxyCodeLine{2243 \textcolor{keywordtype}{void} \mbox{\hyperlink{class_uni_engine_1_1_entity_manager_ad1836a078a3285549466ee595e871ad4}{EntityManager::ForEach}}(}
\DoxyCodeLine{2244     \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene,}
\DoxyCodeLine{2245     \mbox{\hyperlink{class_uni_engine_1_1_thread_pool}{ThreadPool}} \&workers,}
\DoxyCodeLine{2246     \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity_query}{EntityQuery}} \&entityQuery,}
\DoxyCodeLine{2247     \textcolor{keyword}{const} std::function<\textcolor{keywordtype}{void}(\textcolor{keywordtype}{int} i, \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} entity, T1 \&, T2 \&, T3 \&, T4 \&, T5 \&, T6 \&, T7 \&)> \&func,}
\DoxyCodeLine{2248     \textcolor{keywordtype}{bool} checkEnable)}
\DoxyCodeLine{2249 \{}
\DoxyCodeLine{2250     assert(entityQuery.\mbox{\hyperlink{struct_uni_engine_1_1_entity_query_ae4869830693acd358bdd8520952b89ba}{IsValid}}());}
\DoxyCodeLine{2251     \textcolor{keyword}{auto} entityManager = \mbox{\hyperlink{class_uni_engine_1_1_i_singleton_a3be306028874b8da62357fe83aa7e915}{GetInstance}}();}
\DoxyCodeLine{2252     \textcolor{keyword}{auto} queriedStorages = QueryDataComponentStorages(scene, entityQuery);}
\DoxyCodeLine{2253     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto} i : queriedStorages)}
\DoxyCodeLine{2254     \{}
\DoxyCodeLine{2255         ForEachStorage(scene, workers, i.get(), func, checkEnable);}
\DoxyCodeLine{2256     \}}
\DoxyCodeLine{2257 \}}
\DoxyCodeLine{2258 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T1, \textcolor{keyword}{typename} T2, \textcolor{keyword}{typename} T3, \textcolor{keyword}{typename} T4, \textcolor{keyword}{typename} T5, \textcolor{keyword}{typename} T6, \textcolor{keyword}{typename} T7, \textcolor{keyword}{typename} T8>}
\DoxyCodeLine{2259 \textcolor{keywordtype}{void} \mbox{\hyperlink{class_uni_engine_1_1_entity_manager_ad1836a078a3285549466ee595e871ad4}{EntityManager::ForEach}}(}
\DoxyCodeLine{2260     \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene,}
\DoxyCodeLine{2261     \mbox{\hyperlink{class_uni_engine_1_1_thread_pool}{ThreadPool}} \&workers,}
\DoxyCodeLine{2262     \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity_query}{EntityQuery}} \&entityQuery,}
\DoxyCodeLine{2263     \textcolor{keyword}{const} std::function<\textcolor{keywordtype}{void}(\textcolor{keywordtype}{int} i, \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} entity, T1 \&, T2 \&, T3 \&, T4 \&, T5 \&, T6 \&, T7 \&, T8 \&)> \&func,}
\DoxyCodeLine{2264     \textcolor{keywordtype}{bool} checkEnable)}
\DoxyCodeLine{2265 \{}
\DoxyCodeLine{2266     assert(entityQuery.\mbox{\hyperlink{struct_uni_engine_1_1_entity_query_ae4869830693acd358bdd8520952b89ba}{IsValid}}());}
\DoxyCodeLine{2267     \textcolor{keyword}{auto} entityManager = \mbox{\hyperlink{class_uni_engine_1_1_i_singleton_a3be306028874b8da62357fe83aa7e915}{GetInstance}}();}
\DoxyCodeLine{2268     \textcolor{keyword}{auto} queriedStorages = QueryDataComponentStorages(scene, entityQuery);}
\DoxyCodeLine{2269     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto} i : queriedStorages)}
\DoxyCodeLine{2270     \{}
\DoxyCodeLine{2271         ForEachStorage(scene, workers, i.get(), func, checkEnable);}
\DoxyCodeLine{2272     \}}
\DoxyCodeLine{2273 \}}
\DoxyCodeLine{2274 }
\DoxyCodeLine{2275 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T1>}
\DoxyCodeLine{2276 \textcolor{keywordtype}{void} \mbox{\hyperlink{class_uni_engine_1_1_entity_manager_ad1836a078a3285549466ee595e871ad4}{EntityManager::ForEach}}(}
\DoxyCodeLine{2277     \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene,}
\DoxyCodeLine{2278     \mbox{\hyperlink{class_uni_engine_1_1_thread_pool}{ThreadPool}} \&workers,}
\DoxyCodeLine{2279     \textcolor{keyword}{const} std::function<\textcolor{keywordtype}{void}(\textcolor{keywordtype}{int} i, \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} entity, T1 \&)> \&func,}
\DoxyCodeLine{2280     \textcolor{keywordtype}{bool} checkEnable)}
\DoxyCodeLine{2281 \{}
\DoxyCodeLine{2282     \textcolor{keyword}{auto} \&entityManager = \mbox{\hyperlink{class_uni_engine_1_1_i_singleton_a3be306028874b8da62357fe83aa7e915}{GetInstance}}();}
\DoxyCodeLine{2283 }
\DoxyCodeLine{2284     \textcolor{keywordflow}{if} (!scene)}
\DoxyCodeLine{2285     \{}
\DoxyCodeLine{2286         \textcolor{keywordflow}{return};}
\DoxyCodeLine{2287     \}}
\DoxyCodeLine{2288     \textcolor{keyword}{auto} \&manager = \mbox{\hyperlink{class_uni_engine_1_1_i_singleton_a3be306028874b8da62357fe83aa7e915}{GetInstance}}();}
\DoxyCodeLine{2289     \textcolor{keyword}{auto} \&storages = scene-\/>m\_sceneDataStorage.m\_dataComponentStorages;}
\DoxyCodeLine{2290     \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} i = storages.begin() + 1; i < storages.end(); ++i)}
\DoxyCodeLine{2291     \{}
\DoxyCodeLine{2292         ForEachStorage(scene, workers, *i, func, checkEnable);}
\DoxyCodeLine{2293     \}}
\DoxyCodeLine{2294 \}}
\DoxyCodeLine{2295 }
\DoxyCodeLine{2296 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T1, \textcolor{keyword}{typename} T2>}
\DoxyCodeLine{2297 \textcolor{keywordtype}{void} \mbox{\hyperlink{class_uni_engine_1_1_entity_manager_ad1836a078a3285549466ee595e871ad4}{EntityManager::ForEach}}(}
\DoxyCodeLine{2298     \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene,}
\DoxyCodeLine{2299     \mbox{\hyperlink{class_uni_engine_1_1_thread_pool}{ThreadPool}} \&workers,}
\DoxyCodeLine{2300     \textcolor{keyword}{const} std::function<\textcolor{keywordtype}{void}(\textcolor{keywordtype}{int} i, \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} entity, T1 \&, T2 \&)> \&func,}
\DoxyCodeLine{2301     \textcolor{keywordtype}{bool} checkEnable)}
\DoxyCodeLine{2302 \{}
\DoxyCodeLine{2303     \textcolor{keyword}{auto} \&entityManager = \mbox{\hyperlink{class_uni_engine_1_1_i_singleton_a3be306028874b8da62357fe83aa7e915}{GetInstance}}();}
\DoxyCodeLine{2304 }
\DoxyCodeLine{2305     \textcolor{keywordflow}{if} (!scene)}
\DoxyCodeLine{2306     \{}
\DoxyCodeLine{2307         \textcolor{keywordflow}{return};}
\DoxyCodeLine{2308     \}}
\DoxyCodeLine{2309     \textcolor{keyword}{auto} \&manager = \mbox{\hyperlink{class_uni_engine_1_1_i_singleton_a3be306028874b8da62357fe83aa7e915}{GetInstance}}();}
\DoxyCodeLine{2310     \textcolor{keyword}{auto} \&storages = scene-\/>m\_sceneDataStorage.m\_dataComponentStorages;}
\DoxyCodeLine{2311     \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} i = storages.begin() + 1; i < storages.end(); ++i)}
\DoxyCodeLine{2312     \{}
\DoxyCodeLine{2313         ForEachStorage(scene, workers, *i, func, checkEnable);}
\DoxyCodeLine{2314     \}}
\DoxyCodeLine{2315 \}}
\DoxyCodeLine{2316 }
\DoxyCodeLine{2317 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T1, \textcolor{keyword}{typename} T2, \textcolor{keyword}{typename} T3>}
\DoxyCodeLine{2318 \textcolor{keywordtype}{void} \mbox{\hyperlink{class_uni_engine_1_1_entity_manager_ad1836a078a3285549466ee595e871ad4}{EntityManager::ForEach}}(}
\DoxyCodeLine{2319     \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene,}
\DoxyCodeLine{2320     \mbox{\hyperlink{class_uni_engine_1_1_thread_pool}{ThreadPool}} \&workers,}
\DoxyCodeLine{2321     \textcolor{keyword}{const} std::function<\textcolor{keywordtype}{void}(\textcolor{keywordtype}{int} i, \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} entity, T1 \&, T2 \&, T3 \&)> \&func,}
\DoxyCodeLine{2322     \textcolor{keywordtype}{bool} checkEnable)}
\DoxyCodeLine{2323 \{}
\DoxyCodeLine{2324     \textcolor{keyword}{auto} \&entityManager = \mbox{\hyperlink{class_uni_engine_1_1_i_singleton_a3be306028874b8da62357fe83aa7e915}{GetInstance}}();}
\DoxyCodeLine{2325 }
\DoxyCodeLine{2326     \textcolor{keywordflow}{if} (!scene)}
\DoxyCodeLine{2327     \{}
\DoxyCodeLine{2328         \textcolor{keywordflow}{return};}
\DoxyCodeLine{2329     \}}
\DoxyCodeLine{2330     \textcolor{keyword}{auto} \&manager = \mbox{\hyperlink{class_uni_engine_1_1_i_singleton_a3be306028874b8da62357fe83aa7e915}{GetInstance}}();}
\DoxyCodeLine{2331     \textcolor{keyword}{auto} \&storages = scene-\/>m\_sceneDataStorage.m\_dataComponentStorages;}
\DoxyCodeLine{2332     \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} i = storages.begin() + 1; i < storages.end(); ++i)}
\DoxyCodeLine{2333     \{}
\DoxyCodeLine{2334         ForEachStorage(scene, workers, *i, func, checkEnable);}
\DoxyCodeLine{2335     \}}
\DoxyCodeLine{2336 \}}
\DoxyCodeLine{2337 }
\DoxyCodeLine{2338 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T1, \textcolor{keyword}{typename} T2, \textcolor{keyword}{typename} T3, \textcolor{keyword}{typename} T4>}
\DoxyCodeLine{2339 \textcolor{keywordtype}{void} \mbox{\hyperlink{class_uni_engine_1_1_entity_manager_ad1836a078a3285549466ee595e871ad4}{EntityManager::ForEach}}(}
\DoxyCodeLine{2340     \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene,}
\DoxyCodeLine{2341     \mbox{\hyperlink{class_uni_engine_1_1_thread_pool}{ThreadPool}} \&workers,}
\DoxyCodeLine{2342     \textcolor{keyword}{const} std::function<\textcolor{keywordtype}{void}(\textcolor{keywordtype}{int} i, \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} entity, T1 \&, T2 \&, T3 \&, T4 \&)> \&func,}
\DoxyCodeLine{2343     \textcolor{keywordtype}{bool} checkEnable)}
\DoxyCodeLine{2344 \{}
\DoxyCodeLine{2345     \textcolor{keyword}{auto} \&entityManager = \mbox{\hyperlink{class_uni_engine_1_1_i_singleton_a3be306028874b8da62357fe83aa7e915}{GetInstance}}();}
\DoxyCodeLine{2346 }
\DoxyCodeLine{2347     \textcolor{keywordflow}{if} (!scene)}
\DoxyCodeLine{2348     \{}
\DoxyCodeLine{2349         \textcolor{keywordflow}{return};}
\DoxyCodeLine{2350     \}}
\DoxyCodeLine{2351     \textcolor{keyword}{auto} \&manager = \mbox{\hyperlink{class_uni_engine_1_1_i_singleton_a3be306028874b8da62357fe83aa7e915}{GetInstance}}();}
\DoxyCodeLine{2352     \textcolor{keyword}{auto} \&storages = scene-\/>m\_sceneDataStorage.m\_dataComponentStorages;}
\DoxyCodeLine{2353     \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} i = storages.begin() + 1; i < storages.end(); ++i)}
\DoxyCodeLine{2354     \{}
\DoxyCodeLine{2355         ForEachStorage(scene, workers, *i, func, checkEnable);}
\DoxyCodeLine{2356     \}}
\DoxyCodeLine{2357 \}}
\DoxyCodeLine{2358 }
\DoxyCodeLine{2359 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T1, \textcolor{keyword}{typename} T2, \textcolor{keyword}{typename} T3, \textcolor{keyword}{typename} T4, \textcolor{keyword}{typename} T5>}
\DoxyCodeLine{2360 \textcolor{keywordtype}{void} \mbox{\hyperlink{class_uni_engine_1_1_entity_manager_ad1836a078a3285549466ee595e871ad4}{EntityManager::ForEach}}(}
\DoxyCodeLine{2361     \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene,}
\DoxyCodeLine{2362     \mbox{\hyperlink{class_uni_engine_1_1_thread_pool}{ThreadPool}} \&workers,}
\DoxyCodeLine{2363     \textcolor{keyword}{const} std::function<\textcolor{keywordtype}{void}(\textcolor{keywordtype}{int} i, \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} entity, T1 \&, T2 \&, T3 \&, T4 \&, T5 \&)> \&func,}
\DoxyCodeLine{2364     \textcolor{keywordtype}{bool} checkEnable)}
\DoxyCodeLine{2365 \{}
\DoxyCodeLine{2366     \textcolor{keyword}{auto} \&entityManager = \mbox{\hyperlink{class_uni_engine_1_1_i_singleton_a3be306028874b8da62357fe83aa7e915}{GetInstance}}();}
\DoxyCodeLine{2367 }
\DoxyCodeLine{2368     \textcolor{keywordflow}{if} (!scene)}
\DoxyCodeLine{2369     \{}
\DoxyCodeLine{2370         \textcolor{keywordflow}{return};}
\DoxyCodeLine{2371     \}}
\DoxyCodeLine{2372     \textcolor{keyword}{auto} \&manager = \mbox{\hyperlink{class_uni_engine_1_1_i_singleton_a3be306028874b8da62357fe83aa7e915}{GetInstance}}();}
\DoxyCodeLine{2373     \textcolor{keyword}{auto} \&storages = scene-\/>m\_sceneDataStorage.m\_dataComponentStorages;}
\DoxyCodeLine{2374     \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} i = storages.begin() + 1; i < storages.end(); ++i)}
\DoxyCodeLine{2375     \{}
\DoxyCodeLine{2376         ForEachStorage(scene, workers, *i, func, checkEnable);}
\DoxyCodeLine{2377     \}}
\DoxyCodeLine{2378 \}}
\DoxyCodeLine{2379 }
\DoxyCodeLine{2380 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T1, \textcolor{keyword}{typename} T2, \textcolor{keyword}{typename} T3, \textcolor{keyword}{typename} T4, \textcolor{keyword}{typename} T5, \textcolor{keyword}{typename} T6>}
\DoxyCodeLine{2381 \textcolor{keywordtype}{void} \mbox{\hyperlink{class_uni_engine_1_1_entity_manager_ad1836a078a3285549466ee595e871ad4}{EntityManager::ForEach}}(}
\DoxyCodeLine{2382     \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene,}
\DoxyCodeLine{2383     \mbox{\hyperlink{class_uni_engine_1_1_thread_pool}{ThreadPool}} \&workers,}
\DoxyCodeLine{2384     \textcolor{keyword}{const} std::function<\textcolor{keywordtype}{void}(\textcolor{keywordtype}{int} i, \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} entity, T1 \&, T2 \&, T3 \&, T4 \&, T5 \&, T6 \&)> \&func,}
\DoxyCodeLine{2385     \textcolor{keywordtype}{bool} checkEnable)}
\DoxyCodeLine{2386 \{}
\DoxyCodeLine{2387     \textcolor{keyword}{auto} \&entityManager = \mbox{\hyperlink{class_uni_engine_1_1_i_singleton_a3be306028874b8da62357fe83aa7e915}{GetInstance}}();}
\DoxyCodeLine{2388 }
\DoxyCodeLine{2389     \textcolor{keywordflow}{if} (!scene)}
\DoxyCodeLine{2390     \{}
\DoxyCodeLine{2391         \textcolor{keywordflow}{return};}
\DoxyCodeLine{2392     \}}
\DoxyCodeLine{2393     \textcolor{keyword}{auto} \&manager = \mbox{\hyperlink{class_uni_engine_1_1_i_singleton_a3be306028874b8da62357fe83aa7e915}{GetInstance}}();}
\DoxyCodeLine{2394     \textcolor{keyword}{auto} \&storages = scene-\/>m\_sceneDataStorage.m\_dataComponentStorages;}
\DoxyCodeLine{2395     \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} i = storages.begin() + 1; i < storages.end(); ++i)}
\DoxyCodeLine{2396     \{}
\DoxyCodeLine{2397         ForEachStorage(scene, workers, *i, func, checkEnable);}
\DoxyCodeLine{2398     \}}
\DoxyCodeLine{2399 \}}
\DoxyCodeLine{2400 }
\DoxyCodeLine{2401 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T1, \textcolor{keyword}{typename} T2, \textcolor{keyword}{typename} T3, \textcolor{keyword}{typename} T4, \textcolor{keyword}{typename} T5, \textcolor{keyword}{typename} T6, \textcolor{keyword}{typename} T7>}
\DoxyCodeLine{2402 \textcolor{keywordtype}{void} \mbox{\hyperlink{class_uni_engine_1_1_entity_manager_ad1836a078a3285549466ee595e871ad4}{EntityManager::ForEach}}(}
\DoxyCodeLine{2403     \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene,}
\DoxyCodeLine{2404     \mbox{\hyperlink{class_uni_engine_1_1_thread_pool}{ThreadPool}} \&workers,}
\DoxyCodeLine{2405     \textcolor{keyword}{const} std::function<\textcolor{keywordtype}{void}(\textcolor{keywordtype}{int} i, \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} entity, T1 \&, T2 \&, T3 \&, T4 \&, T5 \&, T6 \&, T7 \&)> \&func,}
\DoxyCodeLine{2406     \textcolor{keywordtype}{bool} checkEnable)}
\DoxyCodeLine{2407 \{}
\DoxyCodeLine{2408     \textcolor{keyword}{auto} \&entityManager = \mbox{\hyperlink{class_uni_engine_1_1_i_singleton_a3be306028874b8da62357fe83aa7e915}{GetInstance}}();}
\DoxyCodeLine{2409 }
\DoxyCodeLine{2410     \textcolor{keywordflow}{if} (!scene)}
\DoxyCodeLine{2411     \{}
\DoxyCodeLine{2412         \textcolor{keywordflow}{return};}
\DoxyCodeLine{2413     \}}
\DoxyCodeLine{2414     \textcolor{keyword}{auto} \&manager = \mbox{\hyperlink{class_uni_engine_1_1_i_singleton_a3be306028874b8da62357fe83aa7e915}{GetInstance}}();}
\DoxyCodeLine{2415     \textcolor{keyword}{auto} \&storages = scene-\/>m\_sceneDataStorage.m\_dataComponentStorages;}
\DoxyCodeLine{2416     \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} i = storages.begin() + 1; i < storages.end(); ++i)}
\DoxyCodeLine{2417     \{}
\DoxyCodeLine{2418         ForEachStorage(scene, workers, *i, func, checkEnable);}
\DoxyCodeLine{2419     \}}
\DoxyCodeLine{2420 \}}
\DoxyCodeLine{2421 }
\DoxyCodeLine{2422 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T1, \textcolor{keyword}{typename} T2, \textcolor{keyword}{typename} T3, \textcolor{keyword}{typename} T4, \textcolor{keyword}{typename} T5, \textcolor{keyword}{typename} T6, \textcolor{keyword}{typename} T7, \textcolor{keyword}{typename} T8>}
\DoxyCodeLine{2423 \textcolor{keywordtype}{void} \mbox{\hyperlink{class_uni_engine_1_1_entity_manager_ad1836a078a3285549466ee595e871ad4}{EntityManager::ForEach}}(}
\DoxyCodeLine{2424     \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene,}
\DoxyCodeLine{2425     \mbox{\hyperlink{class_uni_engine_1_1_thread_pool}{ThreadPool}} \&workers,}
\DoxyCodeLine{2426     \textcolor{keyword}{const} std::function<\textcolor{keywordtype}{void}(\textcolor{keywordtype}{int} i, \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} entity, T1 \&, T2 \&, T3 \&, T4 \&, T5 \&, T6 \&, T7 \&, T8 \&)> \&func,}
\DoxyCodeLine{2427     \textcolor{keywordtype}{bool} checkEnable)}
\DoxyCodeLine{2428 \{}
\DoxyCodeLine{2429     \textcolor{keyword}{auto} \&entityManager = \mbox{\hyperlink{class_uni_engine_1_1_i_singleton_a3be306028874b8da62357fe83aa7e915}{GetInstance}}();}
\DoxyCodeLine{2430 }
\DoxyCodeLine{2431     \textcolor{keywordflow}{if} (!scene)}
\DoxyCodeLine{2432     \{}
\DoxyCodeLine{2433         \textcolor{keywordflow}{return};}
\DoxyCodeLine{2434     \}}
\DoxyCodeLine{2435     \textcolor{keyword}{auto} \&manager = \mbox{\hyperlink{class_uni_engine_1_1_i_singleton_a3be306028874b8da62357fe83aa7e915}{GetInstance}}();}
\DoxyCodeLine{2436     \textcolor{keyword}{auto} \&storages = scene-\/>m\_sceneDataStorage.m\_dataComponentStorages;}
\DoxyCodeLine{2437     \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} i = storages.begin() + 1; i < storages.end(); ++i)}
\DoxyCodeLine{2438     \{}
\DoxyCodeLine{2439         ForEachStorage(scene, workers, *i, func, checkEnable);}
\DoxyCodeLine{2440     \}}
\DoxyCodeLine{2441 \}}
\DoxyCodeLine{2442 }
\DoxyCodeLine{2443 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T1>}
\DoxyCodeLine{2444 std::packaged\_task<void(\mbox{\hyperlink{class_uni_engine_1_1_thread_pool}{ThreadPool}} \&, \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity_query}{EntityQuery}} \&, \textcolor{keywordtype}{bool})> \mbox{\hyperlink{class_uni_engine_1_1_entity_manager_a62faacffb57bea5469c18268526f9b36}{EntityManager::CreateParallelTask}}(}
\DoxyCodeLine{2445     \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene, \textcolor{keyword}{const} std::function<\textcolor{keywordtype}{void}(\textcolor{keywordtype}{int} i, \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} entity, T1 \&)> \&func)}
\DoxyCodeLine{2446 \{}
\DoxyCodeLine{2447     std::packaged\_task<void(\mbox{\hyperlink{class_uni_engine_1_1_thread_pool}{ThreadPool}} \&, \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity_query}{EntityQuery}} \&, \textcolor{keywordtype}{bool})> task(}
\DoxyCodeLine{2448         [\&](\mbox{\hyperlink{class_uni_engine_1_1_thread_pool}{ThreadPool}} \&workers, \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity_query}{EntityQuery}} \&entityQuery, \textcolor{keywordtype}{bool} checkEnable) \{}
\DoxyCodeLine{2449             assert(entityQuery.\mbox{\hyperlink{struct_uni_engine_1_1_entity_query_ae4869830693acd358bdd8520952b89ba}{IsValid}}());}
\DoxyCodeLine{2450             \textcolor{keyword}{auto} queriedStorages = QueryDataComponentStorages(scene, entityQuery);}
\DoxyCodeLine{2451             \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto} i : queriedStorages)}
\DoxyCodeLine{2452             \{}
\DoxyCodeLine{2453                 ForEachStorage(scene, workers, i.get(), func, checkEnable);}
\DoxyCodeLine{2454             \}}
\DoxyCodeLine{2455         \});}
\DoxyCodeLine{2456     \textcolor{keywordflow}{return} task;}
\DoxyCodeLine{2457 \}}
\DoxyCodeLine{2458 }
\DoxyCodeLine{2459 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T1, \textcolor{keyword}{typename} T2>}
\DoxyCodeLine{2460 std::packaged\_task<void(\mbox{\hyperlink{class_uni_engine_1_1_thread_pool}{ThreadPool}} \&, \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity_query}{EntityQuery}} \&, \textcolor{keywordtype}{bool})> \mbox{\hyperlink{class_uni_engine_1_1_entity_manager_a62faacffb57bea5469c18268526f9b36}{EntityManager::CreateParallelTask}}(}
\DoxyCodeLine{2461     \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene, \textcolor{keyword}{const} std::function<\textcolor{keywordtype}{void}(\textcolor{keywordtype}{int} i, \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} entity, T1 \&, T2 \&)> \&func)}
\DoxyCodeLine{2462 \{}
\DoxyCodeLine{2463     std::packaged\_task<void(\mbox{\hyperlink{class_uni_engine_1_1_thread_pool}{ThreadPool}} \&, \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity_query}{EntityQuery}} \&, \textcolor{keywordtype}{bool})> task(}
\DoxyCodeLine{2464         [\&](\mbox{\hyperlink{class_uni_engine_1_1_thread_pool}{ThreadPool}} \&workers, \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity_query}{EntityQuery}} \&entityQuery, \textcolor{keywordtype}{bool} checkEnable) \{}
\DoxyCodeLine{2465             assert(entityQuery.\mbox{\hyperlink{struct_uni_engine_1_1_entity_query_ae4869830693acd358bdd8520952b89ba}{IsValid}}());}
\DoxyCodeLine{2466             \textcolor{keyword}{auto} queriedStorages = QueryDataComponentStorages(scene, entityQuery);}
\DoxyCodeLine{2467             \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto} i : queriedStorages)}
\DoxyCodeLine{2468             \{}
\DoxyCodeLine{2469                 ForEachStorage(scene, workers, i.get(), func, checkEnable);}
\DoxyCodeLine{2470             \}}
\DoxyCodeLine{2471         \});}
\DoxyCodeLine{2472     \textcolor{keywordflow}{return} task;}
\DoxyCodeLine{2473 \}}
\DoxyCodeLine{2474 }
\DoxyCodeLine{2475 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T1, \textcolor{keyword}{typename} T2, \textcolor{keyword}{typename} T3>}
\DoxyCodeLine{2476 std::packaged\_task<void(\mbox{\hyperlink{class_uni_engine_1_1_thread_pool}{ThreadPool}} \&, \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity_query}{EntityQuery}} \&, \textcolor{keywordtype}{bool})> \mbox{\hyperlink{class_uni_engine_1_1_entity_manager_a62faacffb57bea5469c18268526f9b36}{EntityManager::CreateParallelTask}}(}
\DoxyCodeLine{2477     \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene, \textcolor{keyword}{const} std::function<\textcolor{keywordtype}{void}(\textcolor{keywordtype}{int} i, \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} entity, T1 \&, T2 \&, T3 \&)> \&func)}
\DoxyCodeLine{2478 \{}
\DoxyCodeLine{2479     std::packaged\_task<void(\mbox{\hyperlink{class_uni_engine_1_1_thread_pool}{ThreadPool}} \&, \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity_query}{EntityQuery}} \&, \textcolor{keywordtype}{bool})> task(}
\DoxyCodeLine{2480         [\&](\mbox{\hyperlink{class_uni_engine_1_1_thread_pool}{ThreadPool}} \&workers, \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity_query}{EntityQuery}} \&entityQuery, \textcolor{keywordtype}{bool} checkEnable) \{}
\DoxyCodeLine{2481             assert(entityQuery.\mbox{\hyperlink{struct_uni_engine_1_1_entity_query_ae4869830693acd358bdd8520952b89ba}{IsValid}}());}
\DoxyCodeLine{2482             \textcolor{keyword}{auto} queriedStorages = QueryDataComponentStorages(scene, entityQuery);}
\DoxyCodeLine{2483             \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto} i : queriedStorages)}
\DoxyCodeLine{2484             \{}
\DoxyCodeLine{2485                 ForEachStorage(scene, workers, i.get(), func, checkEnable);}
\DoxyCodeLine{2486             \}}
\DoxyCodeLine{2487         \});}
\DoxyCodeLine{2488     \textcolor{keywordflow}{return} task;}
\DoxyCodeLine{2489 \}}
\DoxyCodeLine{2490 }
\DoxyCodeLine{2491 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T1, \textcolor{keyword}{typename} T2, \textcolor{keyword}{typename} T3, \textcolor{keyword}{typename} T4>}
\DoxyCodeLine{2492 std::packaged\_task<void(\mbox{\hyperlink{class_uni_engine_1_1_thread_pool}{ThreadPool}} \&, \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity_query}{EntityQuery}} \&, \textcolor{keywordtype}{bool})> \mbox{\hyperlink{class_uni_engine_1_1_entity_manager_a62faacffb57bea5469c18268526f9b36}{EntityManager::CreateParallelTask}}(}
\DoxyCodeLine{2493     \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene, \textcolor{keyword}{const} std::function<\textcolor{keywordtype}{void}(\textcolor{keywordtype}{int} i, \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} entity, T1 \&, T2 \&, T3 \&, T4 \&)> \&func)}
\DoxyCodeLine{2494 \{}
\DoxyCodeLine{2495     std::packaged\_task<void(\mbox{\hyperlink{class_uni_engine_1_1_thread_pool}{ThreadPool}} \&, \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity_query}{EntityQuery}} \&, \textcolor{keywordtype}{bool})> task(}
\DoxyCodeLine{2496         [\&](\mbox{\hyperlink{class_uni_engine_1_1_thread_pool}{ThreadPool}} \&workers, \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity_query}{EntityQuery}} \&entityQuery, \textcolor{keywordtype}{bool} checkEnable) \{}
\DoxyCodeLine{2497             assert(entityQuery.\mbox{\hyperlink{struct_uni_engine_1_1_entity_query_ae4869830693acd358bdd8520952b89ba}{IsValid}}());}
\DoxyCodeLine{2498             \textcolor{keyword}{auto} queriedStorages = QueryDataComponentStorages(scene, entityQuery);}
\DoxyCodeLine{2499             \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto} i : queriedStorages)}
\DoxyCodeLine{2500             \{}
\DoxyCodeLine{2501                 ForEachStorage(scene, workers, i.get(), func, checkEnable);}
\DoxyCodeLine{2502             \}}
\DoxyCodeLine{2503         \});}
\DoxyCodeLine{2504     \textcolor{keywordflow}{return} task;}
\DoxyCodeLine{2505 \}}
\DoxyCodeLine{2506 }
\DoxyCodeLine{2507 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T1, \textcolor{keyword}{typename} T2, \textcolor{keyword}{typename} T3, \textcolor{keyword}{typename} T4, \textcolor{keyword}{typename} T5>}
\DoxyCodeLine{2508 std::packaged\_task<void(\mbox{\hyperlink{class_uni_engine_1_1_thread_pool}{ThreadPool}} \&, \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity_query}{EntityQuery}} \&, \textcolor{keywordtype}{bool})> \mbox{\hyperlink{class_uni_engine_1_1_entity_manager_a62faacffb57bea5469c18268526f9b36}{EntityManager::CreateParallelTask}}(}
\DoxyCodeLine{2509     \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene,}
\DoxyCodeLine{2510     \textcolor{keyword}{const} std::function<\textcolor{keywordtype}{void}(\textcolor{keywordtype}{int} i, \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} entity, T1 \&, T2 \&, T3 \&, T4 \&, T5 \&)> \&func)}
\DoxyCodeLine{2511 \{}
\DoxyCodeLine{2512     std::packaged\_task<void(\mbox{\hyperlink{class_uni_engine_1_1_thread_pool}{ThreadPool}} \&, \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity_query}{EntityQuery}} \&, \textcolor{keywordtype}{bool})> task(}
\DoxyCodeLine{2513         [\&](\mbox{\hyperlink{class_uni_engine_1_1_thread_pool}{ThreadPool}} \&workers, \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity_query}{EntityQuery}} \&entityQuery, \textcolor{keywordtype}{bool} checkEnable) \{}
\DoxyCodeLine{2514             assert(entityQuery.\mbox{\hyperlink{struct_uni_engine_1_1_entity_query_ae4869830693acd358bdd8520952b89ba}{IsValid}}());}
\DoxyCodeLine{2515             \textcolor{keyword}{auto} queriedStorages = QueryDataComponentStorages(scene, entityQuery);}
\DoxyCodeLine{2516             \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto} i : queriedStorages)}
\DoxyCodeLine{2517             \{}
\DoxyCodeLine{2518                 ForEachStorage(scene, workers, i.get(), func, checkEnable);}
\DoxyCodeLine{2519             \}}
\DoxyCodeLine{2520         \});}
\DoxyCodeLine{2521     \textcolor{keywordflow}{return} task;}
\DoxyCodeLine{2522 \}}
\DoxyCodeLine{2523 }
\DoxyCodeLine{2524 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T1, \textcolor{keyword}{typename} T2, \textcolor{keyword}{typename} T3, \textcolor{keyword}{typename} T4, \textcolor{keyword}{typename} T5, \textcolor{keyword}{typename} T6>}
\DoxyCodeLine{2525 std::packaged\_task<void(\mbox{\hyperlink{class_uni_engine_1_1_thread_pool}{ThreadPool}} \&, \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity_query}{EntityQuery}} \&, \textcolor{keywordtype}{bool})> \mbox{\hyperlink{class_uni_engine_1_1_entity_manager_a62faacffb57bea5469c18268526f9b36}{EntityManager::CreateParallelTask}}(}
\DoxyCodeLine{2526     \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene,}
\DoxyCodeLine{2527     \textcolor{keyword}{const} std::function<\textcolor{keywordtype}{void}(\textcolor{keywordtype}{int} i, \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} entity, T1 \&, T2 \&, T3 \&, T4 \&, T5 \&, T6 \&)> \&func)}
\DoxyCodeLine{2528 \{}
\DoxyCodeLine{2529     std::packaged\_task<void(\mbox{\hyperlink{class_uni_engine_1_1_thread_pool}{ThreadPool}} \&, \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity_query}{EntityQuery}} \&, \textcolor{keywordtype}{bool})> task(}
\DoxyCodeLine{2530         [\&](\mbox{\hyperlink{class_uni_engine_1_1_thread_pool}{ThreadPool}} \&workers, \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity_query}{EntityQuery}} \&entityQuery, \textcolor{keywordtype}{bool} checkEnable) \{}
\DoxyCodeLine{2531             assert(entityQuery.\mbox{\hyperlink{struct_uni_engine_1_1_entity_query_ae4869830693acd358bdd8520952b89ba}{IsValid}}());}
\DoxyCodeLine{2532             \textcolor{keyword}{auto} queriedStorages = QueryDataComponentStorages(scene, entityQuery);}
\DoxyCodeLine{2533             \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto} i : queriedStorages)}
\DoxyCodeLine{2534             \{}
\DoxyCodeLine{2535                 ForEachStorage(scene, workers, i.get(), func, checkEnable);}
\DoxyCodeLine{2536             \}}
\DoxyCodeLine{2537         \});}
\DoxyCodeLine{2538     \textcolor{keywordflow}{return} task;}
\DoxyCodeLine{2539 \}}
\DoxyCodeLine{2540 }
\DoxyCodeLine{2541 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T1, \textcolor{keyword}{typename} T2, \textcolor{keyword}{typename} T3, \textcolor{keyword}{typename} T4, \textcolor{keyword}{typename} T5, \textcolor{keyword}{typename} T6, \textcolor{keyword}{typename} T7>}
\DoxyCodeLine{2542 std::packaged\_task<void(\mbox{\hyperlink{class_uni_engine_1_1_thread_pool}{ThreadPool}} \&, \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity_query}{EntityQuery}} \&, \textcolor{keywordtype}{bool})> \mbox{\hyperlink{class_uni_engine_1_1_entity_manager_a62faacffb57bea5469c18268526f9b36}{EntityManager::CreateParallelTask}}(}
\DoxyCodeLine{2543     \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene,}
\DoxyCodeLine{2544     \textcolor{keyword}{const} std::function<\textcolor{keywordtype}{void}(\textcolor{keywordtype}{int} i, \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} entity, T1 \&, T2 \&, T3 \&, T4 \&, T5 \&, T6 \&, T7 \&)> \&func)}
\DoxyCodeLine{2545 \{}
\DoxyCodeLine{2546     std::packaged\_task<void(\mbox{\hyperlink{class_uni_engine_1_1_thread_pool}{ThreadPool}} \&, \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity_query}{EntityQuery}} \&, \textcolor{keywordtype}{bool})> task(}
\DoxyCodeLine{2547         [\&](\mbox{\hyperlink{class_uni_engine_1_1_thread_pool}{ThreadPool}} \&workers, \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity_query}{EntityQuery}} \&entityQuery, \textcolor{keywordtype}{bool} checkEnable) \{}
\DoxyCodeLine{2548             assert(entityQuery.\mbox{\hyperlink{struct_uni_engine_1_1_entity_query_ae4869830693acd358bdd8520952b89ba}{IsValid}}());}
\DoxyCodeLine{2549             \textcolor{keyword}{auto} queriedStorages = QueryDataComponentStorages(scene, entityQuery);}
\DoxyCodeLine{2550             \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto} i : queriedStorages)}
\DoxyCodeLine{2551             \{}
\DoxyCodeLine{2552                 ForEachStorage(scene, workers, i.get(), func, checkEnable);}
\DoxyCodeLine{2553             \}}
\DoxyCodeLine{2554         \});}
\DoxyCodeLine{2555     \textcolor{keywordflow}{return} task;}
\DoxyCodeLine{2556 \}}
\DoxyCodeLine{2557 }
\DoxyCodeLine{2558 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T1, \textcolor{keyword}{typename} T2, \textcolor{keyword}{typename} T3, \textcolor{keyword}{typename} T4, \textcolor{keyword}{typename} T5, \textcolor{keyword}{typename} T6, \textcolor{keyword}{typename} T7, \textcolor{keyword}{typename} T8>}
\DoxyCodeLine{2559 std::packaged\_task<void(\mbox{\hyperlink{class_uni_engine_1_1_thread_pool}{ThreadPool}} \&, \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity_query}{EntityQuery}} \&, \textcolor{keywordtype}{bool})> \mbox{\hyperlink{class_uni_engine_1_1_entity_manager_a62faacffb57bea5469c18268526f9b36}{EntityManager::CreateParallelTask}}(}
\DoxyCodeLine{2560     \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene,}
\DoxyCodeLine{2561     \textcolor{keyword}{const} std::function<\textcolor{keywordtype}{void}(\textcolor{keywordtype}{int} i, \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} entity, T1 \&, T2 \&, T3 \&, T4 \&, T5 \&, T6 \&, T7 \&, T8 \&)> \&func)}
\DoxyCodeLine{2562 \{}
\DoxyCodeLine{2563     std::packaged\_task<void(\mbox{\hyperlink{class_uni_engine_1_1_thread_pool}{ThreadPool}} \&, \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity_query}{EntityQuery}} \&, \textcolor{keywordtype}{bool})> task(}
\DoxyCodeLine{2564         [\&](\mbox{\hyperlink{class_uni_engine_1_1_thread_pool}{ThreadPool}} \&workers, \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity_query}{EntityQuery}} \&entityQuery, \textcolor{keywordtype}{bool} checkEnable) \{}
\DoxyCodeLine{2565             assert(entityQuery.\mbox{\hyperlink{struct_uni_engine_1_1_entity_query_ae4869830693acd358bdd8520952b89ba}{IsValid}}());}
\DoxyCodeLine{2566             \textcolor{keyword}{auto} queriedStorages = QueryDataComponentStorages(scene, entityQuery);}
\DoxyCodeLine{2567             \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto} i : queriedStorages)}
\DoxyCodeLine{2568             \{}
\DoxyCodeLine{2569                 ForEachStorage(scene, workers, i.get(), func, checkEnable);}
\DoxyCodeLine{2570             \}}
\DoxyCodeLine{2571         \});}
\DoxyCodeLine{2572     \textcolor{keywordflow}{return} task;}
\DoxyCodeLine{2573 \}}
\DoxyCodeLine{2574 \textcolor{preprocessor}{\#pragma endregion}}
\DoxyCodeLine{2575 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{2576 \textcolor{keywordtype}{void} EntityManager::GetComponentDataArray(}
\DoxyCodeLine{2577     \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene, \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity_query}{EntityQuery}} \&entityQuery, std::vector<T> \&container, \textcolor{keywordtype}{bool} checkEnable)}
\DoxyCodeLine{2578 \{}
\DoxyCodeLine{2579     assert(entityQuery.\mbox{\hyperlink{struct_uni_engine_1_1_entity_query_ae4869830693acd358bdd8520952b89ba}{IsValid}}());}
\DoxyCodeLine{2580     \textcolor{keyword}{auto} queriedStorages = QueryDataComponentStorages(scene, entityQuery);}
\DoxyCodeLine{2581     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto} i : queriedStorages)}
\DoxyCodeLine{2582     \{}
\DoxyCodeLine{2583         GetDataComponentArrayStorage(scene, i.get(), container, checkEnable);}
\DoxyCodeLine{2584     \}}
\DoxyCodeLine{2585 \}}
\DoxyCodeLine{2586 }
\DoxyCodeLine{2587 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T1, \textcolor{keyword}{typename} T2>}
\DoxyCodeLine{2588 \textcolor{keywordtype}{void} EntityManager::GetComponentDataArray(}
\DoxyCodeLine{2589     \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene,}
\DoxyCodeLine{2590     \textcolor{keyword}{const} EntityQuery \&entityQuery,}
\DoxyCodeLine{2591     std::vector<T1> \&container,}
\DoxyCodeLine{2592     \textcolor{keyword}{const} std::function<\textcolor{keywordtype}{bool}(\textcolor{keyword}{const} T2 \&)> \&filterFunc,}
\DoxyCodeLine{2593     \textcolor{keywordtype}{bool} checkEnable)}
\DoxyCodeLine{2594 \{}
\DoxyCodeLine{2595     assert(entityQuery.IsValid());}
\DoxyCodeLine{2596     std::vector<T2> componentDataList;}
\DoxyCodeLine{2597     std::vector<T1> targetDataList;}
\DoxyCodeLine{2598     GetComponentDataArray(entityQuery, componentDataList, checkEnable);}
\DoxyCodeLine{2599     GetComponentDataArray(entityQuery, targetDataList, checkEnable);}
\DoxyCodeLine{2600     \textcolor{keywordflow}{if} (targetDataList.size() != componentDataList.size())}
\DoxyCodeLine{2601         \textcolor{keywordflow}{return};}
\DoxyCodeLine{2602     std::vector<std::shared\_future<void>> futures;}
\DoxyCodeLine{2603     \textcolor{keywordtype}{size\_t} size = componentDataList.size();}
\DoxyCodeLine{2604     std::vector<std::vector<T1>> collectedDataLists;}
\DoxyCodeLine{2605     \textcolor{keyword}{const} \textcolor{keyword}{auto} threadSize = \mbox{\hyperlink{class_uni_engine_1_1_job_manager_aefac109eb33c353bd75eee0183ce6b58}{JobManager::PrimaryWorkers}}().\mbox{\hyperlink{class_uni_engine_1_1_thread_pool_a9a0eda36af0e6fea899b761810863142}{Size}}();}
\DoxyCodeLine{2606     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < threadSize; i++)}
\DoxyCodeLine{2607     \{}
\DoxyCodeLine{2608         collectedDataLists.push\_back(std::vector<T1>());}
\DoxyCodeLine{2609     \}}
\DoxyCodeLine{2610     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < collectedDataLists.size(); i++)}
\DoxyCodeLine{2611     \{}
\DoxyCodeLine{2612         std::vector<T1> *collectedDataList = \&collectedDataLists[i];}
\DoxyCodeLine{2613         futures.push\_back(}
\DoxyCodeLine{2614             \mbox{\hyperlink{class_uni_engine_1_1_job_manager_aefac109eb33c353bd75eee0183ce6b58}{JobManager::PrimaryWorkers}}()}
\DoxyCodeLine{2615                 .Push(}
\DoxyCodeLine{2616                     [\&targetDataList, \&componentDataList, size, collectedDataList, i, filterFunc, threadSize](\textcolor{keywordtype}{int} \textcolor{keywordtype}{id}) \{}
\DoxyCodeLine{2617                         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j = 0; j < size / threadSize; j++)}
\DoxyCodeLine{2618                         \{}
\DoxyCodeLine{2619                             \textcolor{keywordflow}{if} (filterFunc(componentDataList[j * threadSize + i]))}
\DoxyCodeLine{2620                             \{}
\DoxyCodeLine{2621                                 collectedDataList-\/>push\_back(targetDataList[j * threadSize + i]);}
\DoxyCodeLine{2622                             \}}
\DoxyCodeLine{2623                         \}}
\DoxyCodeLine{2624                     \})}
\DoxyCodeLine{2625                 .share());}
\DoxyCodeLine{2626     \}}
\DoxyCodeLine{2627     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto} \&i : futures)}
\DoxyCodeLine{2628         i.wait();}
\DoxyCodeLine{2629     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < collectedDataLists.size(); i++)}
\DoxyCodeLine{2630     \{}
\DoxyCodeLine{2631         \textcolor{keyword}{auto} listSize = collectedDataLists[i].size();}
\DoxyCodeLine{2632         \textcolor{keywordflow}{if} (listSize == 0)}
\DoxyCodeLine{2633             \textcolor{keywordflow}{continue};}
\DoxyCodeLine{2634         container.resize(container.size() + listSize);}
\DoxyCodeLine{2635         memcpy(\&container.at(container.size() -\/ listSize), collectedDataLists[i].data(), listSize * \textcolor{keyword}{sizeof}(T1));}
\DoxyCodeLine{2636     \}}
\DoxyCodeLine{2637 }
\DoxyCodeLine{2638     \textcolor{keyword}{const} \textcolor{keywordtype}{size\_t} remainder = size \% threadSize;}
\DoxyCodeLine{2639     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < remainder; i++)}
\DoxyCodeLine{2640     \{}
\DoxyCodeLine{2641         \textcolor{keywordflow}{if} (filterFunc(componentDataList[size -\/ remainder + i]))}
\DoxyCodeLine{2642         \{}
\DoxyCodeLine{2643             container.push\_back(targetDataList[size -\/ remainder + i]);}
\DoxyCodeLine{2644         \}}
\DoxyCodeLine{2645     \}}
\DoxyCodeLine{2646 \}}
\DoxyCodeLine{2647 }
\DoxyCodeLine{2648 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T1, \textcolor{keyword}{typename} T2, \textcolor{keyword}{typename} T3>}
\DoxyCodeLine{2649 \textcolor{keywordtype}{void} EntityManager::GetComponentDataArray(}
\DoxyCodeLine{2650     \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene,}
\DoxyCodeLine{2651     \textcolor{keyword}{const} EntityQuery \&entityQuery,}
\DoxyCodeLine{2652     std::vector<T1> \&container,}
\DoxyCodeLine{2653     \textcolor{keyword}{const} std::function<\textcolor{keywordtype}{bool}(\textcolor{keyword}{const} T2 \&, \textcolor{keyword}{const} T3 \&)> \&filterFunc,}
\DoxyCodeLine{2654     \textcolor{keywordtype}{bool} checkEnable)}
\DoxyCodeLine{2655 \{}
\DoxyCodeLine{2656     assert(entityQuery.IsValid());}
\DoxyCodeLine{2657     std::vector<T3> componentDataList2;}
\DoxyCodeLine{2658     std::vector<T2> componentDataList1;}
\DoxyCodeLine{2659     std::vector<T1> targetDataList;}
\DoxyCodeLine{2660     GetComponentDataArray(entityQuery, componentDataList2, checkEnable);}
\DoxyCodeLine{2661     GetComponentDataArray(entityQuery, componentDataList1, checkEnable);}
\DoxyCodeLine{2662     GetComponentDataArray(entityQuery, targetDataList, checkEnable);}
\DoxyCodeLine{2663     \textcolor{keywordflow}{if} (targetDataList.size() != componentDataList1.size() || componentDataList1.size() != componentDataList2.size())}
\DoxyCodeLine{2664         \textcolor{keywordflow}{return};}
\DoxyCodeLine{2665     std::vector<std::shared\_future<void>> futures;}
\DoxyCodeLine{2666     \textcolor{keywordtype}{size\_t} size = componentDataList1.size();}
\DoxyCodeLine{2667     std::vector<std::vector<T1>> collectedDataLists;}
\DoxyCodeLine{2668     \textcolor{keyword}{const} \textcolor{keyword}{auto} threadSize = \mbox{\hyperlink{class_uni_engine_1_1_job_manager_aefac109eb33c353bd75eee0183ce6b58}{JobManager::PrimaryWorkers}}().\mbox{\hyperlink{class_uni_engine_1_1_thread_pool_a9a0eda36af0e6fea899b761810863142}{Size}}();}
\DoxyCodeLine{2669     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < threadSize; i++)}
\DoxyCodeLine{2670     \{}
\DoxyCodeLine{2671         collectedDataLists.push\_back(std::vector<T1>());}
\DoxyCodeLine{2672     \}}
\DoxyCodeLine{2673     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < collectedDataLists.size(); i++)}
\DoxyCodeLine{2674     \{}
\DoxyCodeLine{2675         std::vector<T1> *collectedDataList = \&collectedDataLists[i];}
\DoxyCodeLine{2676         futures.push\_back(}
\DoxyCodeLine{2677             \mbox{\hyperlink{class_uni_engine_1_1_job_manager_aefac109eb33c353bd75eee0183ce6b58}{JobManager::PrimaryWorkers}}()}
\DoxyCodeLine{2678                 .Push([\&targetDataList,}
\DoxyCodeLine{2679                        \&componentDataList1,}
\DoxyCodeLine{2680                        \&componentDataList2,}
\DoxyCodeLine{2681                        size,}
\DoxyCodeLine{2682                        collectedDataList,}
\DoxyCodeLine{2683                        i,}
\DoxyCodeLine{2684                        filterFunc,}
\DoxyCodeLine{2685                        threadSize](\textcolor{keywordtype}{int} \textcolor{keywordtype}{id}) \{}
\DoxyCodeLine{2686                     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j = 0; j < size / threadSize; j++)}
\DoxyCodeLine{2687                     \{}
\DoxyCodeLine{2688                         \textcolor{keywordflow}{if} (filterFunc(componentDataList1[j * threadSize + i], componentDataList2[j * threadSize + i]))}
\DoxyCodeLine{2689                         \{}
\DoxyCodeLine{2690                             collectedDataList-\/>push\_back(targetDataList[j * threadSize + i]);}
\DoxyCodeLine{2691                         \}}
\DoxyCodeLine{2692                     \}}
\DoxyCodeLine{2693                 \})}
\DoxyCodeLine{2694                 .share());}
\DoxyCodeLine{2695     \}}
\DoxyCodeLine{2696     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto} \&i : futures)}
\DoxyCodeLine{2697         i.wait();}
\DoxyCodeLine{2698     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < collectedDataLists.size(); i++)}
\DoxyCodeLine{2699     \{}
\DoxyCodeLine{2700         \textcolor{keyword}{auto} listSize = collectedDataLists[i].size();}
\DoxyCodeLine{2701         \textcolor{keywordflow}{if} (listSize == 0)}
\DoxyCodeLine{2702             \textcolor{keywordflow}{continue};}
\DoxyCodeLine{2703         container.resize(container.size() + listSize);}
\DoxyCodeLine{2704         memcpy(\&container.at(container.size() -\/ listSize), collectedDataLists[i].data(), listSize * \textcolor{keyword}{sizeof}(T1));}
\DoxyCodeLine{2705     \}}
\DoxyCodeLine{2706 }
\DoxyCodeLine{2707     \textcolor{keyword}{const} \textcolor{keywordtype}{size\_t} remainder = size \% threadSize;}
\DoxyCodeLine{2708     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < remainder; i++)}
\DoxyCodeLine{2709     \{}
\DoxyCodeLine{2710         \textcolor{keywordflow}{if} (filterFunc(componentDataList1[size -\/ remainder + i], componentDataList2[size -\/ remainder + i]))}
\DoxyCodeLine{2711         \{}
\DoxyCodeLine{2712             container.push\_back(targetDataList[size -\/ remainder + i]);}
\DoxyCodeLine{2713         \}}
\DoxyCodeLine{2714     \}}
\DoxyCodeLine{2715 \}}
\DoxyCodeLine{2716 }
\DoxyCodeLine{2717 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T1, \textcolor{keyword}{typename} T2>}
\DoxyCodeLine{2718 \textcolor{keywordtype}{void} EntityManager::GetComponentDataArray(}
\DoxyCodeLine{2719     \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene,}
\DoxyCodeLine{2720     \textcolor{keyword}{const} EntityQuery \&entityQuery,}
\DoxyCodeLine{2721     \textcolor{keyword}{const} T1 \&filter,}
\DoxyCodeLine{2722     std::vector<T2> \&container,}
\DoxyCodeLine{2723     \textcolor{keywordtype}{bool} checkEnable)}
\DoxyCodeLine{2724 \{}
\DoxyCodeLine{2725     assert(entityQuery.IsValid());}
\DoxyCodeLine{2726     std::vector<T1> componentDataList;}
\DoxyCodeLine{2727     std::vector<T2> targetDataList;}
\DoxyCodeLine{2728     GetComponentDataArray(entityQuery, componentDataList, checkEnable);}
\DoxyCodeLine{2729     GetComponentDataArray(entityQuery, targetDataList, checkEnable);}
\DoxyCodeLine{2730     \textcolor{keywordflow}{if} (targetDataList.size() != componentDataList.size())}
\DoxyCodeLine{2731         \textcolor{keywordflow}{return};}
\DoxyCodeLine{2732     std::vector<std::shared\_future<void>> futures;}
\DoxyCodeLine{2733     \textcolor{keywordtype}{size\_t} size = componentDataList.size();}
\DoxyCodeLine{2734     std::vector<std::vector<T2>> collectedDataLists;}
\DoxyCodeLine{2735     \textcolor{keyword}{const} \textcolor{keyword}{auto} threadSize = \mbox{\hyperlink{class_uni_engine_1_1_job_manager_aefac109eb33c353bd75eee0183ce6b58}{JobManager::PrimaryWorkers}}().\mbox{\hyperlink{class_uni_engine_1_1_thread_pool_a9a0eda36af0e6fea899b761810863142}{Size}}();}
\DoxyCodeLine{2736     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < threadSize; i++)}
\DoxyCodeLine{2737     \{}
\DoxyCodeLine{2738         collectedDataLists.push\_back(std::vector<T2>());}
\DoxyCodeLine{2739     \}}
\DoxyCodeLine{2740     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < collectedDataLists.size(); i++)}
\DoxyCodeLine{2741     \{}
\DoxyCodeLine{2742         std::vector<T2> *collectedDataList = \&collectedDataLists[i];}
\DoxyCodeLine{2743         futures.push\_back(}
\DoxyCodeLine{2744             \mbox{\hyperlink{class_uni_engine_1_1_job_manager_aefac109eb33c353bd75eee0183ce6b58}{JobManager::PrimaryWorkers}}()}
\DoxyCodeLine{2745                 .Push([\&targetDataList, \&componentDataList, size, filter, collectedDataList, i, threadSize](\textcolor{keywordtype}{int} \textcolor{keywordtype}{id}) \{}
\DoxyCodeLine{2746                     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j = 0; j < size / threadSize; j++)}
\DoxyCodeLine{2747                     \{}
\DoxyCodeLine{2748                         \textcolor{keywordflow}{if} (filter == componentDataList[j * threadSize + i])}
\DoxyCodeLine{2749                         \{}
\DoxyCodeLine{2750                             collectedDataList-\/>push\_back(targetDataList[j * threadSize + i]);}
\DoxyCodeLine{2751                         \}}
\DoxyCodeLine{2752                     \}}
\DoxyCodeLine{2753                 \})}
\DoxyCodeLine{2754                 .share());}
\DoxyCodeLine{2755     \}}
\DoxyCodeLine{2756     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto} \&i : futures)}
\DoxyCodeLine{2757         i.wait();}
\DoxyCodeLine{2758     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < collectedDataLists.size(); i++)}
\DoxyCodeLine{2759     \{}
\DoxyCodeLine{2760         \textcolor{keyword}{auto} listSize = collectedDataLists[i].size();}
\DoxyCodeLine{2761         \textcolor{keywordflow}{if} (listSize == 0)}
\DoxyCodeLine{2762             \textcolor{keywordflow}{continue};}
\DoxyCodeLine{2763         container.resize(container.size() + listSize);}
\DoxyCodeLine{2764         memcpy(\&container.at(container.size() -\/ listSize), collectedDataLists[i].data(), listSize * \textcolor{keyword}{sizeof}(T2));}
\DoxyCodeLine{2765     \}}
\DoxyCodeLine{2766 }
\DoxyCodeLine{2767     \textcolor{keyword}{const} \textcolor{keywordtype}{size\_t} remainder = size \% threadSize;}
\DoxyCodeLine{2768     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < remainder; i++)}
\DoxyCodeLine{2769     \{}
\DoxyCodeLine{2770         \textcolor{keywordflow}{if} (filter == componentDataList[size -\/ remainder + i])}
\DoxyCodeLine{2771         \{}
\DoxyCodeLine{2772             container.push\_back(targetDataList[size -\/ remainder + i]);}
\DoxyCodeLine{2773         \}}
\DoxyCodeLine{2774     \}}
\DoxyCodeLine{2775 \}}
\DoxyCodeLine{2776 }
\DoxyCodeLine{2777 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T1>}
\DoxyCodeLine{2778 \textcolor{keywordtype}{void} EntityManager::GetEntityArray(}
\DoxyCodeLine{2779     \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene,}
\DoxyCodeLine{2780     \textcolor{keyword}{const} EntityQuery \&entityQuery,}
\DoxyCodeLine{2781     std::vector<Entity> \&container,}
\DoxyCodeLine{2782     \textcolor{keyword}{const} std::function<\textcolor{keywordtype}{bool}(\textcolor{keyword}{const} Entity \&, \textcolor{keyword}{const} T1 \&)> \&filterFunc,}
\DoxyCodeLine{2783     \textcolor{keywordtype}{bool} checkEnable)}
\DoxyCodeLine{2784 \{}
\DoxyCodeLine{2785     assert(entityQuery.IsValid());}
\DoxyCodeLine{2786     std::vector<Entity> allEntities;}
\DoxyCodeLine{2787     std::vector<T1> componentDataList;}
\DoxyCodeLine{2788     GetEntityArray(scene, entityQuery, allEntities, checkEnable);}
\DoxyCodeLine{2789     GetComponentDataArray(entityQuery, componentDataList, checkEnable);}
\DoxyCodeLine{2790     \textcolor{keywordflow}{if} (allEntities.size() != componentDataList.size())}
\DoxyCodeLine{2791         \textcolor{keywordflow}{return};}
\DoxyCodeLine{2792     std::vector<std::shared\_future<void>> futures;}
\DoxyCodeLine{2793     \textcolor{keywordtype}{size\_t} size = allEntities.size();}
\DoxyCodeLine{2794     std::vector<std::vector<Entity>> collectedEntityLists;}
\DoxyCodeLine{2795     \textcolor{keyword}{const} \textcolor{keyword}{auto} threadSize = \mbox{\hyperlink{class_uni_engine_1_1_job_manager_aefac109eb33c353bd75eee0183ce6b58}{JobManager::PrimaryWorkers}}().\mbox{\hyperlink{class_uni_engine_1_1_thread_pool_a9a0eda36af0e6fea899b761810863142}{Size}}();}
\DoxyCodeLine{2796     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < threadSize; i++)}
\DoxyCodeLine{2797     \{}
\DoxyCodeLine{2798         collectedEntityLists.push\_back(std::vector<Entity>());}
\DoxyCodeLine{2799     \}}
\DoxyCodeLine{2800     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < collectedEntityLists.size(); i++)}
\DoxyCodeLine{2801     \{}
\DoxyCodeLine{2802         std::vector<Entity> *collectedEntityList = \&collectedEntityLists[i];}
\DoxyCodeLine{2803         futures.push\_back(}
\DoxyCodeLine{2804             \mbox{\hyperlink{class_uni_engine_1_1_job_manager_aefac109eb33c353bd75eee0183ce6b58}{JobManager::PrimaryWorkers}}()}
\DoxyCodeLine{2805                 .Push([\&allEntities, \&componentDataList, size, collectedEntityList, i, filterFunc, threadSize](\textcolor{keywordtype}{int} \textcolor{keywordtype}{id}) \{}
\DoxyCodeLine{2806                     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j = 0; j < size / threadSize; j++)}
\DoxyCodeLine{2807                     \{}
\DoxyCodeLine{2808                         \textcolor{keywordflow}{if} (filterFunc(allEntities[j * threadSize + i], componentDataList[j * threadSize + i]))}
\DoxyCodeLine{2809                         \{}
\DoxyCodeLine{2810                             collectedEntityList-\/>push\_back(allEntities[j * threadSize + i]);}
\DoxyCodeLine{2811                         \}}
\DoxyCodeLine{2812                     \}}
\DoxyCodeLine{2813                 \})}
\DoxyCodeLine{2814                 .share());}
\DoxyCodeLine{2815     \}}
\DoxyCodeLine{2816     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto} \&i : futures)}
\DoxyCodeLine{2817         i.wait();}
\DoxyCodeLine{2818     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < collectedEntityLists.size(); i++)}
\DoxyCodeLine{2819     \{}
\DoxyCodeLine{2820         \textcolor{keyword}{const} \textcolor{keyword}{auto} listSize = collectedEntityLists[i].size();}
\DoxyCodeLine{2821         \textcolor{keywordflow}{if} (listSize == 0)}
\DoxyCodeLine{2822             \textcolor{keywordflow}{continue};}
\DoxyCodeLine{2823         container.resize(container.size() + listSize);}
\DoxyCodeLine{2824         memcpy(\&container.at(container.size() -\/ listSize), collectedEntityLists[i].data(), listSize * \textcolor{keyword}{sizeof}(\mbox{\hyperlink{class_uni_engine_1_1_entity_manager_a4de4c6926260be1262f425df15fc9c82}{Entity}}));}
\DoxyCodeLine{2825     \}}
\DoxyCodeLine{2826 }
\DoxyCodeLine{2827     \textcolor{keyword}{const} \textcolor{keywordtype}{size\_t} remainder = size \% threadSize;}
\DoxyCodeLine{2828     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < remainder; i++)}
\DoxyCodeLine{2829     \{}
\DoxyCodeLine{2830         \textcolor{keywordflow}{if} (filterFunc(allEntities[size -\/ remainder + i], componentDataList[size -\/ remainder + i]))}
\DoxyCodeLine{2831         \{}
\DoxyCodeLine{2832             container.push\_back(allEntities[size -\/ remainder + i]);}
\DoxyCodeLine{2833         \}}
\DoxyCodeLine{2834     \}}
\DoxyCodeLine{2835 \}}
\DoxyCodeLine{2836 }
\DoxyCodeLine{2837 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T1, \textcolor{keyword}{typename} T2>}
\DoxyCodeLine{2838 \textcolor{keywordtype}{void} EntityManager::GetEntityArray(}
\DoxyCodeLine{2839     \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene,}
\DoxyCodeLine{2840     \textcolor{keyword}{const} EntityQuery \&entityQuery,}
\DoxyCodeLine{2841     std::vector<Entity> \&container,}
\DoxyCodeLine{2842     \textcolor{keyword}{const} std::function<\textcolor{keywordtype}{bool}(\textcolor{keyword}{const} Entity \&, \textcolor{keyword}{const} T1 \&, \textcolor{keyword}{const} T2 \&)> \&filterFunc,}
\DoxyCodeLine{2843     \textcolor{keywordtype}{bool} checkEnable)}
\DoxyCodeLine{2844 \{}
\DoxyCodeLine{2845     assert(entityQuery.IsValid());}
\DoxyCodeLine{2846     std::vector<Entity> allEntities;}
\DoxyCodeLine{2847     std::vector<T1> componentDataList1;}
\DoxyCodeLine{2848     std::vector<T2> componentDataList2;}
\DoxyCodeLine{2849     GetEntityArray(scene, entityQuery, allEntities, checkEnable);}
\DoxyCodeLine{2850     GetComponentDataArray(entityQuery, componentDataList1, checkEnable);}
\DoxyCodeLine{2851     GetComponentDataArray(entityQuery, componentDataList2, checkEnable);}
\DoxyCodeLine{2852     \textcolor{keywordflow}{if} (allEntities.size() != componentDataList1.size() || componentDataList1.size() != componentDataList2.size())}
\DoxyCodeLine{2853         \textcolor{keywordflow}{return};}
\DoxyCodeLine{2854     std::vector<std::shared\_future<void>> futures;}
\DoxyCodeLine{2855     \textcolor{keywordtype}{size\_t} size = allEntities.size();}
\DoxyCodeLine{2856     std::vector<std::vector<Entity>> collectedEntityLists;}
\DoxyCodeLine{2857     \textcolor{keyword}{const} \textcolor{keyword}{auto} threadSize = \mbox{\hyperlink{class_uni_engine_1_1_job_manager_aefac109eb33c353bd75eee0183ce6b58}{JobManager::PrimaryWorkers}}().\mbox{\hyperlink{class_uni_engine_1_1_thread_pool_a9a0eda36af0e6fea899b761810863142}{Size}}();}
\DoxyCodeLine{2858     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < threadSize; i++)}
\DoxyCodeLine{2859     \{}
\DoxyCodeLine{2860         collectedEntityLists.push\_back(std::vector<Entity>());}
\DoxyCodeLine{2861     \}}
\DoxyCodeLine{2862     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < collectedEntityLists.size(); i++)}
\DoxyCodeLine{2863     \{}
\DoxyCodeLine{2864         std::vector<Entity> *collectedEntityList = \&collectedEntityLists[i];}
\DoxyCodeLine{2865         futures.push\_back(\mbox{\hyperlink{class_uni_engine_1_1_job_manager_aefac109eb33c353bd75eee0183ce6b58}{JobManager::PrimaryWorkers}}()}
\DoxyCodeLine{2866                               .Push([=, \&allEntities, \&componentDataList1, \&componentDataList2](\textcolor{keywordtype}{int} \textcolor{keywordtype}{id}) \{}
\DoxyCodeLine{2867                                   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j = 0; j < size / threadSize; j++)}
\DoxyCodeLine{2868                                   \{}
\DoxyCodeLine{2869                                       \textcolor{keywordflow}{if} (filterFunc(}
\DoxyCodeLine{2870                                               allEntities[j * threadSize + i],}
\DoxyCodeLine{2871                                               componentDataList1[j * threadSize + i],}
\DoxyCodeLine{2872                                               componentDataList2[j * threadSize + i]))}
\DoxyCodeLine{2873                                       \{}
\DoxyCodeLine{2874                                           collectedEntityList-\/>push\_back(allEntities[j * threadSize + i]);}
\DoxyCodeLine{2875                                       \}}
\DoxyCodeLine{2876                                   \}}
\DoxyCodeLine{2877                               \})}
\DoxyCodeLine{2878                               .share());}
\DoxyCodeLine{2879     \}}
\DoxyCodeLine{2880     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto} \&i : futures)}
\DoxyCodeLine{2881         i.wait();}
\DoxyCodeLine{2882     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < collectedEntityLists.size(); i++)}
\DoxyCodeLine{2883     \{}
\DoxyCodeLine{2884         \textcolor{keyword}{const} \textcolor{keyword}{auto} listSize = collectedEntityLists[i].size();}
\DoxyCodeLine{2885         \textcolor{keywordflow}{if} (listSize == 0)}
\DoxyCodeLine{2886             \textcolor{keywordflow}{continue};}
\DoxyCodeLine{2887         container.resize(container.size() + listSize);}
\DoxyCodeLine{2888         memcpy(\&container.at(container.size() -\/ listSize), collectedEntityLists[i].data(), listSize * \textcolor{keyword}{sizeof}(\mbox{\hyperlink{class_uni_engine_1_1_entity_manager_a4de4c6926260be1262f425df15fc9c82}{Entity}}));}
\DoxyCodeLine{2889     \}}
\DoxyCodeLine{2890 }
\DoxyCodeLine{2891     \textcolor{keyword}{const} \textcolor{keywordtype}{size\_t} remainder = size \% threadSize;}
\DoxyCodeLine{2892     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < remainder; i++)}
\DoxyCodeLine{2893     \{}
\DoxyCodeLine{2894         \textcolor{keywordflow}{if} (filterFunc(}
\DoxyCodeLine{2895                 allEntities[size -\/ remainder + i],}
\DoxyCodeLine{2896                 componentDataList1[size -\/ remainder + i],}
\DoxyCodeLine{2897                 componentDataList2[size -\/ remainder + i]))}
\DoxyCodeLine{2898         \{}
\DoxyCodeLine{2899             container.push\_back(allEntities[size -\/ remainder + i]);}
\DoxyCodeLine{2900         \}}
\DoxyCodeLine{2901     \}}
\DoxyCodeLine{2902 \}}
\DoxyCodeLine{2903 }
\DoxyCodeLine{2904 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T1>}
\DoxyCodeLine{2905 \textcolor{keywordtype}{void} EntityManager::GetEntityArray(}
\DoxyCodeLine{2906     \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene,}
\DoxyCodeLine{2907     \textcolor{keyword}{const} EntityQuery \&entityQuery,}
\DoxyCodeLine{2908     \textcolor{keyword}{const} T1 \&filter,}
\DoxyCodeLine{2909     std::vector<Entity> \&container,}
\DoxyCodeLine{2910     \textcolor{keywordtype}{bool} checkEnable)}
\DoxyCodeLine{2911 \{}
\DoxyCodeLine{2912     assert(entityQuery.IsValid());}
\DoxyCodeLine{2913     std::vector<Entity> allEntities;}
\DoxyCodeLine{2914     std::vector<T1> componentDataList;}
\DoxyCodeLine{2915     GetEntityArray(scene, entityQuery, allEntities, checkEnable);}
\DoxyCodeLine{2916     GetComponentDataArray(entityQuery, componentDataList, checkEnable);}
\DoxyCodeLine{2917     std::vector<std::shared\_future<void>> futures;}
\DoxyCodeLine{2918     \textcolor{keywordtype}{size\_t} size = allEntities.size();}
\DoxyCodeLine{2919     std::vector<std::vector<Entity>> collectedEntityLists;}
\DoxyCodeLine{2920     \textcolor{keyword}{const} \textcolor{keyword}{auto} threadSize = \mbox{\hyperlink{class_uni_engine_1_1_job_manager_aefac109eb33c353bd75eee0183ce6b58}{JobManager::PrimaryWorkers}}().\mbox{\hyperlink{class_uni_engine_1_1_thread_pool_a9a0eda36af0e6fea899b761810863142}{Size}}();}
\DoxyCodeLine{2921     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < threadSize; i++)}
\DoxyCodeLine{2922     \{}
\DoxyCodeLine{2923         collectedEntityLists.push\_back(std::vector<Entity>());}
\DoxyCodeLine{2924     \}}
\DoxyCodeLine{2925     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < collectedEntityLists.size(); i++)}
\DoxyCodeLine{2926     \{}
\DoxyCodeLine{2927         std::vector<Entity> *collectedEntityList = \&collectedEntityLists[i];}
\DoxyCodeLine{2928         futures.push\_back(}
\DoxyCodeLine{2929             \mbox{\hyperlink{class_uni_engine_1_1_job_manager_aefac109eb33c353bd75eee0183ce6b58}{JobManager::PrimaryWorkers}}()}
\DoxyCodeLine{2930                 .Push([\&allEntities, \&componentDataList, size, filter, collectedEntityList, i, threadSize](\textcolor{keywordtype}{int} \textcolor{keywordtype}{id}) \{}
\DoxyCodeLine{2931                     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j = 0; j < size / threadSize; j++)}
\DoxyCodeLine{2932                     \{}
\DoxyCodeLine{2933                         \textcolor{keywordflow}{if} (filter == componentDataList[j * threadSize + i])}
\DoxyCodeLine{2934                         \{}
\DoxyCodeLine{2935                             collectedEntityList-\/>push\_back(allEntities[j * threadSize + i]);}
\DoxyCodeLine{2936                         \}}
\DoxyCodeLine{2937                     \}}
\DoxyCodeLine{2938                 \})}
\DoxyCodeLine{2939                 .share());}
\DoxyCodeLine{2940     \}}
\DoxyCodeLine{2941     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto} \&i : futures)}
\DoxyCodeLine{2942         i.wait();}
\DoxyCodeLine{2943     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < collectedEntityLists.size(); i++)}
\DoxyCodeLine{2944     \{}
\DoxyCodeLine{2945         \textcolor{keyword}{const} \textcolor{keyword}{auto} listSize = collectedEntityLists[i].size();}
\DoxyCodeLine{2946         \textcolor{keywordflow}{if} (listSize == 0)}
\DoxyCodeLine{2947             \textcolor{keywordflow}{continue};}
\DoxyCodeLine{2948         container.resize(container.size() + listSize);}
\DoxyCodeLine{2949         memcpy(\&container.at(container.size() -\/ listSize), collectedEntityLists[i].data(), listSize * \textcolor{keyword}{sizeof}(\mbox{\hyperlink{class_uni_engine_1_1_entity_manager_a4de4c6926260be1262f425df15fc9c82}{Entity}}));}
\DoxyCodeLine{2950     \}}
\DoxyCodeLine{2951 }
\DoxyCodeLine{2952     \textcolor{keyword}{const} \textcolor{keywordtype}{size\_t} remainder = size \% threadSize;}
\DoxyCodeLine{2953     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < remainder; i++)}
\DoxyCodeLine{2954     \{}
\DoxyCodeLine{2955         \textcolor{keywordflow}{if} (filter == componentDataList[size -\/ remainder + i])}
\DoxyCodeLine{2956         \{}
\DoxyCodeLine{2957             container.push\_back(allEntities[size -\/ remainder + i]);}
\DoxyCodeLine{2958         \}}
\DoxyCodeLine{2959     \}}
\DoxyCodeLine{2960 \}}
\DoxyCodeLine{2961 }
\DoxyCodeLine{2962 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{2963 std::vector<std::pair<T *, size\_t>> \mbox{\hyperlink{class_uni_engine_1_1_entity_manager_a31ebb0adf2771e356b6839f6ba893533}{EntityManager::UnsafeGetDataComponentArray}}(}
\DoxyCodeLine{2964     \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene, \textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity_query}{EntityQuery}} \&entityQuery)}
\DoxyCodeLine{2965 \{}
\DoxyCodeLine{2966     std::vector<std::pair<T *, size\_t>> retVal;}
\DoxyCodeLine{2967     assert(entityQuery.\mbox{\hyperlink{struct_uni_engine_1_1_entity_query_ae4869830693acd358bdd8520952b89ba}{IsValid}}());}
\DoxyCodeLine{2968     \textcolor{keyword}{auto} queriedStorages = QueryDataComponentStorages(scene, entityQuery);}
\DoxyCodeLine{2969     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto} storage : queriedStorages)}
\DoxyCodeLine{2970     \{}
\DoxyCodeLine{2971         \textcolor{keyword}{auto} \&i = storage.get();}
\DoxyCodeLine{2972         \textcolor{keyword}{auto} targetType = Typeof<T>();}
\DoxyCodeLine{2973         \textcolor{keyword}{const} \textcolor{keyword}{auto} entityCount = i.m\_entityAliveCount;}
\DoxyCodeLine{2974         \textcolor{keyword}{auto} found = \textcolor{keyword}{false};}
\DoxyCodeLine{2975         \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto} \&type : i.m\_dataComponentTypes)}
\DoxyCodeLine{2976         \{}
\DoxyCodeLine{2977             \textcolor{keywordflow}{if} (type.m\_typeId == targetType.m\_typeId)}
\DoxyCodeLine{2978             \{}
\DoxyCodeLine{2979                 targetType = type;}
\DoxyCodeLine{2980                 found = \textcolor{keyword}{true};}
\DoxyCodeLine{2981             \}}
\DoxyCodeLine{2982         \}}
\DoxyCodeLine{2983         \textcolor{keywordflow}{if} (!found)}
\DoxyCodeLine{2984             \textcolor{keywordflow}{continue};}
\DoxyCodeLine{2985         \textcolor{keyword}{const} \textcolor{keyword}{auto} capacity = i.m\_chunkCapacity;}
\DoxyCodeLine{2986         \textcolor{keyword}{const} \textcolor{keyword}{auto} \&chunkArray = i.m\_chunkArray;}
\DoxyCodeLine{2987         \textcolor{keyword}{const} \textcolor{keyword}{auto} chunkSize = entityCount / capacity;}
\DoxyCodeLine{2988         \textcolor{keyword}{const} \textcolor{keyword}{auto} chunkReminder = entityCount \% capacity;}
\DoxyCodeLine{2989         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} chunkIndex = 0; chunkIndex < chunkSize; chunkIndex++)}
\DoxyCodeLine{2990         \{}
\DoxyCodeLine{2991             \textcolor{keyword}{auto} *data = \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{char} *\textcolor{keyword}{>}(chunkArray.m\_chunks[chunkIndex].m\_data);}
\DoxyCodeLine{2992             T *ptr = \textcolor{keyword}{reinterpret\_cast<}T *\textcolor{keyword}{>}(data + targetType.m\_offset * capacity);}
\DoxyCodeLine{2993             retVal.emplace\_back(ptr, capacity);}
\DoxyCodeLine{2994         \}}
\DoxyCodeLine{2995         \textcolor{keywordflow}{if} (chunkReminder > 0)}
\DoxyCodeLine{2996         \{}
\DoxyCodeLine{2997             \textcolor{keyword}{auto} *data = \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{char} *\textcolor{keyword}{>}(chunkArray.m\_chunks[chunkSize].m\_data);}
\DoxyCodeLine{2998             T *ptr = \textcolor{keyword}{reinterpret\_cast<}T *\textcolor{keyword}{>}(data + targetType.m\_offset * capacity);}
\DoxyCodeLine{2999             retVal.emplace\_back(ptr, chunkReminder);}
\DoxyCodeLine{3000         \}}
\DoxyCodeLine{3001     \}}
\DoxyCodeLine{3002     \textcolor{keywordflow}{return} retVal;}
\DoxyCodeLine{3003 \}}
\DoxyCodeLine{3004 }
\DoxyCodeLine{3005 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{3006 \textcolor{keyword}{const} std::vector<Entity> *\mbox{\hyperlink{class_uni_engine_1_1_entity_manager_aa6913e0642d3276f399e2b29f5d400ac}{EntityManager::UnsafeGetPrivateComponentOwnersList}}(\textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene)}
\DoxyCodeLine{3007 \{}
\DoxyCodeLine{3008     \textcolor{keyword}{auto} \&entityManager = \mbox{\hyperlink{class_uni_engine_1_1_i_singleton_a3be306028874b8da62357fe83aa7e915}{GetInstance}}();}
\DoxyCodeLine{3009 }
\DoxyCodeLine{3010     \textcolor{keywordflow}{if} (!scene)}
\DoxyCodeLine{3011     \{}
\DoxyCodeLine{3012         \textcolor{keywordflow}{return} \textcolor{keyword}{nullptr};}
\DoxyCodeLine{3013     \}}
\DoxyCodeLine{3014     \textcolor{keywordflow}{return} scene-\/>m\_sceneDataStorage.m\_entityPrivateComponentStorage.UnsafeGetOwnersList<T>();}
\DoxyCodeLine{3015 \}}
\DoxyCodeLine{3016 }
\DoxyCodeLine{3017 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T> \textcolor{keywordtype}{void} \mbox{\hyperlink{struct_uni_engine_1_1_entity_a2b3f1cc9127478f843d604caf5546bec}{Entity::SetDataComponent}}(\textcolor{keyword}{const} T \&value)\textcolor{keyword}{ const}}
\DoxyCodeLine{3018 \textcolor{keyword}{}\{}
\DoxyCodeLine{3019     EntityManager::SetDataComponent(\mbox{\hyperlink{class_uni_engine_1_1_entity_manager_a7224da131783cd41e49e6f1225316c01}{EntityManager::GetCurrentScene}}(), *\textcolor{keyword}{this}, value);}
\DoxyCodeLine{3020 \}}
\DoxyCodeLine{3021 }
\DoxyCodeLine{3022 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T> T \mbox{\hyperlink{struct_uni_engine_1_1_entity_a49896263704e3cb3bbf43909f302bf37}{Entity::GetDataComponent}}()\textcolor{keyword}{ const}}
\DoxyCodeLine{3023 \textcolor{keyword}{}\{}
\DoxyCodeLine{3024     \textcolor{keywordflow}{return} std::move(EntityManager::GetDataComponent<T>(\mbox{\hyperlink{class_uni_engine_1_1_entity_manager_a7224da131783cd41e49e6f1225316c01}{EntityManager::GetCurrentScene}}(), *\textcolor{keyword}{this}));}
\DoxyCodeLine{3025 \}}
\DoxyCodeLine{3026 }
\DoxyCodeLine{3027 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T> \textcolor{keywordtype}{bool} \mbox{\hyperlink{struct_uni_engine_1_1_entity_a6bedce88e7ed40abc8a8dba574cf0d08}{Entity::HasDataComponent}}()\textcolor{keyword}{ const}}
\DoxyCodeLine{3028 \textcolor{keyword}{}\{}
\DoxyCodeLine{3029     \textcolor{keywordflow}{return} EntityManager::HasDataComponent<T>(\mbox{\hyperlink{class_uni_engine_1_1_entity_manager_a7224da131783cd41e49e6f1225316c01}{EntityManager::GetCurrentScene}}(), *\textcolor{keyword}{this});}
\DoxyCodeLine{3030 \}}
\DoxyCodeLine{3031 }
\DoxyCodeLine{3032 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T> std::weak\_ptr<T> \mbox{\hyperlink{struct_uni_engine_1_1_entity_addb4214dfdff5d05a9c055734d6c0834}{Entity::GetOrSetPrivateComponent}}()\textcolor{keyword}{ const}}
\DoxyCodeLine{3033 \textcolor{keyword}{}\{}
\DoxyCodeLine{3034     \textcolor{keywordflow}{return} std::move(EntityManager::GetOrSetPrivateComponent<T>(\mbox{\hyperlink{class_uni_engine_1_1_entity_manager_a7224da131783cd41e49e6f1225316c01}{EntityManager::GetCurrentScene}}(), *\textcolor{keyword}{this}));}
\DoxyCodeLine{3035 \}}
\DoxyCodeLine{3036 }
\DoxyCodeLine{3037 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T> \textcolor{keywordtype}{void} \mbox{\hyperlink{struct_uni_engine_1_1_entity_acce0ab0147bd5c3efb4b6c68d30d1da1}{Entity::RemovePrivateComponent}}()\textcolor{keyword}{ const}}
\DoxyCodeLine{3038 \textcolor{keyword}{}\{}
\DoxyCodeLine{3039     EntityManager::RemovePrivateComponent<T>(\mbox{\hyperlink{class_uni_engine_1_1_entity_manager_a7224da131783cd41e49e6f1225316c01}{EntityManager::GetCurrentScene}}(), *\textcolor{keyword}{this});}
\DoxyCodeLine{3040 \}}
\DoxyCodeLine{3041 }
\DoxyCodeLine{3042 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T> \textcolor{keywordtype}{bool} \mbox{\hyperlink{struct_uni_engine_1_1_entity_a8e0a089a1c16d54896298ef5349ef819}{Entity::HasPrivateComponent}}()\textcolor{keyword}{ const}}
\DoxyCodeLine{3043 \textcolor{keyword}{}\{}
\DoxyCodeLine{3044     \textcolor{keywordflow}{return} EntityManager::HasPrivateComponent<T>(\mbox{\hyperlink{class_uni_engine_1_1_entity_manager_a7224da131783cd41e49e6f1225316c01}{EntityManager::GetCurrentScene}}(), *\textcolor{keyword}{this});}
\DoxyCodeLine{3045 \}}
\DoxyCodeLine{3046 }
\DoxyCodeLine{3047 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T> T \mbox{\hyperlink{struct_uni_engine_1_1_component_data_chunk_af21150ef1ec574ed7e3cf80d01695e06}{ComponentDataChunk::GetData}}(\textcolor{keyword}{const} \textcolor{keywordtype}{size\_t} \&offset)}
\DoxyCodeLine{3048 \{}
\DoxyCodeLine{3049     \textcolor{keywordflow}{return} T(*\textcolor{keyword}{reinterpret\_cast<}T *\textcolor{keyword}{>}(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{char} *\textcolor{keyword}{>}(\mbox{\hyperlink{struct_uni_engine_1_1_component_data_chunk_ac905a55c78e9c3797c005f95ee6d3645}{m\_data}}) + offset));}
\DoxyCodeLine{3050 \}}
\DoxyCodeLine{3051 }
\DoxyCodeLine{3052 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T> \textcolor{keywordtype}{void} \mbox{\hyperlink{struct_uni_engine_1_1_component_data_chunk_ac24d87ffae6a8fbabb6d8453eb3527fe}{ComponentDataChunk::SetData}}(\textcolor{keyword}{const} \textcolor{keywordtype}{size\_t} \&offset, \textcolor{keyword}{const} T \&data)}
\DoxyCodeLine{3053 \{}
\DoxyCodeLine{3054     *\textcolor{keyword}{reinterpret\_cast<}T *\textcolor{keyword}{>}(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{char} *\textcolor{keyword}{>}(\mbox{\hyperlink{struct_uni_engine_1_1_component_data_chunk_ac905a55c78e9c3797c005f95ee6d3645}{m\_data}}) + offset) = data;}
\DoxyCodeLine{3055 \}}
\DoxyCodeLine{3056 }
\DoxyCodeLine{3057 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T, \textcolor{keyword}{typename}... Ts> \textcolor{keywordtype}{void} \mbox{\hyperlink{struct_uni_engine_1_1_entity_query_aa9915fb92973f8481aeff698bfc52a22}{EntityQuery::SetAllFilters}}(T arg, Ts... args)}
\DoxyCodeLine{3058 \{}
\DoxyCodeLine{3059     EntityManager::SetEntityQueryAllFilters(*\textcolor{keyword}{this}, arg, args...);}
\DoxyCodeLine{3060 \}}
\DoxyCodeLine{3061 }
\DoxyCodeLine{3062 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T, \textcolor{keyword}{typename}... Ts> \textcolor{keywordtype}{void} \mbox{\hyperlink{struct_uni_engine_1_1_entity_query_aacdc50a2a29846cfec00265f71478ace}{EntityQuery::SetAnyFilters}}(T arg, Ts... args)}
\DoxyCodeLine{3063 \{}
\DoxyCodeLine{3064     EntityManager::SetEntityQueryAnyFilters(*\textcolor{keyword}{this}, arg, args...);}
\DoxyCodeLine{3065 \}}
\DoxyCodeLine{3066 }
\DoxyCodeLine{3067 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T, \textcolor{keyword}{typename}... Ts> \textcolor{keywordtype}{void} \mbox{\hyperlink{struct_uni_engine_1_1_entity_query_aae04996ff23749374a02acb5b97304f3}{EntityQuery::SetNoneFilters}}(T arg, Ts... args)}
\DoxyCodeLine{3068 \{}
\DoxyCodeLine{3069     EntityManager::SetEntityQueryNoneFilters(*\textcolor{keyword}{this}, arg, args...);}
\DoxyCodeLine{3070 \}}
\DoxyCodeLine{3071 }
\DoxyCodeLine{3072 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T1>}
\DoxyCodeLine{3073 \textcolor{keywordtype}{void} \mbox{\hyperlink{struct_uni_engine_1_1_entity_query_a2c0732418f88510833053309d1408789}{EntityQuery::ToComponentDataArray}}(}
\DoxyCodeLine{3074     \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene, std::vector<T1> \&container, \textcolor{keywordtype}{bool} checkEnable)}
\DoxyCodeLine{3075 \{}
\DoxyCodeLine{3076     EntityManager::GetComponentDataArray<T1>(scene, *\textcolor{keyword}{this}, container, checkEnable);}
\DoxyCodeLine{3077 \}}
\DoxyCodeLine{3078 }
\DoxyCodeLine{3079 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T1, \textcolor{keyword}{typename} T2>}
\DoxyCodeLine{3080 \textcolor{keywordtype}{void} \mbox{\hyperlink{struct_uni_engine_1_1_entity_query_a2c0732418f88510833053309d1408789}{EntityQuery::ToComponentDataArray}}(}
\DoxyCodeLine{3081     \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene,}
\DoxyCodeLine{3082     std::vector<T1> \&container,}
\DoxyCodeLine{3083     \textcolor{keyword}{const} std::function<\textcolor{keywordtype}{bool}(\textcolor{keyword}{const} T2 \&)> \&filterFunc,}
\DoxyCodeLine{3084     \textcolor{keywordtype}{bool} checkEnable)}
\DoxyCodeLine{3085 \{}
\DoxyCodeLine{3086     EntityManager::GetComponentDataArray(scene, *\textcolor{keyword}{this}, container, filterFunc, checkEnable);}
\DoxyCodeLine{3087 \}}
\DoxyCodeLine{3088 }
\DoxyCodeLine{3089 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T1, \textcolor{keyword}{typename} T2, \textcolor{keyword}{typename} T3>}
\DoxyCodeLine{3090 \textcolor{keywordtype}{void} \mbox{\hyperlink{struct_uni_engine_1_1_entity_query_a2c0732418f88510833053309d1408789}{EntityQuery::ToComponentDataArray}}(}
\DoxyCodeLine{3091     \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene,}
\DoxyCodeLine{3092     std::vector<T1> \&container,}
\DoxyCodeLine{3093     \textcolor{keyword}{const} std::function<\textcolor{keywordtype}{bool}(\textcolor{keyword}{const} T2 \&, \textcolor{keyword}{const} T3 \&)> \&filterFunc,}
\DoxyCodeLine{3094     \textcolor{keywordtype}{bool} checkEnable)}
\DoxyCodeLine{3095 \{}
\DoxyCodeLine{3096     EntityManager::GetComponentDataArray(scene, *\textcolor{keyword}{this}, container, filterFunc, checkEnable);}
\DoxyCodeLine{3097 \}}
\DoxyCodeLine{3098 }
\DoxyCodeLine{3099 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T1, \textcolor{keyword}{typename} T2>}
\DoxyCodeLine{3100 \textcolor{keywordtype}{void} \mbox{\hyperlink{struct_uni_engine_1_1_entity_query_a2c0732418f88510833053309d1408789}{EntityQuery::ToComponentDataArray}}(}
\DoxyCodeLine{3101     \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene, \textcolor{keyword}{const} T1 \&filter, std::vector<T2> \&container, \textcolor{keywordtype}{bool} checkEnable)}
\DoxyCodeLine{3102 \{}
\DoxyCodeLine{3103     EntityManager::GetComponentDataArray(scene, *\textcolor{keyword}{this}, filter, container, checkEnable);}
\DoxyCodeLine{3104 \}}
\DoxyCodeLine{3105 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T1>}
\DoxyCodeLine{3106 \textcolor{keywordtype}{void} \mbox{\hyperlink{struct_uni_engine_1_1_entity_query_adcd3e98a548bb9ef9790fd5c3eeaab89}{EntityQuery::ToEntityArray}}(}
\DoxyCodeLine{3107     \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene, \textcolor{keyword}{const} T1 \&filter, std::vector<Entity> \&container, \textcolor{keywordtype}{bool} checkEnable)}
\DoxyCodeLine{3108 \{}
\DoxyCodeLine{3109     EntityManager::GetEntityArray(scene, *\textcolor{keyword}{this}, filter, container, checkEnable);}
\DoxyCodeLine{3110 \}}
\DoxyCodeLine{3111 }
\DoxyCodeLine{3112 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T1>}
\DoxyCodeLine{3113 \textcolor{keywordtype}{void} \mbox{\hyperlink{struct_uni_engine_1_1_entity_query_adcd3e98a548bb9ef9790fd5c3eeaab89}{EntityQuery::ToEntityArray}}(}
\DoxyCodeLine{3114     \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene,}
\DoxyCodeLine{3115     std::vector<Entity> \&container,}
\DoxyCodeLine{3116     \textcolor{keyword}{const} std::function<\textcolor{keywordtype}{bool}(\textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} \&, \textcolor{keyword}{const} T1 \&)> \&filterFunc,}
\DoxyCodeLine{3117     \textcolor{keywordtype}{bool} checkEnable)}
\DoxyCodeLine{3118 \{}
\DoxyCodeLine{3119     EntityManager::GetEntityArray<T1>(scene, *\textcolor{keyword}{this}, container, filterFunc, checkEnable);}
\DoxyCodeLine{3120 \}}
\DoxyCodeLine{3121 }
\DoxyCodeLine{3122 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T1, \textcolor{keyword}{typename} T2>}
\DoxyCodeLine{3123 \textcolor{keywordtype}{void} \mbox{\hyperlink{struct_uni_engine_1_1_entity_query_adcd3e98a548bb9ef9790fd5c3eeaab89}{EntityQuery::ToEntityArray}}(}
\DoxyCodeLine{3124     \textcolor{keyword}{const} std::shared\_ptr<Scene> \&scene,}
\DoxyCodeLine{3125     std::vector<Entity> \&container,}
\DoxyCodeLine{3126     \textcolor{keyword}{const} std::function<\textcolor{keywordtype}{bool}(\textcolor{keyword}{const} \mbox{\hyperlink{struct_uni_engine_1_1_entity}{Entity}} \&, \textcolor{keyword}{const} T1 \&, \textcolor{keyword}{const} T2 \&)> \&filterFunc,}
\DoxyCodeLine{3127     \textcolor{keywordtype}{bool} checkEnable)}
\DoxyCodeLine{3128 \{}
\DoxyCodeLine{3129     EntityManager::GetEntityArray<T1>(scene, *\textcolor{keyword}{this}, container, filterFunc, checkEnable);}
\DoxyCodeLine{3130 \}}
\DoxyCodeLine{3131 \textcolor{preprocessor}{\#pragma endregion}}
\DoxyCodeLine{3132 }
\DoxyCodeLine{3133 \} \textcolor{comment}{// namespace UniEngine}}

\end{DoxyCode}
